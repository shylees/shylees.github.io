---
title: 前端必须知道的开发调试知识 - 字节青训营
date: 2022/1/24
updated: 2022/1/24
comments:
tags:
 - js
 - 青训营
categories:
 - learningNotes
layout:
permalink:
meta: true
---


## 1. Bug 与 Debug

### 1.1 bug来源

### 1.2 bug 特点

+ 多平台：浏览器、hybrid、nodejs、小程序、桌面应用
+ 多环境：本地开发环境、线上环境
+ 多工具：chrome devtools、charles、spy-debugger、whistie、vconsole
+ 多技巧：console、breakpoint、sourceMap、代理

## 2. Chrome devTool

### 2.1 Elements – 修改元素和样式

> .cls 添加删除类名
>
> 右键元素 → fouce state → +- 伪类 / ：hov
> 对结点进行截图：元素右键 → capture node screenshot



### 2.2 Console – 日志页面

> 对 log 的值 进行 修改样式
>
> ~~~js
> console.log('%s %o,%c%s',
>          'hello',          // %s字符串 
>          {name:'tom'},     // o 对象
>          'color:red',      // c 样式？
>          'welcome')        // 
> 
> ~~~
>
> console.table 具象化 JSON 数据 转换为 table 格式 
>
> console.dir 树形结构



### 2.3 sources

1. 组成

   + 页面资源文件目录树

   + 代码预览区

   + debug 工具栏

     > 暂停 继续 断点间
     >
     > 单步跳过
     >
     > 进入函数
     >
     > 跳出函数
     >
     > 单步执行
     >
     > 激活 / 关闭 所有断电
     >
     > 代码执行异常处自动

   + 断点调试器

     > xhr/fetch ：当有请求发生时触发断点
     >
     > dom ：右键 break on，增删结点触发
     >
     > scope：作用域 closure 闭包
     >
     > call stack：调用栈 

2. 查看暂停下 变量的值：
   + breakPoint：debugger; 区域4 的 breakpoints 可以勾选 或 取消 可以打断点；直接鼠标移动可以查看值
   + 区域4 watch：点击 + 可以添加 变量 查看值

3. 压缩代码如何调试：

   + 用webpack压缩，在webpack.config.js 中 devtools：‘source-map’，

     > 多导出一个 bundle.js.map 把压缩的代码和源码进行映射
     >
     > + mappings 字段存储了源文件和source map 映射
     >   + 英文，表源码及压缩代码的位置关联
     >   + 逗号，分割一行的内容
     >   + 分号，换行
     >
     > 映射见：murzwin.com/base64vlqhtml
     >
     > source map 标准：docs.google.com/document/d/1URGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit

### 2.4 performance — 性能

1. 组成 — 开始录制页面  stop

   + 控制面板

   + 概览面板

     FPS：每秒帧数

     CPU：处理各个任务花费的时间

     NET：各个请求花费的时间

   + 线程面板

     Frames：帧线程

     Main：主线程、负责执行js，解析html css 完成绘制

     Raster：raster 线程，负责完成某个layer 或 某些块 tile 的绘制

   + 统计面板



### 2.5 Network — 请求相关

可以自定义网速

<img src="https://i.bmp.ovh/imgs/2022/01/38b5ba1f5f907e8d.png">



### 2.6 application — 本地存储相关

### 2.7 storage中点击 clean site data 清除缓存



## 3. 移动端 h5 调试

1. 真机调试：推荐扫码

2. 代理调试：

3. 常用工具：

   charles：适合查看、控制网络请求，分析数据

   fiddler：与上面类似，适合windows 平台

   spy-debugger：远程调试手机页面、抓包

   whistie：基于node实现的跨平台web调试代理工具



## 4. 常用开发技巧：

+ source：oversides，勾选，在修改后刷新会保留，右边竖三点，more tools -> change 面板会显示 修改的内容

+ 跨域问题：报 cors error 跨域错误

  使用代理工具

  代理：解决了同源策略的哪一项，为什么能解决跨域

  > 同源限制只显示了浏览器

  <img src="https://i.bmp.ovh/imgs/2022/01/20d4963af61cfd07.png">

+ 启用本地source map：

  可以把 source map 代理到本地

+ 前端埋点

+ 小黄鸭

