---
title: js获取元素
date: 2020/5/20
updated: 2020/5/20
comments:
tags:
 - js
categories:
 - learningNotes
layout:
permalink:
meta: true
---

### DOM事件流

  html中的标签都是相互嵌套的，我们可以将元素想象成一个盒子装一个盒子，document是最外面的大盒子。 当你单击一个div时，同时你也单击了div的父元素，甚至整个页面。

> 那么是先执行父元素的单击事件，还是先执行div的单击事件 ？？？

其实：

事件流 描述的是从页面中接收事件的顺序；

事件 发生时会在元素节点之间按照待定的顺序传播，这个传播过程就是 DOM 事件流

> 比如：我们给页面中的一个div注册了单击事件，当你单击了div时，也就单击了body，单击了html，单击了document。

<img src="https://s1.328888.xyz/2022/04/09/X1ZDZ.png">

#### 事件冒泡：

IE最早提出，事件开始时由最具体的元素接收，然后逐级向上传播到 DOM 最顶层节点的过程

#### 事件捕获：

网景最早提出，由DOM最顶层节点开始，然后逐层向下传播到最具体的元素接收的过程

>  当时的2大浏览器霸主谁也不服谁！
>
>  IE 提出从目标元素开始，然后一层一层向外接收事件并响应，也就是冒泡型事件流。
>
>  Netscape（网景公司）提出从最外层开始，然后一层一层向内接收事件并响应，也就是捕获型事件流。
>
>  最终，w3c 采用折中的方式，平息了战火，制定了统一的标准 —--— 先捕获再冒泡。
>
>  现代浏览器都遵循了此标准，所以当事件发生时，会经历3个阶段。



#### DOM 事件流会经历3个阶段： 

 

1. 捕获阶段

2. 当前目标阶段

3. 冒泡阶段 

>  我们向水里面扔一块石头，首先它会有一个下降的过程，这个过程就可以理解为从最顶层向事件发生的最具体元素（目标点）的捕获过程；之后会产生泡泡，会在最低点（ 最具体元素）之后漂浮到水面上，这个过程相当于事件冒泡。 

 <img src="https://s1.328888.xyz/2022/04/09/X1j3C.png">

<img src="https://s1.328888.xyz/2022/04/09/X1vEg.png" style="float:left">
