---
title: js事件操作
date: 2020/5/14
updated: 2020/5/16
comments:
tags:
 - js
categories:
 - learningNotes
layout:
permalink:
meta: true
---

### 1.改变元素内容

+ element.innerText 
  从起始位置到终止位置的内容，但它去除html标签，同时空格和换行也会去掉 

+ element.innerHTML 
  起始位置到终止位置的全部内容，包括html标签，同时保留空格和换行

+ innerText  和  innerHTML ：
  innerText  不识别 html 标签   非标准    去除空格和换行
  innerHTML  识别html代码  W3C标准   保留空格和换行
  
  这两个属性是可读写的  可以获取元素里的内容 

### 2.改变元素属性
`element.属性='属性值'`



### 3.表单元素的属性操作

（type、value、checked、selected、disabled禁用）

`input.type/value/checked/selected/disabled=''`


~~~js
	// <button>按钮<button>
	// <input type="text"  value="输入内容">
	//1.获取元素
	var btn=docunment.querySelector('button');
	var input=document.quertSelsector('input');
	//2.注册事件  处理程序
	btn.onclick=function(){
		//input.innerHTML='点击了'；这个是 普通盒子  比如标签里面的内容  
		//表单里面的值  文字内容是通过  value  来修改的
		input.value='被点击了'；
		//如果想要某个表单被禁用  disabled
		this.disabled=ture;//==btn.disabled=true;
		//this 指向的是事件函数的调用者
	}
~~~


### 4.样式属性操作
1. `element.style`   行内样式操作   样式少  功能简单
2. `element.className`  类名样式操作  多    样式多  功能复杂



#### 4.1 element.style

样式用驼峰命名法 比如fontSize    JS修改的style样式操作   产生行内样式 css权重较高   

~~~js
// div{  width:200px;  height:200px;  background-color:pink; }
<div></div>
//1.获取元素
var div=document.querySelector('div');
//2.
div.onclick=function(){
//div.style        
	this.style.backgroundColor='purple';
	this.style.width='250px';
}
~~~

#### 4.2 element.className        

覆盖所有类名

~~~js
.change{ .......  }
// <div class="first">文本<div>
var  test=document.querySelector('div');
text.onclick=function(){
	//当前元素的类名  改为change
	this.className='change';
	//if想保留原先类名  
	this.className='first  change';
}
~~~



### 5.操作元素之排他思想

~~~html
<button>按钮</button>
<button>按钮</button>
<button>按钮</button>
<button>按钮</button>
<button>按钮</button>
<script>
        //1.获取元素  
        var btns = document.querySelectorAll('button');
        //btns得到的是伪数组  里面的每一个元素 btns[i]
        for (var i = 0; i < btns.length; i++) {
            btns[i].onclick = function() {
                // console.log("第" +  + "被点击了");
                for (var i = 0; i < btns.length; i++) {
                    // btns[i].style.background = 'none';
                    btns[i].style.backgroundColor = '';

                }
                this.style.backgroundColor = 'pink';
            }
        }
</script>
~~~



### 6.自定义属性的操作 

 1.  获取属性值 

     `element.属性`： 内置的属性

     `element.getAttribute('属性') ` ：主要获取自定义属性

     

 2.  设置属性值

     `element.属性='值'`：主要内置属性

     `element.setAttribute('属性'，'值')`:  主要自定义属性

 3.  移除属性

     element.removeAttribute('属性');    

     

### 7. h5自定义属性

1. 设置h5自定义属性 

   > h5自定义属性data-开头作为属性名并且赋值    

    `<div data-index="1"></div>` / ` element.setAttribute('data-index',2);`

   

2. 获取h5自定义属性 
   	兼容性获取: element.getAttribute('data-index');
   h5新增: element.dataset.index或者element.dataset['index']      

	> dataset是一个集合里存放了所有以data开头的自定义属性
	>
	> //多个用驼峰式命名
	> 自定义属性为   data-list-name='andy'    
	> 		element.getAttribute('data-list-name')
	> 		element.dataset.listName
	> 		element.dataset['listName']
	
	