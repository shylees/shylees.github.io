---
title: 视差滚动
date: 2021/11/12
updated: 2021/11/12
comments:
tags:
 - css
categories:
 - furtherNotes
layout:
permalink:
meta: true
---

### 1. 简介

**视差滚动**（Parallax Scrolling）是指让多层背景以不同的速度移动，形成立体的运动效果，带来非常出色的视觉体验。 作为网页设计的热点趋势，越来越多的网站应用了这项技术。

### 2. css background-attachment

`background-attachment`：决定背景图像的位置是在视口内固定，或者随着包含它的区块滚动

+ **scroll** ( 默认 ) : 背景相对于元素本身固定，而不是随着内容滚动

  > 背景铺满 元素盒子可视位置，内容溢出 流动条，拉滚动条，背景不动，只动内容

+ **local**：背景相对于元素的内容固定。背景会随着元素内容滚动，并且背景的绘制区域和定位区域是相对于可滚动的区域而不是包含他们的边框。

  > 背景铺满  元素可视 or 流动条隐藏部分，相当于内容与背景的相对位置静止。

+ **fixed**：背景相对于视口固定。背景不会随着元素的内容滚动。



视察滚动的实现：

~~~css
.g-img {
    background-image: url(...);
    background-attachment: fixed;
    background-size: cover;
    background-position: center center;
}
~~~



### 3. transform：translate3d

1. 我们给容器设置上 `transform-style: preserve-3d` 和 `perspective: xpx`，那么处于这个容器的子元素就将位于3D空间中，

2. 再给子元素设置不同的 `transform: translateZ()`，这个时候，不同元素在 3D Z轴方向距离屏幕（我们的眼睛）的距离也就不一样

3. 滚动滚动条，由于子元素设置了不同的 `transform: translateZ()`，那么他们滚动的上下距离 `translateY` 相对屏幕（我们的眼睛），也是不一样的，这就达到了滚动视差的效果。

