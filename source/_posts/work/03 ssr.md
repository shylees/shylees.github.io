---
title: ssr - Server Side Render
date: 2022/2/18 18:13
updated: 2022/2/18 19:07
comments:
tags:
 - vue
categories:
 - workNotes
layout:
permalink:
meta: true
---

> 参考链接：https://juejin.cn/post/7002198277462442014

服务端渲染 ssr，是指一种传统的渲染开发方式，就是在页面请求url的时候，**服务端将我们需要的 html 文本组装好，并返回给浏览器**，这个HTML文本被浏览器解析之后，不需要**经过 JavaScript 脚本的执行，即可直接构建出希望的 DOM 树**并展示到页面中。

ssr 有两种模式，单页面 和 非单页面 模式

+ 单页面：后端首次渲染的单页面应用
+ 非单页面：完全使用后端路由的后端模版渲染模式

> 区别于 使用后端路由的程度

## csr - Client Side Render

csr与ssr其对应的，一种目前流行的渲染方式，它**依赖的是运行在客户端的JS**，用户首次发送请求**只能得到小部分的指引性HTML代码**。第二次请求将会请求更多包含HTML字符串的JS文件。

## 需要ssr的原因

SPA应用的**首屏打开速度很慢**，因为用户首次加载需要先下载SPA框架及应用程序的代码，然后再渲染页面，且 **SPA 应用不利于 SEO 优化**。

想着是不是可以**将应用首页先加载出来，然后让首页用不到的其他 JS 文件再慢慢加载**。但是由于 JS 引擎是单线程的，数据的组装过程会受到阻塞，单靠浏览器端的话不容易实现。

SSR 契机就在此，如果**将组装数据、渲染 HTML 页面的过程放在服务端**，而**浏览器端只负责显示接收到的 HTML 文**件，那首屏的打开速度无疑会快很多。

## 优缺点

+ 优点
  + **更快的响应时间**，相对于客户端渲染，服务端渲染在浏览器请求URL之后已经**得到了一个带有数据的HTML文本**，浏览器只需要解析HTML，直接构建DOM树就可以
  + **有利于 SEO** ，可以**将 SEO 的关键信息直接在后台就渲染成 HTML，而保证搜索引擎的爬虫都能爬取到关键数据**，然后在别人使用搜索引擎搜索相关的内容时，你的网页排行能靠得更前，这样你的流量就有越高。
+ 缺点
  + 相**对于只需要提供静态文件的服务器**，SSR中使用的渲染程序自然会**占用更多的CPU和内存资源**
  + 一些**常用的浏览器API可能无法正常使用**，比如`window`、`docment`和`alert`等，如果使用的话需要对运行的环境加以判断
  + 开发调试会有一些麻烦，因为涉及了浏览器及服务器，对于**SPA的一些组件的生命周期的管理会变得复杂**
  + 可能会由于某些因素导致服务器端渲染的结果与浏览器端的**结果不一致**
+ 总结
  + 最适用于静态展示页面，如果页面动态数据较多时需要谨慎使用。
