{"title":"PromiseåŸºæœ¬ç”¨æ³•","date":"2021-11-25T16:00:00.000Z","date_formatted":{"ll":"Nov 26, 2021","L":"11/26/2021","MM-DD":"11-26"},"link":"furtherNotes/further/03 Promise","tags":["es6","promise"],"categories":["furtherNotes"],"updated":"2021-12-02T16:00:00.000Z","content":"<blockquote>\n<p>2021.11.26 å»ºçš„æ–‡ä»¶ 12.3 ç»ˆäºæ‰“ç®—å†™äº†</p>\n<p>å›è°ƒåœ°ç‹± è§£å†³æ–¹æ¡ˆä¸­ Promise</p>\n<p>å¸¸è§ promise è¾“å‡ºé¢˜ï¼š<a href=\"https://juejin.cn/post/6844904077537574919\">https://juejin.cn/post/6844904077537574919</a></p>\n<p><a href=\"https://juejin.cn/post/6844903607968481287\">https://juejin.cn/post/6844903607968481287</a></p>\n<p><a href=\"https://juejin.cn/post/6844903607968481287\">https://juejin.cn/post/6844903607968481287</a></p>\n<p><a href=\"https://juejin.cn/post/6952083081519955998\">https://juejin.cn/post/6952083081519955998</a></p>\n</blockquote>\n<h2 id=\"promise\">Promise<a title=\"#promise\" href=\"#promise\"></a></h2>\n<h3 id=\"1.-ç®€ä»‹\">1. ç®€ä»‹<a title=\"#1.-ç®€ä»‹\" href=\"#1.-ç®€ä»‹\"></a></h3>\n<p>Promise æ˜¯<strong>å¼‚æ­¥ç¼–ç¨‹çš„ä¸€ç§è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p>\n<p>ä»è¯­æ³•ä¸Šè®²ï¼Œpromise æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå¯ä»¥è·å–å¼‚æ­¥æ“ä½œçš„æ¶ˆæ¯ï¼›</p>\n<p>ä»æœ¬æ„ä¸Šè®²ï¼Œpromise æ˜¯æ‰¿è¯ºï¼Œæ‰¿è¯ºå®ƒè¿‡ä¸€æ®µæ—¶é—´ä¼šç»™ä½ ä¸€ä¸ªç»“æœã€‚</p>\n<p>promise æœ‰ä¸‰ç§çŠ¶æ€ï¼š<strong>pending</strong>(ç­‰å¾…æ€)ã€<strong>fulfiled</strong>(æˆåŠŸæ€)ã€<strong>rejected</strong>(å¤±è´¥æ€)ï¼›çŠ¶æ€ä¸€æ—¦æ”¹å˜ï¼Œå°±ä¸ä¼šå†å˜ã€‚åˆ›å»º promise å®ä¾‹åï¼Œå…¶ä¼šç«‹å³æ‰§è¡Œã€‚</p>\n<blockquote>\n<p>Pending å˜ä¸º Fulfilled ä¼šå¾—åˆ°ä¸€ä¸ªç§æœ‰<strong>value</strong>ï¼ŒPending å˜ä¸º Rejectedä¼šå¾—åˆ°ä¸€ä¸ªç§æœ‰<strong>reason</strong>ï¼Œå½“Promiseè¾¾åˆ°äº†Fulfilledæˆ–Rejectedæ—¶ï¼Œæ‰§è¡Œçš„å¼‚æ­¥ä»£ç ä¼šæ¥æ”¶åˆ°è¿™ä¸ªvalueæˆ–reason</p>\n</blockquote>\n<p>promise è§£å†³çš„é—®é¢˜ï¼š</p>\n<ul>\n<li>å›è°ƒåœ°ç‹±ï¼Œä»£ç éš¾ä»¥ç»´æŠ¤ï¼Œå¸¸å¸¸ç¬¬ä¸€ä¸ªå‡½æ•°çš„è¾“å‡ºæ˜¯ç¬¬äºŒä¸ªå‡½æ•°çš„è¾“å…¥çš„è¿™ç§ç°è±¡</li>\n<li>promise å¯ä»¥æ”¯æŒå¤šä¸ªå¹¶å‘çš„è¯·æ±‚ï¼Œè·å–å¹¶å‘è¯·æ±‚ä¸­çš„æ•°æ®</li>\n<li>promise å¯ä»¥è§£å†³å¼‚æ­¥çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸èƒ½è¯´ promise æ˜¯å¼‚æ­¥çš„</li>\n</ul>\n<h3 id=\"2.-åŸºæœ¬ç”¨æ³•\">2. åŸºæœ¬ç”¨æ³•<a title=\"#2.-åŸºæœ¬ç”¨æ³•\" href=\"#2.-åŸºæœ¬ç”¨æ³•\"></a></h3>\n<ul>\n<li>\n<p>resolve ï¼šå¼‚æ­¥æ“ä½œæ‰§è¡ŒæˆåŠŸåçš„å›è°ƒå‡½æ•°</p>\n</li>\n<li>\n<p>reject ï¼šå¼‚æ­¥æ“ä½œæ‰§è¡Œå¤±è´¥åçš„å›è°ƒå‡½æ•°</p>\n</li>\n<li>\n<p>then ï¼šæ•è· promise çŠ¶æ€å˜åŒ–ï¼ˆæˆåŠŸ / é”™è¯¯ï¼‰ï¼Œå¹¶å°†æ‹¿åˆ°çš„æ•°æ®è¿›è¡Œæ“ä½œ</p>\n</li>\n<li>\n<p>catchï¼šç›¸å½“äº then(null,error =&gt; { â€¦ } )ï¼Œthen çš„ç¬¬äºŒä¸ªå‚æ•°</p>\n</li>\n<li>\n<p>allï¼šæ¥æ”¶ä¸€ä¸ªpromise å®ä¾‹æ•°ç»„å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªä»¥ä¼ å…¥æ•°ç»„é¡ºåºçš„è¿”å›ç»“æœçš„æ•°ç»„ï¼Œæä¾›äº†å¹¶è¡Œæ‰§è¡Œå¼‚æ­¥æ“ä½œçš„èƒ½åŠ›ï¼Œåœ¨æ‰€æœ‰å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œåæ‰æ‰§è¡Œå›è°ƒ</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">Promise1</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">Promise2</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;&#125;)</span><br><span class=\"line\"><span class=\"keyword\">let</span> <span class=\"title class_\">Promise3</span> = <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"keyword\">function</span>(<span class=\"params\">resolve, reject</span>)&#123;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">let</span> p = <span class=\"title class_\">Promise</span>.<span class=\"title function_\">all</span>([<span class=\"title class_\">Promise1</span>, <span class=\"title class_\">Promise2</span>, <span class=\"title class_\">Promise3</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">p.<span class=\"title function_\">then</span>(<span class=\"title function_\">funciton</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">  <span class=\"comment\">// ä¸‰ä¸ªéƒ½æˆåŠŸåˆ™æˆåŠŸ  </span></span><br><span class=\"line\">&#125;, <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">  <span class=\"comment\">// åªè¦æœ‰å¤±è´¥ï¼Œåˆ™å¤±è´¥ </span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>raceï¼šæ¥æ”¶ä¸€ä¸ªPromise å®ä¾‹æ•°ç»„å‚æ•°ï¼Œè¿”å›æœ€å¿«æ‰§è¡Œå®Œçš„æ“ä½œç»“æœ</p>\n<blockquote>\n<p>ä½¿ç”¨åœºæ™¯ï¼šå¯ä»¥ç”¨ race ç»™æŸä¸ªå¼‚æ­¥è¯·æ±‚è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¹¶ä¸”åœ¨è¶…æ—¶åæ‰§è¡Œç›¸åº”çš„æ“ä½œ</p>\n</blockquote>\n</li>\n</ul>\n","prev":{"title":"æµè§ˆå™¨å­˜å‚¨ç²¾ç®€ç‰ˆ","link":"furtherNotes/further/01 æµè§ˆå™¨å­˜å‚¨ç‰¹ç‚¹åŠåŒºåˆ«"},"next":{"title":"æµè§ˆå™¨å­˜å‚¨è¯¦ç»†ç‰ˆ","link":"furtherNotes/further/01 æµè§ˆå™¨å­˜å‚¨"},"plink":"https://shylees.github.io/furtherNotes/further/03 Promise/","toc":[{"id":"promise","title":"Promise","index":"1","children":[{"id":"1.-ç®€ä»‹","title":"1. ç®€ä»‹","index":"1.1"},{"id":"2.-åŸºæœ¬ç”¨æ³•","title":"2. åŸºæœ¬ç”¨æ³•","index":"1.2"}]}],"copyright":{"custom":"ä¸è®¸è½¬è½½ğŸ˜¡ï¼ï¼ï¼"},"reading_time":"537 words in 3 min"}