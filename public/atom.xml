<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>shylees&#39; Blog</title>
  
  <subtitle>低头往前走就好了</subtitle>
  <link href="https://shylees.github.io/public/atom.xml" rel="self"/>
  
  <link href="https://shylees.github.io/"/>
  <updated>2024-01-07T11:12:00.000Z</updated>
  <id>https://shylees.github.io/</id>
  
  <author>
    <name>shylees</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>轮播图制作--js+css+html代码实现</title>
    <link href="https://shylees.github.io/learningNotes/%E8%BD%AE%E6%92%AD%E5%9B%BE%E5%88%B6%E4%BD%9C"/>
    <id>https://shylees.github.io/learningNotes/%E8%BD%AE%E6%92%AD%E5%9B%BE%E5%88%B6%E4%BD%9C</id>
    <published>2024-01-07T11:12:00.000Z</published>
    <updated>2024-01-07T11:12:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- --&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span clas</summary>
      
    
    
    
    <category term="learningNotes" scheme="https://shylees.github.io/categories/learningNotes/"/>
    
    
    <category term="js" scheme="https://shylees.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>HTML+CSS超简单的二级导航做法代码实现</title>
    <link href="https://shylees.github.io/learningNotes/%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8C%E7%BA%A7%E5%AF%BC%E8%88%AA%E5%AE%9E%E7%8E%B0"/>
    <id>https://shylees.github.io/learningNotes/%E7%AE%80%E5%8D%95%E7%9A%84%E4%BA%8C%E7%BA%A7%E5%AF%BC%E8%88%AA%E5%AE%9E%E7%8E%B0</id>
    <published>2024-01-07T10:54:00.000Z</published>
    <updated>2024-01-07T10:54:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>简单二级导航实现<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-decoration</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="built_in">rgb</span>(<span class="number">60</span>, <span class="number">4</span>, <span class="number">112</span>);</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding-top</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">font-size</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.father</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: palevioletred;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.son</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: pink;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">top</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">left</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* background-color: lightpink; */</span></span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.son</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.father</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.son</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.father</span>&gt;<span class="selector-tag">a</span><span class="selector-pseudo">:active</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: blue;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.son</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: palevioletred;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.son</span> <span class="selector-tag">li</span><span class="selector-pseudo">:active</span> <span class="selector-tag">a</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        <span class="comment">/* .son li:hover a &#123;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">            color: crimson;</span></span></span><br><span class="line"><span class="comment"><span class="language-css">        &#125; */</span></span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>一级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>一级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>一级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>二级导航<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=</summary>
      
    
    
    
    <category term="learningNotes" scheme="https://shylees.github.io/categories/learningNotes/"/>
    
    
    <category term="css" scheme="https://shylees.github.io/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>简单的js实现点击按钮切换图片代码实现</title>
    <link href="https://shylees.github.io/learningNotes/%E7%AE%80%E5%8D%95%E7%9A%84js%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE%E5%88%87%E6%8D%A2%E5%9B%BE%E7%89%87"/>
    <id>https://shylees.github.io/learningNotes/%E7%AE%80%E5%8D%95%E7%9A%84js%E5%AE%9E%E7%8E%B0%E7%82%B9%E5%87%BB%E6%8C%89%E9%92%AE%E5%88%87%E6%8D%A2%E5%9B%BE%E7%89%87</id>
    <published>2024-01-07T09:08:00.000Z</published>
    <updated>2024-01-07T09:08:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>点击切换图片<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        * &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">list-style</span>: none;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">div</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: relative;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">img</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">400px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">250px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">right</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">line-height</span>: <span class="number">25px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span></span><br><span class="line"><span class="language-css">            <span class="attribute">margin</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">display</span>: inline-block;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">color</span>: <span class="number">#fff</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">        </span></span><br><span class="line"><span class="language-css">        <span class="selector-tag">ul</span>&gt;<span class="selector-tag">li</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">background-color</span>: <span class="number">#000</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/1.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> img = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;img&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> ul = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;ul&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ul.<span class="property">children</span>.<span class="property">length</span>; i++) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> index = i + <span class="number">1</span>; <span class="comment">//设置自定义值做准备</span></span></span><br><span class="line"><span class="language-javascript">            ul.<span class="property">children</span>[i].<span class="title function_">setAttribute</span>(<span class="string">&#x27;index&#x27;</span>, index); <span class="comment">//给按钮分别设置 index 下标</span></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            ul.<span class="property">children</span>[i].<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">// console.log(this.getAttribute(&#x27;index&#x27;)); //尝试 在控制台 看看是否正确获得</span></span></span><br><span class="line"><span class="language-javascript">                img.<span class="property">src</span> = <span class="string">&#x27;img/&#x27;</span> + <span class="variable language_">this</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;index&#x27;</span>) + <span class="string">&#x27;.jpg&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//因为图片的地址跟index有关系 所以可以这样设置</span></span></span><br><span class="line"><span class="language-javascript">            &#125;)</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=</summary>
      
    
    
    
    <category term="learningNotes" scheme="https://shylees.github.io/categories/learningNotes/"/>
    
    
    <category term="js" scheme="https://shylees.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>HTTP进化史</title>
    <link href="https://shylees.github.io/furtherNotes/further/05%20HTTP%E8%BF%9B%E5%8C%96%E5%8F%B2"/>
    <id>https://shylees.github.io/furtherNotes/further/05%20HTTP%E8%BF%9B%E5%8C%96%E5%8F%B2</id>
    <published>2022-10-17T07:05:00.000Z</published>
    <updated>2022-10-18T08:17:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="http进化史">HTTP进化史<a title="#http进化史" href="#http进化史"></a></h1><h2 id="http/0.9---超文本传输协议">HTTP/0.9 - 超文本传输协议<a title="#http/0.9---超文本传输协议" href="#http/0.9---超文本传输协议"></a></h2><h5 id="时间：">时间：<a title="#时间：" href="#时间："></a></h5><p>1991年</p><h5 id="需求：">需求：<a title="#需求：" href="#需求："></a></h5><p>主要用于学术交流，用来在网络之间传递HTML超文本内容，所以被称为超文本传输协议。</p><h5 id="实现：">实现：<a title="#实现：" href="#实现："></a></h5><p>采用基于请求响应的模式，从客户端发出请求，服务器返回数据。</p><h4 id="特点：">特点：<a title="#特点：" href="#特点："></a></h4><ol><li><p><strong>只有一个请求行</strong> ;</p><blockquote><p>request：<code>GET /index.$html$</code> —— GET命令 / 资源路径</p></blockquote></li><li><p>服务器没有返回头信息，只返回数据；</p><blockquote><p>response：<code>&lt;html&gt;....&lt;/html&gt;</code></p></blockquote></li><li><p>返回的文件内容是以 ASCII 字符流传输的，因为都是 HTML 格式的文件。</p></li></ol><h2 id="http/1.0---被浏览器推动的">HTTP/1.0 - 被浏览器推动的<a title="#http/1.0---被浏览器推动的" href="#http/1.0---被浏览器推动的"></a></h2><h5 id="时间：-1">时间：<a title="#时间：-1" href="#时间：-1"></a></h5><p>1996年5月</p><h5 id="需求：-1">需求：<a title="#需求：-1" href="#需求：-1"></a></h5><p>支持多类型文件的下载是核心诉求，文件格式不仅局限于ASCII编码。</p><blockquote><p>展示的类型不只是HTML，还包括 JavaScript、CSS、图片、音频、视频等不同类型文件。</p></blockquote><h5 id="实现：-1">实现：<a title="#实现：-1" href="#实现：-1"></a></h5><p>引入了请求头和响应头，以key-value形式保存。</p><h4 id="特点：-1">特点：<a title="#特点：-1" href="#特点：-1"></a></h4><ul><li>为了支持多种类型文件，增加了：<ol><li>浏览器要知道服务器返回的<strong>数据类型</strong>，浏览器才能处理<code>accept|Content-Type: text/html</code></li><li>为了减轻传输性能，服务器会对数据进行压缩后再传输，所以要知道<strong>压缩方法</strong> <code>accept-encoding|Content-encoding: gzip,deflate,br</code></li><li>提供国际化支持，需要对不同地区提供不同<strong>语言版本</strong><code>accept-Charset: ISO-8859-1,utf-8</code></li><li>不同类型<strong>文件编码</strong>形式不同<code>accept-language: Zh-Cn,zh</code></li></ol></li><li>其他特性：<ol><li>增加<strong>状态码</strong>告知浏览器服务器最终处理该请求的情况</li><li>减轻服务器压力，提供<strong>Cache机制</strong>，缓存下载过的数据</li><li>服务器要统计客户端的基础信息，所以还加入了<strong>用户代理</strong>字段</li><li>引入了<strong>POST和HEAD</strong>请求方法</li><li><strong>默认短链接，支持长连接</strong></li></ol></li></ul><blockquote><p>常见的<code>Content-Type</code>：<code>text/plan</code>、<code>text/html</code>、<code>text/css</code>、<code>image/jpeg</code>、<code>image/png</code>、<code>image/svg + xml</code>、<code>application/javascript</code>、<code>application/zip</code>、<code>application/pdf</code></p><p>Cache：Expires 过期时间、Last-Modified|If-Modified-Since（最后修改时间，s）</p></blockquote><h4 id="缺点：">缺点：<a title="#缺点：" href="#缺点："></a></h4><ol><li><p>队头阻塞</p><blockquote><p>队头阻塞  Head-of-Line Blocking，每个TCP连接只能发送一个请求，需要等待前面的请求返回后才能下一次请求。如果 TCP 通道中的某个请求因为某些原因没有及时返回，那么就会阻塞后面的所有请求，这就是著名的队头阻塞的问题。</p></blockquote></li><li><p>默认短连接。</p></li><li><p>仅定义了16种状态码。</p></li></ol><h2 id="http/1.1---缝缝补补">HTTP/1.1 - 缝缝补补<a title="#http/1.1---缝缝补补" href="#http/1.1---缝缝补补"></a></h2><h5 id="时间：-2">时间：<a title="#时间：-2" href="#时间：-2"></a></h5><p>几个月后</p><h5 id="需求：-2">需求：<a title="#需求：-2" href="#需求：-2"></a></h5><p>技术发展，1.0不能满足</p><h4 id="更新：">更新：<a title="#更新：" href="#更新："></a></h4><ol><li><p>**默认使用持久连接 keep-alive **（关闭 Connection:close;），浏览器中对同一个域名，默认允许同时建立6个TCP持久连接。</p></li><li><p>试图使用<strong>管线化 Pipeline</strong>解决队头阻塞问题</p><blockquote><p>HTTP管线化：将多个HTTP请求整批提交给服务器的技术，虽然可以整批发送请求，不过服务器依然需要根据请求顺序来回复浏览器的请求。</p></blockquote></li><li><p>提供<strong>虚拟主机</strong>的支持 → 请求头<strong>增加 Host</strong> 字段，表示当前域名地址，这样就可以根据不同Host 值做不同处理</p><blockquote><p>再一个物理主机上绑定多个虚拟主机，每个虚拟主机都油自己单独的域名，这些单独的域名都公用同一个ip地址</p></blockquote></li><li><p><strong>chunked机制</strong>，对动态生成的内容提供支持</p><blockquote><p>1.0时要在响应头中设置完整数据大小，<code>Content-Length:901</code>，浏览器可以根据设置的数据大小接收数据。但很多页面是动态生成的，在传输数据之前不知道最终的数据大小，浏览器就不知道什么时候接收完所有的文件数据。</p><p>1.1通过引入 <code>Chunk transfer</code> 机制解决这个问题，服务器会将数据分割成多个不同数据块，每个数据块发送时会附上上个数据块的长度，最后使用一个零长度快作为发送数据完成的标志。<code>Transfer-Encoding: chunked</code> 替代 <code>content-length</code></p></blockquote></li><li><p><strong>cache机制</strong>，新增cache头部字段</p><blockquote><p>Cache-Control：通过指定多个指令实现缓存机制，主要表示资源缓存的最大有效时间。</p><ul><li>public、private、no-cache、no-store  可缓存 （任何对象、单个用户、不使用强缓存、不使用缓存）</li><li>max-age、s-maxage、max-stale、min-fresh 过期（缓存最大周期、设置共享缓存、愿意接收已过期资源、指定时间内获取最新响应）</li><li>must-revalidate、proxy-revalidate 重新验证/加载 （页面过期服务器获取、同但共享缓存）</li><li>only-if-cached、no-transfrom 其他（只使用缓存、不能转换资源）</li></ul><p>ETag<code>/</code>If-None-Match：资源唯一标识</p></blockquote></li><li><p><strong>新增请求方法</strong></p><blockquote><p>options、put、delete、trace、connect</p></blockquote></li><li><p>新增<strong>状态码</strong></p></li><li><p><strong>Cookie、安全机制</strong></p></li></ol><h4 id="缺点：-1">缺点：<a title="#缺点：-1" href="#缺点：-1"></a></h4><ol><li>慢启动和 TCP 连接之间相互竞争带宽 — TCP本身影响</li><li>队头阻塞</li></ol><blockquote><p>以下是2.0增加的</p><ol><li>无状态特性，巨大HTTP头部</li><li>明文传输</li><li>不支持服务器推送</li></ol></blockquote><h2 id="http/2.0---提升网络速度">HTTP/2.0 - 提升网络速度<a title="#http/2.0---提升网络速度" href="#http/2.0---提升网络速度"></a></h2><h5 id="时间：-3">时间：<a title="#时间：-3" href="#时间：-3"></a></h5><p>2015.05</p><h5 id="需求：-3">需求：<a title="#需求：-3" href="#需求：-3"></a></h5><p>优化1.1</p><h4 id="更新：-1">更新：<a title="#更新：-1" href="#更新：-1"></a></h4><ol><li><p><strong>一个域名只使用一个TCP长连接</strong>  – 消除队头阻塞</p></li><li><p>引入<strong>二进制分帧层</strong>，实现<strong>多路复用</strong> – 队头阻塞</p><blockquote><p>可以将请求分成一帧一帧的数据去传输，当收到一个优先级高的请求时，可以暂停之前的请求优先处理关键资源的请求。</p><p>将一个request/response作为一个stream，并将一个stream根据负载分为多种类型的frame，在同一条connection之上可以混合发送术语不同stream的frame，实现了同时发送多个request的功能</p></blockquote></li><li><p><strong>设置请求优先级</strong></p></li><li><p><strong>服务器推送</strong></p><blockquote><p>在浏览器请求HTML时，服务器会把某些资源存在一定关联性JS、CSS等文件等静态资源主动发给客户端，这样客户端可以直接从本地加载这些资源。</p></blockquote></li><li><p><strong>头部压缩 HPACK</strong></p></li></ol><h4 id="缺点：-2">缺点：<a title="#缺点：-2" href="#缺点：-2"></a></h4><ol><li><p>通过多路复用解决了 HTTP 层的队头阻塞，但仍然<strong>存在 TCP 层的队头阻塞</strong></p><blockquote><p>如果其中一路数据流出现丢包的情况，就会阻塞该TCP连接中的所有请求。当系统丢包率达到2%时，HTTP/1.1的传输效率必HTTP2.0好。</p></blockquote></li><li><p>握手延迟</p></li></ol><h2 id="http/3.0---甩掉tcp、tcl，构建高效网络">HTTP/3.0 - 甩掉TCP、TCL，构建高效网络<a title="#http/3.0---甩掉tcp、tcl，构建高效网络" href="#http/3.0---甩掉tcp、tcl，构建高效网络"></a></h2><h5 id="时间：-4">时间：<a title="#时间：-4" href="#时间：-4"></a></h5><p>2018.11  HTTP-over-QUIC（Quick UDP Internet Connections）更名为HTTP/3：基于UDP的低时延的互联网传输层协议。</p><h5 id="需求：-4">需求：<a title="#需求：-4" href="#需求：-4"></a></h5><p>优化2.0</p><h4 id="更新：-2">更新：<a title="#更新：-2" href="#更新：-2"></a></h4><ol><li><p>QUIC协议</p><blockquote><p>基于UDP协议实现了类似于TCP的多路数据流、传输可靠性等功能；</p><p>继承TLS加密功能；</p><p>实现HTTP2.0中多路复用功能。</p></blockquote></li><li><p>解决TCP层面的队头阻塞</p><blockquote><p>TCP队头阻塞，是因为所有请求stream都共享一个滑动窗口，QUIC给每个request流都分配一个独立的滑动窗口。</p><p>所以其实对于每个请求流而言，也存在队头阻塞。</p></blockquote></li><li><p>0-RTT握手</p></li></ol><blockquote><p>参考链接：</p><p><a href="https://blog.poetries.top/browser-working-principle/guide/part6/lesson29.html">https://blog.poetries.top/browser-working-principle/guide/part6/lesson29.html</a></p><p><a href="https://juejin.cn/post/7111507179881889800">https://juejin.cn/post/7111507179881889800</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;http进化史&quot;&gt;HTTP进化史&lt;a title=&quot;#http进化史&quot; href=&quot;#http进化史&quot;&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h2 id=&quot;http/0.9---超文本传输协议&quot;&gt;HTTP/0.9 - 超文本传输协议&lt;a title=&quot;#http/0.9---超文</summary>
      
    
    
    
    <category term="furtherNotes" scheme="https://shylees.github.io/categories/furtherNotes/"/>
    
    
    <category term="HTTP" scheme="https://shylees.github.io/tags/HTTP/"/>
    
    <category term="计网" scheme="https://shylees.github.io/tags/%E8%AE%A1%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>HTTP状态码 - RFC2616</title>
    <link href="https://shylees.github.io/furtherNotes/further/04%20http%20%E7%8A%B6%E6%80%81%E7%A0%81"/>
    <id>https://shylees.github.io/furtherNotes/further/04%20http%20%E7%8A%B6%E6%80%81%E7%A0%81</id>
    <published>2022-10-16T03:32:45.000Z</published>
    <updated>2022-10-16T08:51:45.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="http-状态码">http 状态码<a title="#http-状态码" href="#http-状态码"></a></h1><h2 id="1.-类别">1. 类别<a title="#1.-类别" href="#1.-类别"></a></h2><div class="φbq"><div class="φbs"><table><thead><tr><th style="padding:0"></th><th>类别</th><th>类别</th><th>原因短语</th></tr></thead><tbody><tr><td>1XX</td><td>信息性状态码</td><td>Informational</td><td>接收的请求正在处理</td></tr><tr><td>2XX</td><td>成功状态码</td><td>Success</td><td>请求正常处理完毕</td></tr><tr><td>3XX</td><td>重定向状态码</td><td>Redirection</td><td>需要进行附加操作以完成请求</td></tr><tr><td>4XX</td><td>客户端错误状态码</td><td>Client Error</td><td>服务器无法处理请求</td></tr><tr><td>5XX</td><td>服务器错误状态码</td><td>Server Error</td><td>服务器处理请求出错</td></tr></tbody></table></div></div><blockquote><p>以下状态码均记录在RFC2616上，40种。加粗的是常用的14种</p></blockquote><h2 id="1xx">1XX<a title="#1xx" href="#1xx"></a></h2><p>100：Continue  继续</p><p>101：Switching Protocols  转换协议</p><h2 id="2xx-成功-—-表明请求被正常处理了">2XX 成功 — 表明请求被正常处理了<a title="#2xx-成功-—-表明请求被正常处理了" href="#2xx-成功-—-表明请求被正常处理了"></a></h2><p><strong>200：OK</strong>  —— 表示客户端发来的请求在服务器端被正常处理了</p><p>201：Created 创建</p><p>202：Accepted 接受</p><p>203：Non-Authoritative Information 非权威信息</p><p><strong>204：No Content  无内容</strong>  —— 请求处理成功，但没有资源可以返回。页面不刷新。</p><p>205：Reset Content 重置内容</p><p><strong>206：Partial Content 局部内容</strong> —— 客户端进行范围请求，响应报文包含 Content-Range 指定范围的实体内容。</p><h2 id="3xx-重定向-—-表明浏览器需要执行某些特殊的处理以正确处理请求">3XX 重定向 — 表明浏览器需要执行某些特殊的处理以正确处理请求<a title="#3xx-重定向-—-表明浏览器需要执行某些特殊的处理以正确处理请求" href="#3xx-重定向-—-表明浏览器需要执行某些特殊的处理以正确处理请求"></a></h2><p>300：Multiple Choices  多样选择</p><p><strong>301：Moved Permanently 永久移动</strong> —— 永久重定向，请求的资源已被分配新的uri，以后使用资源限制所指的 uri。</p><p><strong>302：Found 创建</strong> —— 临时重定向，请求的资源已被分配了新的uri，希望用户本次使用新的uri访问。</p><p><strong>303：See Other 观察别的部分</strong>  —— 请求对应的资源存在另一个uri，应使用 get 方法定向获取请求的资源。</p><p><strong>304：Not Modified 只读</strong>  —— 客户端发送附带条件的请求时，服务器端允许请求访问资源，但为满足条件的情况。</p><p>305：User Proxy 用户代理</p><p><strong>307：Temporary Required 临时重发</strong> —— 临时重定向，与302同，但会遵照浏览器标准，不会从POST变成GET。</p><h2 id="4xx-客户端错误">4XX 客户端错误<a title="#4xx-客户端错误" href="#4xx-客户端错误"></a></h2><p><strong>400：Bad Request 坏请求</strong> —— 请求报文种存在语法错误</p><p><strong>401：Unauthorized 未授权的</strong> —— 发送的请求需要有通过http认证的认证信息。若之前以进行过1次请求，则表示认证失败。</p><p>402：Payment Required 必要的支付</p><p><strong>403：Forbidden 禁用</strong> —— 对请求资源的访问被服务器拒绝了。</p><p><strong>404：Not Found 未找到</strong> —— 服务器上无法找到请求的资源。</p><p>405：Method Not Allowed 不允许的请求方式</p><p>406：Not Acceptable 不接受</p><p>407：Proxy Authentication Required 需要代理验证</p><p>408：Request Timeout 请求超时</p><p>409：Conflict 冲突</p><p>410：Gone 停止</p><p>411：Length Required 需要的长度</p><p>412：Precondition Failed 预处理失败</p><p>413：Request Entity Too Large 请求实体太大</p><p>414：Request-URI Too Long 请求uri太大</p><p>415：Unsupported Media Type 不支持的媒体类型</p><p>416：Requested Range Not Satisfiable 请求范围不满足</p><p>417：Expectation Failed 期望失败</p><h2 id="5xx-服务器错误">5XX 服务器错误<a title="#5xx-服务器错误" href="#5xx-服务器错误"></a></h2><p><strong>500：Internal Server Error 服务器内部错误</strong> —— 服务端在执行请求时发生了错误。</p><p>501：Not Implemented 不能实现</p><p>502：Bad Gateway 坏网关</p><p><strong>503：Service Unavailable 服务不能实现</strong> —— 服务器暂时处于超负载或正在进行停机维护，无法处理请求。</p><p>504：Gateway Timeout 网关超时</p><p>505：HTTP Version Not Supported http版本不支持</p><blockquote><p>参考链接：<a href="https://www.rfc-editor.org/rfc/rfc2616">https://www.rfc-editor.org/rfc/rfc2616</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;http-状态码&quot;&gt;http 状态码&lt;a title=&quot;#http-状态码&quot; href=&quot;#http-状态码&quot;&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;h2 id=&quot;1.-类别&quot;&gt;1. 类别&lt;a title=&quot;#1.-类别&quot; href=&quot;#1.-类别&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;div</summary>
      
    
    
    
    <category term="furtherNotes" scheme="https://shylees.github.io/categories/furtherNotes/"/>
    
    
    <category term="HTTP" scheme="https://shylees.github.io/tags/HTTP/"/>
    
    <category term="计网" scheme="https://shylees.github.io/tags/%E8%AE%A1%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>保姆级理解js各种继承方案</title>
    <link href="https://shylees.github.io/furtherNotes/further/04%E7%BB%A7%E6%89%BF"/>
    <id>https://shylees.github.io/furtherNotes/further/04%E7%BB%A7%E6%89%BF</id>
    <published>2022-09-17T08:37:38.000Z</published>
    <updated>2022-09-23T15:47:51.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="js继承方案">js继承方案<a title="#js继承方案" href="#js继承方案"></a></h1><p>继承本质：复制，重写原型对象，代之以一个新类型的实例</p><h2 id="1.-原型链继承">1. 原型链继承<a title="#1.-原型链继承" href="#1.-原型链继承"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;parent&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">property</span>.<span class="property">getName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;son&#x27;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">property</span> = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Parent</span>();</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getProperty</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">property</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">son.<span class="title function_">getName</span>();    <span class="comment">// son</span></span><br><span class="line">son.<span class="title function_">getProperty</span>(); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Son.prototype</span></span><br><span class="line"><span class="title class_">Parent</span>: &#123;</span><br><span class="line">    <span class="attr">getPrototype</span>: <span class="title function_">f</span>(),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;parent&#x27;</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        <span class="attr">getName</span>: <span class="title function_">f</span>(),</span><br><span class="line">        <span class="attr">constructor</span>: f <span class="title class_">Parent</span>(),</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// son</span></span><br><span class="line"><span class="title class_">Son</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;son&#x27;</span>,</span><br><span class="line">    <span class="attr">prototype</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Parent</span> &#123;       <span class="comment">// 原型对象指向 Parent</span></span><br><span class="line">        <span class="attr">getPrototype</span>: <span class="title function_">f</span>(),</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;parent&#x27;</span>,</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 原Son.prototype</span></span><br><span class="line"><span class="attr">constructor</span>: f &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="title function_">f</span>(),</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>核心代码：<code> Son.prototype = new Parent()</code></p><p>优点：</p><ol><li>继承了父类原型上的属性和方法</li></ol><p>缺点：</p><ol><li>多个<code>Son</code>实例对<code>new Parent()</code>后拥有的属性进行操作时，都是操作同一个属性；</li><li><code>Son</code>的原型上的 <code>constructor</code> 属性没了；</li><li>给<code>Son</code>的原型增加属性和方法必须在替换原型后，否则会被覆盖；</li><li>创建<code>Son</code>实例时无法向<code>Parent</code>的构造函数传参</li></ol><h2 id="2.-构造函数继承">2. 构造函数继承<a title="#2.-构造函数继承" href="#2.-构造函数继承"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = [<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;pink&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getColor</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">color</span>.<span class="title function_">toString</span>())</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title class_">Parent</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;son&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son1 = <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">son1.<span class="property">color</span>.<span class="title function_">push</span>(<span class="string">&#x27;blue&#x27;</span>) <span class="comment">// this.color = [&#x27;red&#x27;, &#x27;pink&#x27;, &#x27;blue&#x27;]</span></span><br><span class="line">son1.<span class="title function_">getColor</span>();  <span class="comment">// getColor is not defined!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son2 = <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">son2.<span class="property">color</span> <span class="comment">// [&#x27;red&#x27;, &#x27;pink&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Son.prototype</span></span><br><span class="line"><span class="attr">constructor</span>:f &#123;     <span class="comment">// 原型链继承是 Parent</span></span><br><span class="line">    <span class="attr">constructor</span>: f <span class="title class_">Son</span>(),</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        <span class="attr">constructor</span>: f <span class="title class_">Object</span>(), <span class="comment">// 原型链继承是 Parent </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// son1</span></span><br><span class="line"><span class="title class_">Son</span>&#123;</span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>],</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;son&#x27;</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;  <span class="comment">// 原型链继承是 Parent&#123;&#125;</span></span><br><span class="line">        <span class="attr">constructor</span>: f <span class="title class_">Son</span>(),  </span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>核心代码： <code>Parent.call(this)</code></p><p>在实例化每一个<code>Son</code>时，执行 <code>Parent</code> 的构造函数</p><p>优点：</p><ol><li>对于每一个<code>Son</code>的实例，都能独有一份父类的属性和方法</li><li>能给父类传参</li><li><code>Son</code> 原型上有其原本的 <code>constructor</code></li></ol><p>缺点：</p><ol><li>只能继承父类构造函数里的属性方法，不能继承父类原型上的属性方法</li><li>每个子类在最初都有一样的完整的父类实例副本，无法复用</li></ol><h2 id="3.-组合继承">3. 组合继承<a title="#3.-组合继承" href="#3.-组合继承"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = [<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;pink&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name, age</span>)&#123;</span><br><span class="line">    <span class="title class_">Parent</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Parent</span>();</span><br><span class="line"><span class="title class_">Son</span>.<span class="property">constructor</span> = <span class="title class_">Son</span>;  </span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getAge</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;son&#x27;</span>, <span class="number">12</span>);</span><br><span class="line">son.<span class="property">color</span>.<span class="title function_">push</span>(<span class="string">&#x27;blue&#x27;</span>)  <span class="comment">// [&#x27;red&#x27;,&#x27;pink&#x27;,&#x27;blue&#x27;]</span></span><br><span class="line">son.<span class="title function_">getName</span>(); <span class="comment">//son</span></span><br><span class="line">son.<span class="title function_">getAge</span>();  <span class="comment">// 12</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;son1&#x27;</span>, <span class="number">15</span>);</span><br><span class="line">son.<span class="property">color</span>  <span class="comment">// [&#x27;red&#x27;,&#x27;pink&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Son.prototype</span></span><br><span class="line"><span class="title class_">Parent</span>&#123;</span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>],</span><br><span class="line">    <span class="attr">name</span>: <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">__proto__</span>:&#123;</span><br><span class="line">        <span class="attr">getAge</span>: f (),</span><br><span class="line">        <span class="attr">getName</span>: f (),</span><br><span class="line">        <span class="attr">constructor</span>: f <span class="title class_">Parent</span>(name),</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// son</span></span><br><span class="line"><span class="title class_">Son</span>&#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>],</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;son&#x27;</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Parent</span>&#123;</span><br><span class="line">        <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>],</span><br><span class="line">        <span class="attr">name</span>: <span class="literal">undefined</span>,</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>核心代码：</p><ol><li><code>Parent.call(this)</code> 为每一个子类实例，获得独一份父类的属性方法 — <strong>构造函数继承</strong></li><li><code>Son.prototype = new Parent()</code>  讲父类的原型 传递给子类的原型对象<code>__proto__</code>  — <strong>原型链继承</strong></li><li><code>Son.constructor = Son</code> 弥补覆盖原型后 Son 的constructor不存在</li></ol><p>优点：</p><ol><li>继承了父类的原型</li><li>每个子类实例拥有独一份的父类属性方法</li><li>子类的<code>constructor</code>属性存在</li><li>利用原型链取值原则，屏蔽了与子元素同名的属性的获取</li></ol><p>缺点：</p><ol><li><p>在 <code>Son.prototype = new Parent()</code>时，会执行一次父类构造函数，给子类原型增加父类的属性方法；</p><p>在 实例化子类时， 会调用<code>Parent.call(this)</code>， 再执行一次父类构造函数，给子类增加父类的属性方法；</p><blockquote><p>在不用的地方有完全一模一样的属性方法被两次写入，冗余</p></blockquote></li></ol><h2 id="4.-原型式继承">4. 原型式继承<a title="#4.-原型式继承" href="#4.-原型式继承"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">object</span>(<span class="params">obj</span>)&#123; <span class="comment">// obj 父类 返回obj的原型对象</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">F</span>(<span class="params"></span>)&#123;&#125;;</span><br><span class="line">    F.<span class="property"><span class="keyword">prototype</span></span> = obj;  </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">F</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;parent&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;dddd&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 分布解读</span></span><br><span class="line"><span class="comment">// 1. function F()&#123;&#125;;</span></span><br><span class="line"><span class="comment">// F.prototype </span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">constructor</span>: f <span class="title function_">F</span>(),</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. F.prototype = Parent;    // 浅复制 Parent</span></span><br><span class="line"><span class="comment">// F.prototype</span></span><br><span class="line"><span class="title class_">Parent</span>()&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;parent&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// F.prototype = person F.prototye</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;dddd,</span></span><br><span class="line"><span class="string">    __proto__: Object</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">// 3. new F();  返回值 原型对象 指向传入对象 的实例</span></span><br><span class="line"><span class="string">// Parent</span></span><br><span class="line"><span class="string">F&#123;</span></span><br><span class="line"><span class="string">    __proto__: f Parent()&#123;</span></span><br><span class="line"><span class="string">        arguments, caller, length, name:&quot;Parent&quot;,</span></span><br><span class="line"><span class="string">        prototype:&#123;...&#125;,</span></span><br><span class="line"><span class="string">        __proto__: f ()</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">// person</span></span><br><span class="line"><span class="string">F&#123;</span></span><br><span class="line"><span class="string">    __proto__: &#123;</span></span><br><span class="line"><span class="string">        name: &#x27;</span>dddd<span class="string">&#x27;,</span></span><br><span class="line"><span class="string">        __proto__: Object</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    name : <span class="string">&#x27;dddd&#x27;</span>;</span><br><span class="line">    color : [<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;pink&#x27;</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> man = <span class="title function_">object</span>(person);</span><br><span class="line">man.<span class="property">name</span> = <span class="string">&#x27;man&#x27;</span>;</span><br><span class="line">man.<span class="property">color</span>.<span class="title function_">push</span>(<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> man1 = <span class="title function_">object</span>(person);</span><br><span class="line"></span><br><span class="line"><span class="comment">// man</span></span><br><span class="line">F&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;man&#x27;</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>],</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;dddd&#x27;</span>,</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// man1</span></span><br><span class="line">F&#123;</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>],</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;dddd&#x27;</span>,</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>核心代码：<code>function object(obj)&#123; function F(); F.prototype = obj; return new F();&#125;</code></p><p>优点：</p><ol><li>继承了父类的原型</li></ol><p>缺点：</p><ol><li><code>obj</code>是函数时，子类无法得到父类构造函数的属性和方法</li><li><code>F.prototype = obj </code> 是浅复制，所以所有子类操作的是父类同一个引用类型数据</li><li>无法传递参数</li><li><code>object()</code> 可以用 <code>es5</code> 的 <code>Object.create()</code> 替代</li></ol><h2 id="5.-寄生式继承">5. 寄生式继承<a title="#5.-寄生式继承" href="#5.-寄生式继承"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">create</span>(<span class="params">ori</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> clone = <span class="title function_">object</span>(ori);</span><br><span class="line">    <span class="comment">// 可在此增强对象</span></span><br><span class="line">    clone.<span class="property">getName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> clone; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;dddd&#x27;</span>,</span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>]</span><br><span class="line">&#125;</span><br><span class="line">person.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getColor</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">color</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son = <span class="title function_">create</span>(person);</span><br><span class="line">son.<span class="property">name</span> = <span class="string">&#x27;son&#x27;</span>;</span><br><span class="line">son.<span class="property">color</span>.<span class="title function_">push</span>(<span class="string">&#x27;pink&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son1 = <span class="title function_">create</span>(person);</span><br><span class="line"></span><br><span class="line"><span class="comment">// son</span></span><br><span class="line">F &#123;</span><br><span class="line">    <span class="attr">getName</span>: <span class="title function_">f</span>(),</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;son&#x27;</span></span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        color : [<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;pink&#x27;</span>],</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;dddd&#x27;</span>,</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// son1</span></span><br><span class="line">F &#123;</span><br><span class="line">    <span class="attr">getName</span>: <span class="title function_">f</span>(),</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        color : [<span class="string">&#x27;red&#x27;</span>,<span class="string">&#x27;pink&#x27;</span>],</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;dddd&#x27;</span>,</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>核心代码：<code>function create(ori)&#123; let clone = object(ori); clone.getName = function()&#123;&#125;; return clone; &#125;</code></p><p>跟原型继承的区别：</p><ol><li>能增强对象，为构造函数新增属性方法，增强函数</li></ol><p>优点：</p><ol><li>继承了父类的原型</li></ol><p>缺点：</p><ol><li><code>obj</code>是函数时，子类无法得到父类构造函数的属性和方法</li><li><code>F.prototype = obj </code> 是浅复制，所以所有子类操作的是父类同一个引用类型数据</li><li>无法传递参数</li><li><code>object()</code> 可以用 <code>es5</code> 的 <code>Object.create()</code> 替代</li></ol><h2 id="6.-寄生组合式继承">6. 寄生组合式继承<a title="#6.-寄生组合式继承" href="#6.-寄生组合式继承"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">inherit</span>(<span class="params">son, parent</span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> prototype = <span class="title class_">Object</span>.<span class="title function_">create</span>(parent.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">    prototype.<span class="property">constructor</span> = son;</span><br><span class="line">    son.<span class="property"><span class="keyword">prototype</span></span> = prototype;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params">name</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = [<span class="string">&#x27;red&#x27;</span>]</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">getName</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getColor</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">color</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params">name, age</span>)&#123;</span><br><span class="line">    <span class="title class_">Parent</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">inherit</span>(son, parent);    <span class="comment">// 将son的原型对象指向 parent的原型</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getAge</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">age</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;son&#x27;</span>, <span class="number">12</span>);</span><br><span class="line">son.<span class="property">name</span> = <span class="string">&#x27;sonson0&#x27;</span>;</span><br><span class="line">son.<span class="property">color</span>.<span class="title function_">push</span>(<span class="string">&#x27;pink&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son1 = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;son1&#x27;</span>, <span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// son</span></span><br><span class="line"><span class="title class_">Son</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;sonson0&#x27;</span>,                  <span class="comment">// 继承父类实例</span></span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;pink&#x27;</span>],           <span class="comment">// 继承父类实例</span></span><br><span class="line">    <span class="attr">getName</span>: f (),                    <span class="comment">// 继承父类实例</span></span><br><span class="line">    <span class="attr">age</span>: <span class="number">12</span>,                          <span class="comment">// 子类实例</span></span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="title class_">Son</span> (name, age), </span><br><span class="line">        <span class="attr">getAge</span>: f (),  <span class="comment">// 继承子类原型</span></span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span> &#123;</span><br><span class="line">            <span class="attr">constructor</span>: <span class="title class_">Parent</span>(),   </span><br><span class="line">            <span class="attr">getColor</span>: <span class="title function_">f</span>(),            <span class="comment">// 继承父类原型</span></span><br><span class="line">            <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// son1</span></span><br><span class="line"><span class="title class_">Son</span> = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">color</span>: [<span class="string">&#x27;red&#x27;</span>],</span><br><span class="line">    <span class="attr">getName</span>: f (),</span><br><span class="line">    <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Parent</span> &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="title class_">Son</span> (name, age),</span><br><span class="line">        <span class="attr">getAge</span>: f (),</span><br><span class="line">        <span class="attr">__proto__</span>: <span class="title class_">Object</span> &#123;</span><br><span class="line">            <span class="attr">constructor</span>: <span class="title class_">Parent</span>(),</span><br><span class="line">            <span class="attr">getColor</span>: <span class="title function_">f</span>(),</span><br><span class="line">            <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>核心代码：</p><pre><code>`son.prototype = Object.create(parent.prototype); son.prototye.constructor = son `    — **寄生模式**</code></pre><p>​       <code>Parent.call(this)</code> — <strong>构造函数传参</strong></p><p>与组合继承的区别在于：</p><ol><li>组合继承使用 <code>son.prototype = new Parent()</code> ； 而寄生组合使用 <code>son.prototype = Object.create(Parent.prototype)</code></li><li>组合会执行两次<code>Parent.call(this)</code> ；寄生组合只会在实例化 <code>Son</code> 时，执行一次 <code>Parent.call(this)</code></li></ol><p>优点：</p><ol><li>最成熟的继承实现方法，也是库实现的方法</li></ol><h2 id="7.-混入方式继承">7. 混入方式继承<a title="#7.-混入方式继承" href="#7.-混入方式继承"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Son</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title class_">Parent</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="title class_">Parent2</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="title class_">Parent2</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// 将Parent2.prototype 拷贝到 Son.prototype</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Son</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Son</span>;</span><br></pre></td></tr></table></figure><h2 id="8.-es6类继承-extends">8. es6类继承 extends<a title="#8.-es6类继承-extends" href="#8.-es6类继承-extends"></a></h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    getName = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    setName = <span class="keyword">function</span>(<span class="params">name</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Parent</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    getAge = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">setAge = <span class="keyword">function</span>(<span class="params">age</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> son = <span class="keyword">new</span> <span class="title class_">Son</span>(<span class="string">&#x27;son&#x27;</span>, <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// son</span></span><br><span class="line"><span class="title class_">Son</span> = &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">12</span>,</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;son&#x27;</span>,</span><br><span class="line">    <span class="attr">getAge</span>: <span class="title function_">f</span>(), <span class="attr">setAge</span>: <span class="title function_">f</span>(),</span><br><span class="line">    <span class="attr">getName</span>: <span class="title function_">f</span>(), <span class="attr">setName</span>: <span class="title function_">f</span>(),</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Parent</span>&#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="keyword">class</span> <span class="title class_">Son</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="keyword">class</span> <span class="title class_">Parent</span>,</span><br><span class="line">    <span class="attr">__proto__</span>: <span class="title class_">Object</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>extends 关键字的核心代码实现</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">_inherits</span>(<span class="params">subType, superType</span>) &#123;</span><br><span class="line">  </span><br><span class="line">    <span class="comment">// 创建对象，创建父类原型的一个副本</span></span><br><span class="line">    <span class="comment">// 增强对象，弥补因重写原型而失去的默认的constructor 属性</span></span><br><span class="line">    <span class="comment">// 指定对象，将新创建的对象赋值给子类的原型</span></span><br><span class="line">    subType.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(superType &amp;&amp; superType.<span class="property"><span class="keyword">prototype</span></span>, &#123;</span><br><span class="line">        <span class="attr">constructor</span>: &#123;</span><br><span class="line">            <span class="attr">value</span>: subType,</span><br><span class="line">            <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">configurable</span>: <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (superType) &#123;</span><br><span class="line">        <span class="title class_">Object</span>.<span class="property">setPrototypeOf</span> </span><br><span class="line">            ? <span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(subType, superType) </span><br><span class="line">            : subType.<span class="property">__proto__</span> = superType;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>参考文章：<a href="https://juejin.cn/post/6844903696111763470">https://juejin.cn/post/6844903696111763470</a></p><p><a href="https://muyiy.cn/blog/5/5.2.html">https://muyiy.cn/blog/5/5.2.html</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;js继承方案&quot;&gt;js继承方案&lt;a title=&quot;#js继承方案&quot; href=&quot;#js继承方案&quot;&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;继承本质：复制，重写原型对象，代之以一个新类型的实例&lt;/p&gt;
&lt;h2 id=&quot;1.-原型链继承&quot;&gt;1. 原型链继承&lt;a title=&quot;#1.-</summary>
      
    
    
    
    <category term="furtherNotes" scheme="https://shylees.github.io/categories/furtherNotes/"/>
    
    
    <category term="JS" scheme="https://shylees.github.io/tags/JS/"/>
    
    <category term="原型" scheme="https://shylees.github.io/tags/%E5%8E%9F%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>深入js原型 prototype、原型对象 __proto__ [[prototype]]、原型链</title>
    <link href="https://shylees.github.io/furtherNotes/further/03%E5%8E%9F%E5%9E%8B"/>
    <id>https://shylees.github.io/furtherNotes/further/03%E5%8E%9F%E5%9E%8B</id>
    <published>2022-09-16T13:37:00.000Z</published>
    <updated>2022-09-17T09:13:35.000Z</updated>
    
    <content type="html"><![CDATA[<p>原型： <code>Prototype</code></p><p>原型对象：<code>__proto__ </code>  <code>[[prototype]]</code></p><p>原型链：每个对象有一个原型对象，通过 <code>__proto__</code> 指针 指向上一个原型，并继承其方法和属性，同时原型对象也可能拥有原型，这样一层一层，最终指向 <code>null</code>。</p><p>通过原型链一个对象会拥有定义在其他对象中的属性和方法。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;function parent name&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Parent</span>();</span><br><span class="line"><span class="keyword">let</span> c = <span class="title class_">Object</span>.<span class="title function_">create</span>(p);  <span class="comment">// child 是一个新的空对象，有一个指向对象 p 的指针 __proto__</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Parent</span> <span class="comment">// function Parent()&#123; this.name = &#x27;...&#x27; &#125;</span></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">constructor</span>   <span class="comment">// Function() &#123; [native code] &#125; 默认值 与其他任何引用or基本类型同</span></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>  <span class="comment">// Object类型 &#123; constructor:f Parent() , __proto__:Object &#125;</span></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Parent</span>  <span class="comment">// function Parent()&#123; this.name = &#x27;...&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span> <span class="comment">// f() &#123; [native code] &#125;  </span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(<span class="title class_">Parent</span>) <span class="comment">// f() &#123; [native code] &#125; 通常用这个 function get __proto__ === [[prototype]]</span></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">__proto__</span>.<span class="property">constructor</span> === <span class="title class_">Parent</span>.<span class="property">constructor</span>  <span class="comment">// Function()&#123; [native code] &#125; </span></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">__proto__</span> != <span class="title class_">Parent</span>.<span class="property">__proto__</span>.<span class="property">constructor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// -------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">p <span class="comment">// Parent &#123;name: &quot;...&quot;, __proto__: &#123;&#125; &#125;</span></span><br><span class="line">p.<span class="property">constructor</span> <span class="comment">// f Parent() &#123; this.name = &#x27;...&#x27; &#125;  找的是 __proto__ 的</span></span><br><span class="line">p.<span class="property">__proto__</span>.<span class="property">contructor</span> === <span class="title class_">Parent</span> === p.<span class="property">constructor</span> <span class="comment">// f Parent() &#123; this.name = &#x27;...&#x27; &#125;</span></span><br><span class="line">p.<span class="property">__proto__</span> === <span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// -------------------------------------------------------------------------</span></span><br><span class="line"></span><br><span class="line">c <span class="comment">// Parent&#123; __proto__: Parent&#123; name:&#x27;...&#x27;, __proto__: &#123;&#125; &#125; &#125;</span></span><br><span class="line"><span class="comment">// c == Parent &#123;__proto__: p&#125;</span></span><br><span class="line">c.<span class="property">constructor</span> <span class="comment">// f Parent() &#123; this.name = &#x27;...&#x27; &#125;</span></span><br><span class="line">c != p != <span class="title class_">Parent</span></span><br><span class="line">c.<span class="property">__proto__</span> === p</span><br><span class="line">c.<span class="property">__proto__</span>.<span class="property">__proto__</span> === p.<span class="property">__proto__</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span> </span><br><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"></span><br><span class="line">p.<span class="property">__proto__</span> === <span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="literal">null</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123;</span><br><span class="line">    <span class="attr">constructor</span>: <span class="title class_">Parent</span>()&#123;</span><br><span class="line">    <span class="variable language_">arguments</span>, caller, length, <span class="attr">name</span>: <span class="string">&quot;Parent&quot;</span>,</span><br><span class="line">    prototype : &#123;...&#125;, <span class="comment">// 这里一整个 循环引用类似</span></span><br><span class="line">__proto__ : <span class="title function_">f</span>(<span class="params"></span>)&#123;...&#125;, <span class="comment">// 一些api apply, constructor, toString, symbol...</span></span><br><span class="line">        [[<span class="title class_">FunctionLocation</span>]]: ...,</span><br><span class="line">        [[<span class="title class_">Scopes</span>]] : <span class="title class_">Scopes</span>[ <span class="title class_">Global</span>: &#123;&#125; ]</span><br><span class="line">&#125;,</span><br><span class="line">        </span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        <span class="attr">constructor</span>: f <span class="title class_">Object</span>()&#123; <span class="comment">// Object 构造函数</span></span><br><span class="line">            <span class="attr">arguments</span>:&#123;&#125;, <span class="title function_">assign</span>(), <span class="attr">caller</span>:&#123;&#125;, <span class="title function_">create</span>(), <span class="title function_">defineProperties</span>(), <span class="title function_">defineProperty</span>(), <span class="title function_">entries</span>(), <span class="title function_">freeze</span>(), <span class="title function_">formEntries</span>(), <span class="title function_">getOwnPropertyDescriptor</span>()...</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="title function_">hasOwnProperty</span>(), </span><br><span class="line">        <span class="title function_">isPrototypeOf</span>(), </span><br><span class="line">        <span class="title function_">propertyIsEnumerable</span>(),</span><br><span class="line">        <span class="title function_">toLocaleString</span>(),</span><br><span class="line">        <span class="title function_">toString</span>(), <span class="title function_">valueOf</span>()...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>Symbol 作为构造函数来说不完整，因为不支持 <code>new Symbol()</code>，但其原型上有 <code>constructor</code> 属性 <code>===  Symbol.prototype.constructor</code></p></li><li><p>引用类型 <code>constructor</code> 属性是可以修改的，但对于基本类型是只读的，<code>null undefined</code> 没有 <code>constructor</code></p></li><li><p><code>__proto__</code>  是每个实例都有的属性，<code>prototype</code> 是构造函数的属性，在实例上不存在，但是<code>p.__proto__</code>  <code>Parent.prototype</code> 指向同一个对象</p></li><li><p><code>__proto__</code> 在 <code>es6</code> 被标准化，但性能问题并不推荐使用，推荐使用 <code>Object.getPrototypeOf()</code></p></li><li><p>instanceof 原理：一层层查找 <code>__proto__</code>，如果和 <code>constructor.prototype</code> 相等则返回 <code>true</code></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;原型： &lt;code&gt;Prototype&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;原型对象：&lt;code&gt;__proto__ &lt;/code&gt;  &lt;code&gt;[[prototype]]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;原型链：每个对象有一个原型对象，通过 &lt;code&gt;__proto__&lt;/cod</summary>
      
    
    
    
    <category term="furtherNotes" scheme="https://shylees.github.io/categories/furtherNotes/"/>
    
    
    <category term="JS" scheme="https://shylees.github.io/tags/JS/"/>
    
    <category term="原型" scheme="https://shylees.github.io/tags/%E5%8E%9F%E5%9E%8B/"/>
    
  </entry>
  
  <entry>
    <title>项目性能优化之缓存和懒加载</title>
    <link href="https://shylees.github.io/workNotes/work/12%20%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E7%BC%93%E5%AD%98%E5%92%8C%E5%9B%BE%E7%89%87%E6%87%92%E9%A2%84%E5%8A%A0%E8%BD%BD"/>
    <id>https://shylees.github.io/workNotes/work/12%20%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E7%BC%93%E5%AD%98%E5%92%8C%E5%9B%BE%E7%89%87%E6%87%92%E9%A2%84%E5%8A%A0%E8%BD%BD</id>
    <published>2022-06-07T13:30:47.483Z</published>
    <updated>2022-10-18T08:43:47.451Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p>在页面跳转的情况下，还是会有资源重新加载的情况，所以使用了 keep-alive</p><ol><li><p>在 router.js 增加允许使用 keep-alive</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;./components/Home.vue&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">List</span> <span class="keyword">from</span> <span class="string">&quot;./components/List.vue&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> router = <span class="title class_">VueRouter</span>.<span class="title function_">createRouter</span>(&#123;</span><br><span class="line">  <span class="attr">history</span>: <span class="title class_">VueRouter</span>.<span class="title function_">createWebHashHistory</span>(),</span><br><span class="line">  <span class="attr">routes</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">Home</span>,</span><br><span class="line">      <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;home&quot;</span>,</span><br><span class="line">        <span class="attr">requiresAuth</span>: <span class="literal">true</span>, <span class="comment">//</span></span><br><span class="line">        <span class="attr">keepAlive</span>: <span class="literal">true</span>, <span class="comment">// 允许使用缓存</span></span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">path</span>: <span class="string">&quot;/list/:category&quot;</span>,</span><br><span class="line">      <span class="attr">component</span>: <span class="title class_">List</span>,</span><br><span class="line">      <span class="attr">meta</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;list&quot;</span>,</span><br><span class="line">        <span class="attr">requiresAuth</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">keepAlive</span>: <span class="literal">true</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure></li><li><p>在 app.js 使用 keep-alive</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- vue3 写法 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-slot</span>=<span class="string">&quot;&#123; Component &#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">keep-alive</span> <span class="attr">v-if</span>=<span class="string">&quot;$route.meta.keepAlive&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">component</span> <span class="attr">:is</span>=<span class="string">&quot;Component&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">component</span> <span class="attr">v-if</span>=<span class="string">&quot;!$route.meta.keepAlive&quot;</span> <span class="attr">:is</span>=<span class="string">&quot;Component&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- vue2 写法 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;$route.meta.keepAlive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">keep-alive</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">router-view</span> <span class="attr">v-if</span>=<span class="string">&quot;!$route.meta.keepAlive&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol></li></ol><blockquote><p><font color="red">如果第一个方法没有效果的话，那么要结合第二个看</font></p></blockquote><ol start="2"><li><p>路由回退中 router.go() 与 router.back()</p><blockquote><p><a href="https://blog.csdn.net/qq_42618566/article/details/91045282">https://blog.csdn.net/qq_42618566/article/details/91045282</a></p></blockquote><ul><li><code>go()</code> 原页面表单中的内容会丢失</li><li><code>back()</code> 原页面表单中的内容会保留<ul><li><code>back()</code> 后退</li><li><code>back(0)</code> 刷新</li><li><code>back(1)</code> 前进</li></ul></li></ul></li><li><p>使用 keep-alive，第二次跳转页面后 不会 触发到原先在 onMounted 的 使页面到顶部，就会保持上个页面滚动条的滚动情况</p><ul><li>在 onActived 写一个与 onMounted 一样的逻辑</li><li>页面第一次进入的时候，钩子触发的顺序是 created-&gt;mounted-&gt;activated，所以别在 mounted 和 activated 方法中写相同的逻辑代码</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onActivated</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> = <span class="number">0</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">pageYOffset</span>) &#123;</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">pageYOffset</span> = <span class="number">0</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollTop</span> = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>图片懒加载</p><ul><li><p>原理：将图片的 url 放在 <code>&lt;img src=&quot;&quot; :data-src=&quot;url&quot; /&gt;</code> 的 data-src 里，当图片位于用户可视区时就将 url 放到 src 属性里</p></li><li><p>判断图片是否位于可视区的方法:</p><ol><li>scroll 事件监听，用 scrollTop 等属性计算位置判断</li><li>使用 Intersection Observer</li><li>Intersection Observer<blockquote><p><a href="https://juejin.cn/post/7080544007834730510">https://juejin.cn/post/7080544007834730510</a> 这篇文章挺全面的</p></blockquote></li></ol></li><li><p>解决方法</p><blockquote><p>因为 项目是 vue3 + vant，所以使用 vant 自带的 <code>&lt;van-image lazy-load&gt;&lt;/van-image&gt;</code></p></blockquote></li></ul></li><li><p>图片懒加载的前提下，在右滑 or 轮播图切换，及非垂直滚动时做图片预加载，增加用户体验</p><ul><li><p>原理均类似于懒加载的原理，因为图片地址在 src 属性里时，页面就会自动加载图片资源了</p></li><li><p><strong>轮播</strong>原理：在当前图片轮播时，就将下一张图片给加载出来，这部分是取消了懒加载啦</p></li><li><p>实现:</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;w-100vw h-full relative&quot;</span> <span class="attr">:src</span>=<span class="string">&quot;realPic[index]&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 轮播图 图片懒加载</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * imgs: 配置文件中的 banner 图片的链接</span></span><br><span class="line"><span class="comment"> * realPic: 真正页面使用的图片的链接</span></span><br><span class="line"><span class="comment"> * changePic: 轮播图 图片切换的时候触发函数，预先加载后一个图片</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">let</span> imgs = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> board_1) &#123;</span><br><span class="line">  imgs.<span class="title function_">push</span>(item.<span class="property">banner</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> realPic = <span class="title function_">reactive</span>([imgs[<span class="number">0</span>], imgs[<span class="number">1</span>]]);</span><br><span class="line"><span class="keyword">let</span> count = <span class="title function_">ref</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> changePic = <span class="title function_">limit</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">  img.<span class="property">src</span> = imgs[count.<span class="property">value</span>];</span><br><span class="line">  <span class="keyword">if</span> (img.<span class="property">complete</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (count.<span class="property">value</span> &lt; imgs.<span class="property">length</span>) &#123;</span><br><span class="line">    realPic.<span class="title function_">push</span>(imgs[count.<span class="property">value</span>]);</span><br><span class="line">    count.<span class="property">value</span>++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// console.log(realPic);</span></span><br><span class="line">&#125;, imgs.<span class="property">length</span> - count.<span class="property">value</span>);</span><br></pre></td></tr></table></figure><ul><li><p><strong>右滑</strong>原理：所以在需要预加载的图片的 src 为 一个图片数组，初始情况下，数组为空，在懒加载的图片加载完成后就把该数组用 图片 src 填满</p></li><li><p>实现</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-if</span>=<span class="string">&quot;index &lt; 4&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-image</span></span></span><br><span class="line"><span class="tag">    <span class="attr">:src</span>=<span class="string">&quot;item.banner&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">class</span>=<span class="string">&quot;w-full h-full&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">lazy-load</span></span></span><br><span class="line"><span class="tag">    @<span class="attr">load</span>=<span class="string">&quot;load(index)&quot;</span></span></span><br><span class="line"><span class="tag">  &gt;</span><span class="tag">&lt;/<span class="name">van-image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">v-else</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">van-image</span> <span class="attr">:src</span>=<span class="string">&quot;preimg[index]&quot;</span> <span class="attr">class</span>=<span class="string">&quot;w-full h-full&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">van-image</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> preimg = <span class="title function_">reactive</span>([]);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> load = <span class="title function_">limit</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; board_2.<span class="property">list</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    preimg.<span class="title function_">push</span>(board_2.<span class="property">list</span>[i].<span class="property">banner</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;, <span class="number">1</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li><p>计算首屏时间</p><blockquote><p><a href="https://blog.csdn.net/weixin_40599109/article/details/108622434">https://blog.csdn.net/weixin_40599109/article/details/108622434</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t = performance.<span class="property">timing</span>;</span><br><span class="line"><span class="keyword">var</span> pageLoadTime = t.<span class="property">loadEventEnd</span> - t.<span class="property">navigationStart</span>;</span><br><span class="line"><span class="comment">// 在这里pageLoadTime就是首屏时间</span></span><br></pre></td></tr></table></figure></li><li><p>在进入同一个有 keepalive 的组件，但是要展示不同数据时，就要合理修改 reactive 的值</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在页面跳转的情况下，还是会有资源重新加载的情况，所以使用了 keep-alive&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;在 router.js 增加允许使用 keep-alive&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="vue3" scheme="https://shylees.github.io/tags/vue3/"/>
    
    <category term="性能优化" scheme="https://shylees.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>记录 windicss 使用过程中遇到的属性</title>
    <link href="https://shylees.github.io/workNotes/work/11%20vite%20vue3%20windicss%20backgroundImage"/>
    <id>https://shylees.github.io/workNotes/work/11%20vite%20vue3%20windicss%20backgroundImage</id>
    <published>2022-06-07T13:30:41.963Z</published>
    <updated>2022-10-18T08:27:42.920Z</updated>
    
    <content type="html"><![CDATA[<ol><li><p>常规使用</p><p><strong>文字 背景</strong></p><ul><li>font-size — text-[12px]</li><li>font-weight — font-[500]</li><li>line-height — leading-[14px]</li><li>color — text-[#5E6673]</li><li>background — bg-[#1A2437]</li><li>opacity — opacity-60</li><li>文本溢出 — line-clamp-3</li></ul><p><strong>盒子模型</strong></p><ul><li>padding — px(横向) py(纵向) pt pb pl pr</li><li>margin</li><li>width — w</li><li>height — h</li><li>圆角边框 — rounded-[4px]</li></ul><p><strong>定位</strong></p><ul><li>position — relative/absolute</li><li>display — block/flex</li><li>flex — flex-col/justify-between/flex-grow-0/items-center</li><li>z-index — z-index-1</li></ul></li></ol><ul><li>first-of-type:mt-0</li></ul><ol start="2"><li><p>使用 backgroundImage 做渐变失效的解决方案</p><ol><li>在 <code>windi.config.js</code> 文件中添加</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">extend</span>: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="attr">backgroundImage</span>: &#123;</span><br><span class="line">      <span class="string">&quot;gradient-61&quot;</span>:</span><br><span class="line">        <span class="string">&quot;linear-gradient(184.29deg, rgba(0, 0, 0, 0) 3.48%, rgba(0, 0, 0, 0.8) 96.51%)&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><ol start="2"><li>在 vue 中使用</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;bg-gradient-61&quot; &gt;</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;常规使用&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;文字 背景&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;font-size — text-[12px]&lt;/li&gt;
&lt;li&gt;font-weight — font-[500]&lt;/li&gt;
&lt;li&gt;line-height </summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="windicss" scheme="https://shylees.github.io/tags/windicss/"/>
    
  </entry>
  
  <entry>
    <title>html 标签嵌套规则</title>
    <link href="https://shylees.github.io/workNotes/work/10%20xhtml%20%E6%A0%87%E7%AD%BE%E5%B5%8C%E5%A5%97%E8%A7%84%E5%88%99"/>
    <id>https://shylees.github.io/workNotes/work/10%20xhtml%20%E6%A0%87%E7%AD%BE%E5%B5%8C%E5%A5%97%E8%A7%84%E5%88%99</id>
    <published>2022-04-23T08:28:48.565Z</published>
    <updated>2022-05-06T05:46:38.142Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>由 [nuxtjs 开发 spa](./10 nuxtjs <a href="http://xn--4ru063i.md">报错.md</a>) 引申出的思考</p><p>参考链接：<br><a href="https://cloud.tencent.com/developer/article/1009200">https://cloud.tencent.com/developer/article/1009200</a></p><p><a href="https://cloud.tencent.com/developer/article/1484900">https://cloud.tencent.com/developer/article/1484900</a></p><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Content_categories">https://developer.mozilla.org/zh-CN/docs/Web/Guide/HTML/Content_categories</a></p></blockquote><blockquote><p>其实第一个参考链接的图片已经讲的很清楚了，那我就大概总结一下吧</p></blockquote><ol><li><p>块级元素可以嵌套 块级/行内元素</p><ul><li>其中 <code>&lt;h1&gt;～&lt;h6&gt;</code> <code>&lt;dt&gt;</code> 只能嵌套行内元素</li><li>其中 <code>&lt;p&gt;</code> 可以嵌套 <code>&lt;p&gt;</code> 和 行内元素</li></ul></li><li><p>行内元素 只可以嵌套行内元素</p><ul><li>其中 <code>&lt;a&gt;</code> 可以嵌套除了 <code>&lt;a&gt;</code> 以外的几乎所有元素，包括行内和块级元素</li></ul></li><li><p>块级元素 与 块级元素 并列，行内元素 与 行内元素 并列</p></li></ol><blockquote><p>在使用 nuxtjs 配合 vue 开发的时候，报 <code>[vue warn]</code>的情况，只有 <code>&lt;a&gt; &lt;a&gt;&lt;/a&gt; &lt;/a&gt;</code>，及 a 标签 嵌套 a 标签才会出现，为啥捏？还没有搞懂…</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;由 [nuxtjs 开发 spa](./10 nuxtjs &lt;a href=&quot;http://xn--4ru063i.md&quot;&gt;报错.md&lt;/a&gt;) 引申出的思考&lt;/p&gt;
&lt;p&gt;参考链接：&lt;br&gt;
&lt;a href=&quot;https://cloud.tenc</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="html" scheme="https://shylees.github.io/tags/html/"/>
    
  </entry>
  
  <entry>
    <title>nuxtjs 开发 spa 遇上的有关 html 标签规则的报错</title>
    <link href="https://shylees.github.io/workNotes/work/10%20nuxtjs%E6%8A%A5%E9%94%99"/>
    <id>https://shylees.github.io/workNotes/work/10%20nuxtjs%E6%8A%A5%E9%94%99</id>
    <published>2022-04-20T13:51:19.513Z</published>
    <updated>2022-10-18T08:43:02.925Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>博客上线前，老大发现的 [vue warn], 说 “博客详情服务器渲染有问题”、“这个在正式环境会执行错误的”、“沙盒应该就会无法渲染”、“ssr 和 spa 渲染结果不一样”…</p><p>触发报错的操作: “在博客详情页直接刷新 就会提示我截图的错误”</p></blockquote><h3 id="报错信息:">报错信息:<a title="#报错信息:" href="#报错信息:"></a></h3><p>[Vue warn]: The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside <code>&lt;p&gt;</code>, or missing <code>&lt;tbody&gt;</code>. Bailing hydration and performing full client-side render.</p><h3 id="报错截图：">报错截图：<a title="#报错截图：" href="#报错截图："></a></h3><img src="https://s1.ax1x.com/2022/04/20/Ls48OK.png"><blockquote><p>大概意思是 HTML 结构嵌套不正确，会导致 srr 渲染的页面跟csr的不一样<br>根据黄色提示，我很快就定位到了代码的位置</p></blockquote><h3 id="报错效果图及其-html-标签:">报错效果图及其 html 标签:<a title="#报错效果图及其-html-标签:" href="#报错效果图及其-html-标签:"></a></h3><img src="https://s1.ax1x.com/2022/04/20/LsI3VO.jpg"><p>最外层的<code>&lt;a class=&quot;pre item&quot;&gt;</code></p><blockquote><p>本来最外层的 <code>&lt;a&gt;</code> 是 <code>&lt;p&gt;</code> 的，但是因为里面的两个 <code>&lt;a&gt;</code> 标签都是跳转同一个链接，所以我就直接把最外层改了，虽然我记得这样嵌套不行，但是我以为没影响！</p></blockquote><blockquote><p>我不知道为什么上个同学要分开写两个? 难道是因为分开 <code>hover</code> 改变样式? 如果有大佬知道分开写的好处, d 我!!! 我很感兴趣!!!</p></blockquote><h3 id="报错解决">报错解决<a title="#报错解决" href="#报错解决"></a></h3><p>因为 html 标签嵌套规则里面有提到 <code>&lt;a&gt;</code> 标签可以嵌套<strong>除本身以外</strong>的块级元素、行内元素，所以直接把里面的两个 <code>&lt;a&gt;</code> 改成其他标签，如 <code>&lt;span&gt;</code> 就解决问题啦！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;博客上线前，老大发现的 [vue warn], 说 “博客详情服务器渲染有问题”、“这个在正式环境会执行错误的”、“沙盒应该就会无法渲染”、“ssr 和 spa 渲染结果不一样”…&lt;/p&gt;
&lt;p&gt;触发报错的操作: “在博客详情页直接刷新 就会提示我</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="ssr" scheme="https://shylees.github.io/tags/ssr/"/>
    
    <category term="Nuxtjs" scheme="https://shylees.github.io/tags/Nuxtjs/"/>
    
    <category term="报错" scheme="https://shylees.github.io/tags/%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>HTTP 与 TCP keep-alive 的区别</title>
    <link href="https://shylees.github.io/furtherNotes/further/01%20http%20tcp%20keepalive"/>
    <id>https://shylees.github.io/furtherNotes/further/01%20http%20tcp%20keepalive</id>
    <published>2022-03-26T16:00:00.000Z</published>
    <updated>2022-03-26T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>根据 连接轮询扩展</p><p>参考链接:</p><p><a href="https://www.jianshu.com/p/95af6727bf6c">https://www.jianshu.com/p/95af6727bf6c</a></p><p><a href="https://www.jianshu.com/p/cb36364ee099">https://www.jianshu.com/p/cb36364ee099</a>   – 详细</p></blockquote><h2 id="http-keep-alive">HTTP keep-alive<a title="#http-keep-alive" href="#http-keep-alive"></a></h2><blockquote><p>决定tcp连接是长连接还是短连接</p></blockquote><ul><li>HTTP是基于TCP传输协议实现的，<strong>客户端与服务段要进行HTTP连接前，需要先建立TCP连接</strong>，然后客户端发送HTTP请求，服务端收到后就返回响应，至此[请求-应答]完成，随后释放连接。</li></ul><ul><li><p>HTTP短连接：每次请求都经历一个建立TCP的连接。一次连接只能请求一次资源。</p></li><li><p>HTTP长连接：HTTP的keepalive实现了这个功能，可以使用同一个TCP连接来发送和接受多个HTTP请求/应答，避免连接建立释放的过程造成的资源消耗</p></li></ul><ul><li>特点：只要任意一端没有明确提出断开连接，则保持TCP连接。</li><li>为了避免资源浪费的情况，web服务器会提供超时连接的参数，用来指定HTTP长连接的超时时间。</li></ul><h2 id="tcp-keep-alive">TCP keep-alive<a title="#tcp-keep-alive" href="#tcp-keep-alive"></a></h2><ul><li><p>是由TCP内核层实现的，称为<strong>TCP的保活机制</strong></p></li><li><p>定义在一个时间段，在这个时间段内，如果<strong>没有任何连接</strong>的相关活动，<strong>TCP保活机制会开始作用</strong> —— 每隔一个时间段，发送一个探测报文，该探测报文包含的数据非常少，<strong>如果连续几个探测报文都没有得到响应，则认为当前的TCP连接已经死亡</strong>，系统内核将错误信息通知上层应用程序。</p></li><li><p>如果对端程序是正常工作的。当TCP保活的探测报文发送给对端，对端会正常响应，这样TCP保活时间会被重置，等待下一个TCP保活时间的到来。</p></li><li><p>如果对端程序崩溃，或对端由于其他原因导致报文不可达。当TCP保活的探测报文发送给对端后，石沉大海，没有响应，连续几次，达到保活探测次数后，TCP会报告该TCP连接已死亡。</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;根据 连接轮询扩展&lt;/p&gt;
&lt;p&gt;参考链接:&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.jianshu.com/p/95af6727bf6c&quot;&gt;https://www.jianshu.com/p/95af6727bf6c&lt;/a&gt;&lt;/p</summary>
      
    
    
    
    <category term="furtherNotes" scheme="https://shylees.github.io/categories/furtherNotes/"/>
    
    
    <category term="HTTP" scheme="https://shylees.github.io/tags/HTTP/"/>
    
    <category term="TCP" scheme="https://shylees.github.io/tags/TCP/"/>
    
    <category term="计网" scheme="https://shylees.github.io/tags/%E8%AE%A1%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>长连接短链接 长轮询短轮询</title>
    <link href="https://shylees.github.io/furtherNotes/further/01%20tcp%E9%95%BF%E7%9F%AD%E8%BF%9E%E6%8E%A5%E8%BD%AE%E8%AF%A2"/>
    <id>https://shylees.github.io/furtherNotes/further/01%20tcp%E9%95%BF%E7%9F%AD%E8%BF%9E%E6%8E%A5%E8%BD%AE%E8%AF%A2</id>
    <published>2022-03-26T16:00:00.000Z</published>
    <updated>2022-03-26T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>参考链接：<a href="https://www.jianshu.com/p/3fc3646fad80">https://www.jianshu.com/p/3fc3646fad80</a></p></blockquote><h2 id="短链接">短链接<a title="#短链接" href="#短链接"></a></h2><p>http1.0</p><p>每次http连接都要经历：发送请求 -&gt; 建立tcp连接 -&gt; 传输数据 -&gt; 关闭tcp连接</p><h2 id="长连接">长连接<a title="#长连接" href="#长连接"></a></h2><p>http1.1</p><p>http connection = keep-alive，发送请求 -&gt; 建立tcp长连接 -&gt; 传输所有http请求及其响应数据 -&gt; 在超时时间内 如果没有请求发送的话就断开连接</p><blockquote><p>HTTP协议说到底是应用层的协议，而TCP才是真正的传输层协议，只有负责传输的这一层才需要建立连接。</p><p>所以长短连接是指 tcp 连接</p></blockquote><p><strong>Q1</strong> 是不是只要设置Connection为keep-alive就算是长连接了？</p><p><strong>A1</strong> 是的，但要服务器和客户端都设置。</p><blockquote><p>都说HTTP1.1默认是长连接，而观察我们平时开发的Web应用的HTTP头部，Connection也确实是keep-alive，那就是说我们大部分都是用的长连接</p></blockquote><p><strong>Q2</strong> 我们平时用的是不是长连接？</p><p><strong>A2</strong> 是的。（现在用的基本上都是HTTP1.1协议，你观察一下就会发现，基本上<strong>Connection都是keep-alive</strong>。而且HTTP协议文档上也提到了，HTTP1.1默认是长连接，也就是默认Connection的值就是keep-alive）</p><p><strong>Q3</strong> 这种普通的Web应用（比如博客园，我的个人博客这种）用长连接有什么好处？需不需要关掉长连接而使用短连接？</p><p><strong>A3</strong>  长连接是为了复用TCP连接，也就是说，长连接情况下，<strong>多个HTTP请求可以</strong>复用同一个TCP连接，这就节省了很多TCP连接建立和断开的消耗。</p><p>比如你请求了博客园的一个网页，这个网页里肯定还包含了CSS、JS等等一系列资源，如果你是短连接（也就是每次都要重新建立TCP连接）的话，那<strong>你每打开一个网</strong>页，基本<strong>要建立几个甚至几十个TCP连接</strong>，这浪费了多少资源就不用LZ去说了吧。</p><p>但如果是长连接的话，那么这么<strong>多次HTTP请求</strong>（这些请求包括请求网页内容，CSS文件，JS文件，图片等等），其实<strong>使用的都是一个TCP连接</strong>，很显然是可以节省很多消耗的。</p><p>长连接并不是永久连接的。如果一段时间内（具体的时间长短，是可以在header当中进行设置的，也就是所谓的<strong>超时时间</strong>），这个<strong>连接没有HTTP请求发出的话，那么这个长连接就会被断掉</strong>。</p><blockquote><p>首先长连接是为了复用，比如说在请求这个博客的时候，建立了一条tcp连接，在传输完一个html文件后，连接就关闭了，如果还有后续的css文件就需要再开启一个tcp连接，but 如果用了长连接，再与改网站有关的资源还没传输完的时候一直保持着改连接，</p></blockquote><h2 id="短轮询">短轮询<a title="#短轮询" href="#短轮询"></a></h2><p>在一个需要实时更新数据的地方，比如说商品库存量:</p><p>用JS写个死循环，<strong>不停的去请求服务器中的库存量是多少，然后刷新到这个页面当中</strong>，这其实就是所谓的短轮询。<strong>短轮询去服务端查询的时候，不管库存量有没有变化，服务器就立即返回结果了。</strong></p><p>坏处：那就是你很浪费服务器和客户端的资源，如果有1000个人停留在某个商品详情页面，那就是说会有1000个客户端不停的去请求服务器获取库存量，这显然是不合理的。</p><blockquote><p>短轮询就是在不停得向后端发送请求查询库存量，后端每次都返回当前数据库的值给前端</p><p>如果在很多用户都看这个页面时，后台就要返回很多数据</p></blockquote><h2 id="长轮询">长轮询<a title="#长轮询" href="#长轮询"></a></h2><p>在一个需要实时更新数据的地方，比如说商品库存量:</p><p>其实长轮询和短轮询最大的区别是，短轮询去服务端查询的时候，不管库存量有没有变化，服务器就立即返回结果了。而长轮询则不是，在长轮询中**，服务器如果检测到库存量没有变化的话，将会把当前请求挂起<strong>一段时间（这个时间也叫作</strong>超时时间**，一般是几十秒）。在这个时间里，<strong>服务器会去检测库存量有没有变化，检测到变化就立即返回，否则就一直等到超时为止。</strong></p><blockquote><p>长轮询就是发送一个查询库存量的请求，但是后端是在数据库变化的时候才返回给前端</p></blockquote><h2 id="轮询和连接的区别">轮询和连接的区别<a title="#轮询和连接的区别" href="#轮询和连接的区别"></a></h2><ol><li><p><strong>决定的方式</strong>，</p><p>一个TCP连接是否为长连接，是通过设置<strong>HTTP的Connection Header</strong>来决定的，而且是需要<strong>两边都设置</strong>才有效。</p><p>而一种轮询方式是否为长轮询，是根据<strong>服务端的处理方式</strong>来决定的，与客户端没有关系。</p></li><li><p><strong>实现的方式</strong>，</p><p>连接的长短是通过<strong>协议</strong>来规定和实现的。</p><p>而轮询的长短，是<strong>服务器通过编程</strong>的方式手动挂起请求来实现的。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;参考链接：&lt;a href=&quot;https://www.jianshu.com/p/3fc3646fad80&quot;&gt;https://www.jianshu.com/p/3fc3646fad80&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;短</summary>
      
    
    
    
    <category term="furtherNotes" scheme="https://shylees.github.io/categories/furtherNotes/"/>
    
    
    <category term="HTTP" scheme="https://shylees.github.io/tags/HTTP/"/>
    
    <category term="TCP" scheme="https://shylees.github.io/tags/TCP/"/>
    
    <category term="计网" scheme="https://shylees.github.io/tags/%E8%AE%A1%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>TCP三次握手、四次挥手</title>
    <link href="https://shylees.github.io/furtherNotes/further/02%20tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B"/>
    <id>https://shylees.github.io/furtherNotes/further/02%20tcp%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B%E5%9B%9B%E6%AC%A1%E6%8C%A5%E6%89%8B</id>
    <published>2022-03-26T16:00:00.000Z</published>
    <updated>2022-03-26T16:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>参考链接：</p><p><a href="https://juejin.cn/post/6844904070889603085#heading-1">https://juejin.cn/post/6844904070889603085#heading-1</a></p><p><a href="https://juejin.cn/post/6844903625513238541">https://juejin.cn/post/6844903625513238541</a></p></blockquote><h2 id="三次握手">三次握手<a title="#三次握手" href="#三次握手"></a></h2><h4 id="为什么要进行三次握手：为了确认对方的发送和接收能力。">为什么要进行三次握手：为了确认对方的发送和接收能力。<a title="#为什么要进行三次握手：为了确认对方的发送和接收能力。" href="#为什么要进行三次握手：为了确认对方的发送和接收能力。"></a></h4><h4 id="主要流程：">主要流程：<a title="#主要流程：" href="#主要流程："></a></h4><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/6/26/1643a1dd6df4813b~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp" style="zoom: 40%;float:flet;" >  <h4 id="为什么不是两次？">为什么不是两次？<a title="#为什么不是两次？" href="#为什么不是两次？"></a></h4><p>根本原因: 无法确认客户端的接收能力。</p><p>如果是两次，你现在发了 SYN 报文想握手，但是这个包<strong>滞留</strong>在了当前的网络中迟迟没有到达，TCP 以为这是丢了包，于是重传，两次握手建立好了连接。</p><p>看似没有问题，但是连接关闭后，如果这个<strong>滞留</strong>在网路中的包到达了服务端呢？这时候由于是两次握手，服务端只要接收到然后发送相应的数据包，就默认<strong>建立连接</strong>，但是现在客户端已经断开了。</p><h4 id="为什么不是四次？">为什么不是四次？<a title="#为什么不是四次？" href="#为什么不是四次？"></a></h4><p>三次握手的目的是确认双方<code>发送</code>和<code>接收</code>的能力，那四次握手可以嘛？</p><p>当然可以，100 次都可以。但为了解决问题，三次就足够了，再多用处就不大了。</p><h4 id="三次握手过程中可以携带数据么？">三次握手过程中可以携带数据么？<a title="#三次握手过程中可以携带数据么？" href="#三次握手过程中可以携带数据么？"></a></h4><p>第三次握手的时候，可以携带。前两次握手不能携带数据。</p><p>如果前两次握手能够携带数据，<strong>那么一旦有人想攻击服务器，那么他只需要在第一次握手中的 SYN 报文中放大量数据，那么服务器势必会消耗更多的时间和内存空间去处理这些数据</strong>，增大了服务器被攻击的风险。</p><p>第三次握手的时候，客户端已经处于<code>ESTABLISHED</code>状态，并且已经能够确认服务器的接收、发送能力正常，这个时候相对安全了，可以携带数据。</p><h4 id="同时打开会怎样？">同时打开会怎样？<a title="#同时打开会怎样？" href="#同时打开会怎样？"></a></h4><p>如果双方同时发 <code>SYN</code>报文，状态变化会是怎样的呢？</p><p>在发送方给接收方发<code>SYN</code>报文的同时，接收方也给发送方发<code>SYN</code>报文，两个人刚上了!</p><p>发完<code>SYN</code>，两者的状态都变为<code>SYN-SENT</code>。</p><p>在各自收到对方的<code>SYN</code>后，两者状态都变为<code>SYN-REVD</code>。</p><p>接着会回复对应的<code>ACK + SYN</code>，这个报文在对方接收之后，两者状态一起变为<code>ESTABLISHED</code>。</p><p>这就是同时打开情况下的状态变迁。</p><h2 id="四次挥手">四次挥手<a title="#四次挥手" href="#四次挥手"></a></h2><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2018/6/26/1643a20296de1ff0~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp" style="zoom:40%;" ><h4 id="等待2msl的意义">等待2MSL的意义<a title="#等待2msl的意义" href="#等待2msl的意义"></a></h4><p>如果不等待，客户端直接跑路，当<strong>服务端还有很多数据包要给客户端发</strong>，且还在路上的时候，若客户端的端口此时刚好被新的应用占用，那么就接收到了无用数据包，造成数据包混乱。所以，<strong>最保险的做法是等服务器发来的数据包都死翘翘再启动新的应用。</strong></p><ul><li>1 个 MSL 确保四次挥手中<strong>主动关闭方最后的 ACK 报文最终能达到对端</strong></li><li>1 个 MSL 确保<strong>对端没有收到 ACK 重传的 FIN 报文可以到达</strong></li></ul><p>这就是等待 2MSL 的意义。</p><h4 id="为什么是四次挥手而不是三次？">为什么是四次挥手而不是三次？<a title="#为什么是四次挥手而不是三次？" href="#为什么是四次挥手而不是三次？"></a></h4><p>因为服务端在接收到<code>FIN</code>, 往往不会立即返回<code>FIN</code>, <strong>必须等到服务端所有的报文都发送完毕了，才能发<code>FIN</code></strong>。因此先发一个<code>ACK</code>表示已经收到客户端的<code>FIN</code>，延迟一段时间才发<code>FIN</code>。这就造成了四次挥手。</p><p>如果是三次挥手会有什么问题？</p><p>等于<strong>说服务端将<code>ACK</code>和<code>FIN</code>的发送合并为一次挥手</strong>，这个时候<strong>长时间的延迟</strong>可能会导致客户端误以为<code>FIN</code>没有到达客户端，从而让客户端不断的重发<code>FIN</code></p><h4 id="同时关闭会怎样？">同时关闭会怎样？<a title="#同时关闭会怎样？" href="#同时关闭会怎样？"></a></h4><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2020/2/23/170723edeb9e8003~tplv-t2oaga2asx-zoom-in-crop-mark:1304:0:0:0.awebp" style="zoom:67%;" >]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;参考链接：&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://juejin.cn/post/6844904070889603085#heading-1&quot;&gt;https://juejin.cn/post/6844904070889603085#headi</summary>
      
    
    
    
    <category term="furtherNotes" scheme="https://shylees.github.io/categories/furtherNotes/"/>
    
    
    <category term="TCP" scheme="https://shylees.github.io/tags/TCP/"/>
    
    <category term="计网" scheme="https://shylees.github.io/tags/%E8%AE%A1%E7%BD%91/"/>
    
  </entry>
  
  <entry>
    <title>浅浅了解闭包</title>
    <link href="https://shylees.github.io/workNotes/work/09%20%E9%97%AD%E5%8C%85"/>
    <id>https://shylees.github.io/workNotes/work/09%20%E9%97%AD%E5%8C%85</id>
    <published>2022-03-02T03:49:00.000Z</published>
    <updated>2022-03-02T06:03:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>2022.03.02 周三</p><p>参考链接：<a href="https://github.com/lgwebdream/FE-Interview/issues/17">https://github.com/lgwebdream/FE-Interview/issues/17</a></p></blockquote><h2 id="对闭包的看法，为什么要用闭包？说一下闭包原理以及应用场景">对闭包的看法，为什么要用闭包？说一下闭包原理以及应用场景<a title="#对闭包的看法，为什么要用闭包？说一下闭包原理以及应用场景" href="#对闭包的看法，为什么要用闭包？说一下闭包原理以及应用场景"></a></h2><h3 id="闭包是什么？">闭包是什么？<a title="#闭包是什么？" href="#闭包是什么？"></a></h3><p>函数执行后返回结果是一个内部函数，并被外部变量所引用，如果内部函数持有被执行函数作用域的变量，就形成了闭包。</p><blockquote><p>简而言之：可以在内部函数访问到外部函数的作用域。</p></blockquote><p>使用闭包的作用：</p><ol><li>读取函数中的变量</li><li>将函数中的变量存储在内存中，保护变量不被污染。<blockquote><p>因此，会对内存有消耗，所以不可以滥用闭包，否则会影响网页性能，造成内存泄漏。<br>在不需要使用闭包时，要及时释放内存，可以将内层函数对象的变量赋值为 null</p></blockquote></li></ol><h3 id="闭包原理">闭包原理<a title="#闭包原理" href="#闭包原理"></a></h3><p>函数执行分成两个阶段：预编译阶段 和 执行阶段</p><ol><li>预编译阶段，如果发现内部函数使用了外部函数的变量，则会在内存中创建一个“闭包”对象并保存对应变量，如果已存在“闭包”，就只需要增加对应的属性值即可。</li><li>执行完后，函数执行上下文会被销毁，函数对“闭包”对象的引用也会被销毁，但内部函数还持有该“闭包”的引用，所以内部函数可以继续使用外部函数中的变量</li></ol><blockquote><p>利用函数作用域链的特性，一个函数<strong>内部定义的函数</strong> 会将包含的 <strong>外部函数的活动对象</strong> 添加到它的作用域中，函数执行完毕，其函数执行作用域链销毁；但因为 <strong>内部函数的作用域链</strong> 仍然<strong>在引用</strong>这个活动对象，所以其活动对象不会被销毁，直至内部函数被销毁后才被销毁。</p></blockquote><h3 id="优点">优点<a title="#优点" href="#优点"></a></h3><ul><li>可以从内部函数访问外部函数的作用域中的变量，且访问到的变量长期存储在内存中，可供后面使用</li><li>避免变量污染全局</li><li>把变量存在独立的作用域，作为私有成员存在</li></ul><h3 id="缺点">缺点<a title="#缺点" href="#缺点"></a></h3><ul><li>对内存消耗有负面影响，因内部函数保存了对外部变量的引用，导致无法被垃圾回收，增大内存使用量，所以使用不当会导致内存泄漏。</li><li>对处理速度具有负面影响。闭包的层级决定了引用的外部变量在查找时经过的作用域链的长度</li><li>可能获取到意外的值 captured value</li></ul><h3 id="应用场景">应用场景<a title="#应用场景" href="#应用场景"></a></h3><ol><li>模块封装；在各模块规范出现之前，都是用这样的方式防止变量污染全局</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> foo = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line">  bar.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">ddd</span> = <span class="keyword">function</span> <span class="title function_">ddd</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> foo;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">return</span> bar;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="2"><li>在循环中创建闭包，防止取到意外的值</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">num</span>)&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span> ; i &lt; <span class="number">3</span> ; i++&gt;)&#123;</span><br><span class="line">  <span class="title function_">foo</span>(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;2022.03.02 周三&lt;/p&gt;
&lt;p&gt;参考链接：&lt;a href=&quot;https://github.com/lgwebdream/FE-Interview/issues/17&quot;&gt;https://github.com/lgwebdream/FE-In</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="闭包" scheme="https://shylees.github.io/tags/%E9%97%AD%E5%8C%85/"/>
    
    <category term="JS" scheme="https://shylees.github.io/tags/JS/"/>
    
  </entry>
  
  <entry>
    <title>关于 v-html 内样式不生效</title>
    <link href="https://shylees.github.io/workNotes/work/07%20v-html%20%E6%A0%B7%E5%BC%8F%E4%B8%8D%E7%94%9F%E6%95%88"/>
    <id>https://shylees.github.io/workNotes/work/07%20v-html%20%E6%A0%B7%E5%BC%8F%E4%B8%8D%E7%94%9F%E6%95%88</id>
    <published>2022-02-24T03:53:00.000Z</published>
    <updated>2022-02-25T05:53:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>free-vpn 读取$t 里面的内容 作为 html 其中有个 a 标签有其他样式<br>参考链接 <a href="https://cloud.tencent.com/developer/article/1485232">https://cloud.tencent.com/developer/article/1485232</a></p></blockquote><p>关于 v-html</p><blockquote><p>在 vue 使用中，指令 v-html 渲染页面经常用到，类似于 jQuery 的$(‘x’).html( )去渲染。通过指令 v-html 渲染出来的内容还会带有原来的标签及其样式，如果需要修改或者重设其样式，应该如何去做呢？</p></blockquote><ul><li><p>采坑<br>   首先，我在 style 中用子级选择器去选中并修改样式，经过猛如虎的操作后，并没生效。F12 打开 Elements 调试，发现在 style 里面样式根本没加载上去，没有 class 中也没有类名出现。除此之外，渲染非该指令元素时，所有的类名会跟有 [data-v-xxxxxx]的东西。</p></li><li><p>排坑</p><ul><li>去掉 style 中的 scoped;</li><li>watch 监测数据变化;</li><li>深度选择器 &gt;&gt;&gt;</li></ul></li></ul><ol><li>在 vue 组件中，我们写 style 时，为了防止页面样式冲突，在每个组件中会加上 scoped 属性。经测试，去掉该属性即可渲染样式成功。但是在组件过多或者项目中大时，经常会出现页面样式冲突，因此该方法不建议使用。</li><li>在 script&gt;exportdefault 中,watch 属性可监听 v-html 所绑定值的变化。如果是后台请求的数据，那么可以在 watch 中监听改数据变化，当数据发生改变驱动视图后，动态绑定一个 class 来改变子级元素样式。此方法有一定局限性。</li><li>深度选择器 &gt;&gt;&gt;，可深度改变子级样式</li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.test</span> &gt;&gt;&gt; * &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 如果使用 scss或者 less等css扩展语言，则用 /deep/替代 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span> <span class="attr">type</span>=<span class="string">&quot;text/scss&quot;</span> <span class="attr">lang</span>=<span class="string">&quot;scss&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.test</span> &#123;</span></span><br><span class="line"><span class="language-css">    /deep/ * &#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>scoped 属性导致 css 仅对当前组件生效，而 html 绑定渲染出的内容可以理解为是子组件的内容，一般情况下子组件不会被加上对应的属性，所以不会应用带有 scoped 的 css。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;free-vpn 读取$t 里面的内容 作为 html 其中有个 a 标签有其他样式&lt;br&gt;
参考链接 &lt;a href=&quot;https://cloud.tencent.com/developer/article/1485232&quot;&gt;https://cl</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="vue" scheme="https://shylees.github.io/tags/vue/"/>
    
    <category term="报错" scheme="https://shylees.github.io/tags/%E6%8A%A5%E9%94%99/"/>
    
  </entry>
  
  <entry>
    <title>vue 一些注意的问题</title>
    <link href="https://shylees.github.io/workNotes/work/06%20vue%20%E9%97%AE%E9%A2%98"/>
    <id>https://shylees.github.io/workNotes/work/06%20vue%20%E9%97%AE%E9%A2%98</id>
    <published>2022-02-21T09:40:00.000Z</published>
    <updated>2022-02-21T11:04:00.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="vue-一些注意的问题">vue 一些注意的问题<a title="#vue-一些注意的问题" href="#vue-一些注意的问题"></a></h1><blockquote><p>参考 官方文档</p></blockquote><ol><li><p>v-if 与 v-show<br>v-if 是“真正”的条件渲染，因为它会确保在切换过程中条件块内的事件监听器和子组件适当地被销毁和重建。</p><p>v-if 也是惰性的：如果在初始渲染时条件为假，则什么也不做——直到条件第一次变为真时，才会开始渲染条件块。</p><p>相比之下，v-show 就简单得多——不管初始条件是什么，元素总是会被渲染，并且只是简单地基于 CSS 进行切换。</p><p>一般来说，<strong>v-if 有更高的切换开销，而 v-show 有更高的初始渲染开</strong>销。因此，如果需要非常频繁地切换，则使用 v-show 较好；如果在运行时条件很少改变，则使用 v-if 较好。</p></li><li><p>避免 v-if 与 v-for 一起使用<br>v-for 优先级比 v-if 高，多了不必要的开销</p></li><li><p>v-for 中的 in 可以被 of 替代，它更接近 JavaScript 迭代器的语法；<br>v-for 中的参数依次为(item, keyname, value);<br>不要使用对象或数组之类的非基本类型值作为 v-for 的 key。请用字符串或数值类型的值。</p></li><li><p>数组更新检测<br>Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新。这些被包裹过的方法包括：<br><code>push() pop() shift() unshift() splice() sort() reverse()</code></p></li><li><p>@click=“handle($event)” 在内联语句处理器中访问原始的 DOM 事件</p></li><li><p>v-model</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-model</span>=<span class="string">&quot;searchText&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 等价于 --&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-bind:value</span>=<span class="string">&quot;searchText&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">v-on:input</span>=<span class="string">&quot;searchText = $event.target.value&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br></pre></td></tr></table></figure><pre><code>v-model 在内部为不同的输入元素使用不同的 property 并抛出不同的事件：+ text 和 textarea 元素使用 value property 和 input 事件；+ checkbox 和 radio 使用 checked property 和 change 事件；+ select 字段将 value 作为 prop 并将 change 作为事件。</code></pre><ol start="7"><li><p>一个组件的data必须是 函数<br>一个组件的 data 选项必须是一个函数，因此每个实例可以维护一份被返回对象的独立的拷贝</p></li><li><p>注册组件</p></li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 全局注册</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;component-a&#x27;</span>, &#123; <span class="comment">/* ... */</span> &#125;)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;component-b&#x27;</span>, &#123; <span class="comment">/* ... */</span> &#125;)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;component-c&#x27;</span>, &#123; <span class="comment">/* ... */</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123; <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 局部注册</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ComponentA</span> = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ComponentB</span> = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">ComponentC</span> = &#123; <span class="comment">/* ... */</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">el</span>: <span class="string">&#x27;#app&#x27;</span>,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;component-a&#x27;</span>: <span class="title class_">ComponentA</span>,</span><br><span class="line">    <span class="string">&#x27;component-b&#x27;</span>: <span class="title class_">ComponentB</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol start="9"><li><p>prop 的写法<br>在js中:<code>props:[postTitle]</code>;<br>在html中:<code>&lt;blog-post post-title=&quot;hello!&quot;&gt;&lt;/blog-post&gt;</code></p></li><li><p>prop 可以通过 v-bind 动态赋值</p></li></ol><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">blog-post</span> <span class="attr">v-bind:title</span>=<span class="string">&quot;post.title&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">blog-post</span>&gt;</span></span><br></pre></td></tr></table></figure><ol start="11"><li><p>单项数据流<br>所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。这样会防止从子组件意外变更父级组件的状态，从而导致你的应用的数据流向难以理解。</p><p>额外的，每次父级组件发生变更时，子组件中所有的 prop 都将会刷新为最新的值。这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;vue-一些注意的问题&quot;&gt;vue 一些注意的问题&lt;a title=&quot;#vue-一些注意的问题&quot; href=&quot;#vue-一些注意的问题&quot;&gt;&lt;/a&gt;&lt;/h1&gt;
&lt;blockquote&gt;
&lt;p&gt;参考 官方文档&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="vue" scheme="https://shylees.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>vue风格指南</title>
    <link href="https://shylees.github.io/workNotes/work/05%20vue%20%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97"/>
    <id>https://shylees.github.io/workNotes/work/05%20vue%20%E9%A3%8E%E6%A0%BC%E6%8C%87%E5%8D%97</id>
    <published>2022-02-21T08:42:00.000Z</published>
    <updated>2022-02-21T09:37:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="优先级a">优先级A<a title="#优先级a" href="#优先级a"></a></h2><h3 id="组件名为多个单词">组件名为多个单词<a title="#组件名为多个单词" href="#组件名为多个单词"></a></h3><p>这样做可以避免跟现有的以及未来的 HTML 元素相冲突，因为所有的 HTML 元素名称都是单个单词的。</p><h3 id="组件数据必为函数">组件数据必为函数<a title="#组件数据必为函数" href="#组件数据必为函数"></a></h3><p>当在组件中使用 data property 的时候 (除了 new Vue 外的任何地方)，它的值必须是返回一个对象的函数。</p><blockquote><p>当 data 的值是一个对象时，它会在这个组件的所有实例之间共享。当组件被重用时，因为每个组件的实例都引用了相同的数据对象，更改其中一个对象就是改变到其他使用到该组件的数据</p></blockquote><p>我们希望每个组件实例都管理其自己的数据。为了做到这一点，每个实例必须生成一个独立的数据对象。在 JavaScript 中，在一个函数中返回这个对象就可以了。</p><h3 id="prop-定义应该尽量详细">prop 定义应该尽量详细<a title="#prop-定义应该尽量详细" href="#prop-定义应该尽量详细"></a></h3><p>至少要指定数据类型</p><blockquote><p>细致的 prop 定义有两个好处：</p><p>它们写明了组件的 API，所以很容易看懂组件的用法；</p><p>在开发环境下，如果向一个组件提供格式不正确的 prop，Vue 将会告警，以帮助你捕获潜在的错误来源。</p></blockquote><h3 id="v-for-设置-key">v-for 设置 key<a title="#v-for-设置-key" href="#v-for-设置-key"></a></h3><p>以便维护内部组件及其子树的状态。</p><h3 id="避免-v-if-和-v-for-一起使用">避免 v-if 和 v-for 一起使用<a title="#避免-v-if-和-v-for-一起使用" href="#避免-v-if-和-v-for-一起使用"></a></h3><p>当 Vue 处理指令时，v-for 比 v-if 具有更高的优先级。<br>所以当用在一个元素的时候，会先把所有元素遍历渲染出来，在看v-if哪些是不用渲染的</p><h3 id="为组件样式设置作用域">为组件样式设置作用域<a title="#为组件样式设置作用域" href="#为组件样式设置作用域"></a></h3><p>顶级 App 组件和布局组件中的样式可以是全局的，但是其它所有组件都应该是有作用域的</p><blockquote><p>这条规则只和单文件组件有关。你不一定要使用 scoped attribute。设置作用域也可以通过 CSS Modules，那是一个基于 class 的类似 BEM 的策略，当然你也可以使用其它的库或约定。</p><p>不管怎样，对于组件库，我们应该更倾向于选用基于 class 的策略而不是 scoped attribute。</p><p>这让覆写内部样式更容易：使用了常人可理解的 class 名称且没有太高的选择器优先级，而且不太会导致冲突。</p></blockquote><p>Vue 使用 _ 前缀来定义其自身的私有 property，所以使用相同的前缀 (比如 <em>update) 有覆写实例 property 的风险。即便你检查确认 Vue 当前版本没有用到这个 property 名，也不能保证和将来的版本没有冲突。<br>对于 $ 前缀来说，其在 Vue 生态系统中的目的是暴露给用户的一个特殊的实例 property，所以把它用于私有 property 并不合适。<br>不过，我们推荐把这两个前缀结合为 $</em>，作为一个用户定义的私有 property 的约定，以确保不会和 Vue 自身相冲突。</p><h2 id="优先级b">优先级B<a title="#优先级b" href="#优先级b"></a></h2><h3 id="组件文件">组件文件<a title="#组件文件" href="#组件文件"></a></h3><h3 id="单文件组件文件名称">单文件组件文件名称<a title="#单文件组件文件名称" href="#单文件组件文件名称"></a></h3><p>单文件组件的文件名应该要么始终是单词大写开头 (PascalCase)，要么始终是横线连接 (kebab-case)。</p><blockquote><p>单词大写开头对于代码编辑器的自动补全最为友好，因为这使得我们在 JS(X) 和模板中引用组件的方式尽可能的一致。然而，混用文件命名方式有的时候会导致大小写不敏感的文件系统的问题，这也是横线连接命名同样完全可取的原因。</p></blockquote><h3 id="基础组件名">基础组件名<a title="#基础组件名" href="#基础组件名"></a></h3><p>应用特定样式和约定的基础组件 (也就是展示类的、无逻辑的或无状态的组件) 应该全部以一个特定的前缀开头，比如 Base、App 或 V</p><h3 id="单例组件名-the">单例组件名 The<a title="#单例组件名-the" href="#单例组件名-the"></a></h3><p>只应该拥有单个活跃实例的组件应该以 The 前缀命名，以示其唯一性</p><p>这不意味着组件只可用于一个单页面，而是每个页面只使用一次。这些组件永远不接受任何 prop，因为它们是为你的应用定制的，而不是它们在你的应用中的上下文。如果你发现有必要添加 prop，那就表明这实际上是一个可复用的组件，只是目前在每个页面里只使用一次。</p><h3 id="紧密耦合的组件名">紧密耦合的组件名<a title="#紧密耦合的组件名" href="#紧密耦合的组件名"></a></h3><p>和父组件紧密耦合的子组件应该以父组件名作为前缀命名</p><h3 id="自闭合组件">自闭合组件<a title="#自闭合组件" href="#自闭合组件"></a></h3><p>组件名中的单词顺序在单文件组件、字符串模板和 JSX 中没有内容的组件应该是自闭合的——但在 DOM 模板里永远不要这样做。</p><p>自闭合组件表示它们不仅没有内容，而且刻意没有内容。其不同之处就好像书上的一页白纸对比贴有“本页有意留白”标签的白纸。而且没有了额外的闭合标签，你的代码也更简洁。</p><p>不幸的是，HTML 并不支持自闭合的自定义元素——只有官方的“空”元素。所以上述策略仅适用于进入 DOM 之前 Vue 的模板编译器能够触达的地方，然后再产出符合 DOM 规范的 HTML。<br>组件名应该以高级别的 (通常是一般化描述的) 单词开头，以描述性的修饰词结尾。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在单文件组件、字符串模板和 JSX 中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MyComponent</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 在 DOM 模板中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-component</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="模版中的组件名大小写">模版中的组件名大小写<a title="#模版中的组件名大小写" href="#模版中的组件名大小写"></a></h3><p>对于绝大多数项目来说，在单文件组件和字符串模板中组件名应该总是 PascalCase 的——但是在 DOM 模板中总是 kebab-case 的。</p><blockquote><p>PascalCase 相比 kebab-case 有一些优势：</p></blockquote><blockquote><p>编辑器可以在模板里自动补全组件名，因为 PascalCase 同样适用于 JavaScript。<br><code>&lt;MyComponent&gt;</code> 视觉上比 <code>&lt;my-component&gt;</code> 更能够和单个单词的 HTML 元素区别开来，因为前者的不同之处有两个大写字母，后者只有一个横线。<br>如果你在模板中使用任何非 Vue 的自定义元素，比如一个 Web Component，PascalCase 确保了你的 Vue 组件在视觉上仍然是易识别的。<br>不幸的是，由于 HTML 是大小写不敏感的，在 DOM 模板中必须仍使用 kebab-case。</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 在单文件组件和字符串模板中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">MyComponent</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 在 DOM 模板中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-component</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- or 在所有地方 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">my-component</span>&gt;</span><span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="js/jsx-中组件名大小写">js/jsx 中组件名大小写<a title="#js/jsx-中组件名大小写" href="#js/jsx-中组件名大小写"></a></h3><p>JS/JSX 中的组件名应该始终是 PascalCase 的，尽管在较为简单的应用中只使用 Vue.component 进行全局组件注册时，可以使用 kebab-case 字符串。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;MyComponent&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;my-component&#x27;</span>, &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">MyComponent</span> <span class="keyword">from</span> <span class="string">&#x27;./MyComponent.vue&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;MyComponent&#x27;</span>,</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="完整单词组件名">完整单词组件名<a title="#完整单词组件名" href="#完整单词组件名"></a></h3><p>组件名应该倾向于完整单词而不是缩写。</p><p>编辑器中的自动补全已经让书写长命名的代价非常之低了，而其带来的明确性却是非常宝贵的。不常用的缩写尤其应该避免。</p><h3 id="prop名-大小写">prop名 大小写<a title="#prop名-大小写" href="#prop名-大小写"></a></h3><p>在声明 prop 的时候，其命名应该始终使用 camelCase，而在模板和 JSX 中应该始终使用 kebab-case。</p><p><strong>我们单纯的遵循每个语言的约定。在 JavaScript 中更自然的是 camelCase。而在 HTML 中则是 kebab-case。</strong></p><h3 id="多-attr-元素">多 attr 元素<a title="#多-attr-元素" href="#多-attr-元素"></a></h3><p>多个 attribute 的元素应该分多行撰写，每个 attribute 一行。</p><p>在 JavaScript 中，用多行分隔对象的多个 property 是很常见的最佳实践，因为这样更易读。模板和 JSX 值得我们做相同的考虑。</p><h3 id="模版中简单表达式">模版中简单表达式<a title="#模版中简单表达式" href="#模版中简单表达式"></a></h3><p>组件模板应该只包含简单的表达式，复杂的表达式则应该重构为计算属性或方法。</p><p>复杂表达式会让你的模板变得不那么声明式。我们应该尽量描述应该出现的是什么，而非如何计算那个值。而且计算属性和方法使得代码可以重用。</p><h3 id="简单计算属性">简单计算属性<a title="#简单计算属性" href="#简单计算属性"></a></h3><p>应该把复杂计算属性分割为尽可能多的更简单的 property。</p><blockquote><p>易于测试、易于阅读、更好的“拥抱变化”</p></blockquote><h3 id="带引号的-attr-值">带引号的 attr 值<a title="#带引号的-attr-值" href="#带引号的-attr-值"></a></h3><p>非空 HTML attribute 值应该始终带引号 (单引号或双引号，选你 JS 里不用的那个)。</p><p>在 HTML 中不带空格的 attribute 值是可以没有引号的，但这鼓励了大家在特征值里不写空格，导致可读性变差。</p><h3 id="指令缩写">指令缩写<a title="#指令缩写" href="#指令缩写"></a></h3><p>指令缩写 (用 : 表示 v-bind:、用 @ 表示 v-on: 和用 # 表示 v-slot:) 应该要么都用要么都不用。</p><h2 id="优先级-c">优先级 C<a title="#优先级-c" href="#优先级-c"></a></h2><h3 id="组件/实例的选项顺序">组件/实例的选项顺序<a title="#组件/实例的选项顺序" href="#组件/实例的选项顺序"></a></h3><p>推荐</p><ol><li>副作用 - 触发组件外的影响<ul><li>el</li></ul></li><li>全局感知 - 要求组件外的知识<ul><li>name</li><li>parent</li></ul></li><li>组件类型 - 更改组件类型<ul><li>functional</li></ul></li><li>模版修改器 - 改变模版的编译方式<ul><li>delimiters</li><li>comments</li></ul></li><li>模版依赖 - 模版内使用的资源<ul><li>components</li><li>directives</li><li>filters</li></ul></li><li>组合 - 向选项里合并 property<ul><li>extends</li><li>mixins</li></ul></li><li>接口 - 组件接口<ul><li>inheritAttrs</li><li>model</li><li>props/propsData</li></ul></li><li>本地状态 - 本地响应式 property<ul><li>data</li><li>computed</li></ul></li><li>事件 - 通过响应式事件触发的回调函数<ul><li>watch</li><li>生命周期钩子</li></ul></li><li>非响应式的 property - 不依赖响应式系统的 property<ul><li>methods</li></ul></li><li>渲染 - 组件输出声明描述<ul><li>template/render</li><li>renderError</li></ul></li></ol><h3 id="元素-attr-顺序">元素 attr 顺序<a title="#元素-attr-顺序" href="#元素-attr-顺序"></a></h3><ol><li>定义 - 提供组件的选项<ul><li>is</li></ul></li><li>列表渲染<ul><li>v-for</li></ul></li><li>条件渲染<ul><li>v-if</li><li>v-else-if</li><li>v-else</li><li>v-show</li><li>v-cloak</li></ul></li><li>渲染方式<ul><li>v-pre</li><li>v-once</li></ul></li><li>全局感知 - 需要超越组件的知识<ul><li>id</li></ul></li><li>唯一的attr<ul><li>ref</li><li>key</li></ul></li><li>双向绑定<ul><li>v-model</li></ul></li><li>其他 attr - 所有普通的绑定或未绑定的 attr</li><li>事件<ul><li>v-on</li></ul></li><li>内容<ul><li>v-html</li><li>v-text</li></ul></li></ol><h3 id="组件/实例选项中的空行">组件/实例选项中的空行<a title="#组件/实例选项中的空行" href="#组件/实例选项中的空行"></a></h3><p>你可能想在多个 property 之间增加一个空行，特别是在这些选项一屏放不下，需要滚动才能都看到的时候。</p><p>当你的组件开始觉得密集或难以阅读时，在多个 property 之间添加空行可以让其变得容易。在一些诸如 Vim 的编辑器里，这样格式化后的选项还能通过键盘被快速导航。</p><h3 id="单文件组件的顶级元素的顺序">单文件组件的顶级元素的顺序<a title="#单文件组件的顶级元素的顺序" href="#单文件组件的顶级元素的顺序"></a></h3><p>单文件组件应该总是让 <code>&lt;script&gt;</code>、<code>&lt;template&gt;</code> 和 <code>&lt;style&gt;</code> 标签的顺序保持一致。且 <code>&lt;style&gt;</code> 要放在最后，因为另外两个标签至少要有一个。</p><h2 id="优先级d-谨慎使用">优先级D 谨慎使用<a title="#优先级d-谨慎使用" href="#优先级d-谨慎使用"></a></h2><h3 id="不在-v-if/v-else-if/v-else-➕-key">不在 v-if/v-else-if/v-else ➕ key<a title="#不在-v-if/v-else-if/v-else-➕-key" href="#不在-v-if/v-else-if/v-else-➕-key"></a></h3><p>如果一组 v-if + v-else 的元素类型相同，最好使用 key (比如两个 <div> 元素)。</p><p>默认情况下，Vue 会尽可能高效的更新 DOM。这意味着其在相同类型的元素之间切换时，会修补已存在的元素，而不是将旧的元素移除然后在同一位置添加一个新元素。如果本不相同的元素被识别为相同，则会出现意料之外的结果。</p><h3 id="scoped-避免出现元素选择器">scoped 避免出现元素选择器<a title="#scoped-避免出现元素选择器" href="#scoped-避免出现元素选择器"></a></h3><p>在 scoped 样式中，类选择器比元素选择器更好，因为大量使用元素选择器是很慢的。</p><h3 id="隐性父子组件通信">隐性父子组件通信<a title="#隐性父子组件通信" href="#隐性父子组件通信"></a></h3><p>应该优先通过 prop 和事件进行父子组件之间的通信，而不是 this.$parent 或变更 prop。</p><p>一个理想的 Vue 应用是 prop 向下传递，事件向上传递的。遵循这一约定会让你的组件更易于理解。然而，在一些边界情况下 prop 的变更或 this.$parent 能够简化两个深度耦合的组件。</p><p>问题在于，这种做法在很多简单的场景下可能会更方便。但请当心，不要为了一时方便 (少写代码) 而牺牲数据流向的简洁性 (易于理解)。</p><h3 id="非-flux-的全局状态管理">非 flux 的全局状态管理<a title="#非-flux-的全局状态管理" href="#非-flux-的全局状态管理"></a></h3><p>应该优先通过 Vuex 管理全局状态，而不是通过 this.$root 或一个全局事件总线。</p><p>通过 this.$root 和/或全局事件总线管理状态在很多简单的情况下都是很方便的，但是并不适用于绝大多数的应用。</p><p>Vuex 是 Vue 的官方类 flux 实现，其提供的不仅是一个管理状态的中心区域，还是组织、追踪和调试状态变更的好工具。它很好地集成在了 Vue 生态系统之中 (包括完整的 Vue DevTools 支持)。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;优先级a&quot;&gt;优先级A&lt;a title=&quot;#优先级a&quot; href=&quot;#优先级a&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id=&quot;组件名为多个单词&quot;&gt;组件名为多个单词&lt;a title=&quot;#组件名为多个单词&quot; href=&quot;#组件名为多个单词&quot;&gt;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;这样做可以</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="vue" scheme="https://shylees.github.io/tags/vue/"/>
    
  </entry>
  
  <entry>
    <title>nuxtjs 的生命周期</title>
    <link href="https://shylees.github.io/workNotes/work/04%20nuxtjs%20%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"/>
    <id>https://shylees.github.io/workNotes/work/04%20nuxtjs%20%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F</id>
    <published>2022-02-21T03:28:00.000Z</published>
    <updated>2022-02-21T03:35:00.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="asyncdata">asyncData<a title="#asyncdata" href="#asyncdata"></a></h2><blockquote><p>可能想要在服务器端获取并渲染数据。Nuxt.js添加了asyncData方法使得你能够在渲染组件之前异步获取数据。</p></blockquote><p>asyncData 是最常用最重要的生命周期，同时也是服务端渲染的关键点。<br>该生命周期只限于页面组件调用，第一个参数为 context。<br>它调用的时机在组件初始化之前，运作在服务端环境。<br>所以在 asyncData 生命周期中，我们<strong>无法通过 this 引用当前的 Vue 实例</strong>，也<strong>没有 window 对象和 document 对象</strong>，这些是我们需要注意的。<br>一般在 asyncData 会对主要<strong>页面数据进行预先请求</strong>，获取到的数据会交由服务端拼接成 html 返回前端渲染，以此提高首屏加载速度和进行 seo 优化。</p><h2 id="fecth">fecth<a title="#fecth" href="#fecth"></a></h2><blockquote><p>用于在渲染页面前填充应用的状态树（store）数据， 与 asyncData 方法类似，不同的是它<strong>不会设置组件的数据。</strong></p></blockquote><p>得知该生命周期用于填充 Vuex 状态树，与 asyncData 同样，它在组件初始化前调用，第一个参数为 context。但这并不是说我们只能在 fetch 中填充状态树，在 asyncData 中同样可以。</p><h2 id="validate">validate<a title="#validate" href="#validate"></a></h2><blockquote><p>但这并不是说我们只能在 fetch 中填充状态树，在 asyncData 中同样可以。</p></blockquote><p>在验证路由参数合法性时，它能够帮助我们，第一个参数为 context。与上面有点不同的是，我们能够访问实例上的方法 <a href="http://this.methods.xxx">this.methods.xxx</a>。</p><h2 id="watchquery">watchQuery<a title="#watchquery" href="#watchquery"></a></h2><blockquote><p>监听参数字符串更改并在更改时执行组件方法 (asyncData, fetch, validate, layout, …)</p></blockquote><p>watchQuery 可设置 Boolean 或 Array (默认: [])。使用 watchQuery 属性可以监听参数字符串的更改。 如果定义的字符串发生变化，将调用所有组件方法(asyncData, fetch, validate, layout, …)。 为了提高性能，默认情况下禁用。<br>使用 watchQuery有点好处就是，当我们使用浏览器后退按钮或前进按钮时，页面数据会刷新，因为参数字符串发生了变化。</p><h2 id="head">head<a title="#head" href="#head"></a></h2><blockquote><p>Nuxt.js 使用了 vue-meta 更新应用的 头部标签(Head) 和 html 属性。</p></blockquote><p>使用 head 方法设置当前页面的头部标签，该方法里能通过 this 获取组件的数据。<br>除了好看以外，正确的设置 meta 标签，还能有利于页面被搜索引擎查找，进行 seo 优化。<br>一般都会设置 description(简介) 和 keyword(关键词)。</p><h2 id="生命周期的调用顺序">生命周期的调用顺序<a title="#生命周期的调用顺序" href="#生命周期的调用顺序"></a></h2><p>validate  =&gt;  asyncData  =&gt;  fetch  =&gt;  head</p><blockquote><p>参考链接 <a href="https://juejin.cn/post/6844904160324747278#heading-12">https://juejin.cn/post/6844904160324747278#heading-12</a></p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;asyncdata&quot;&gt;asyncData&lt;a title=&quot;#asyncdata&quot; href=&quot;#asyncdata&quot;&gt;&lt;/a&gt;&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;可能想要在服务器端获取并渲染数据。Nuxt.js添加了asyncData方法使得你能够在渲染</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="ssr" scheme="https://shylees.github.io/tags/ssr/"/>
    
    <category term="Nuxtjs" scheme="https://shylees.github.io/tags/Nuxtjs/"/>
    
  </entry>
  
  <entry>
    <title>ssr - Server Side Render</title>
    <link href="https://shylees.github.io/workNotes/work/03%20ssr"/>
    <id>https://shylees.github.io/workNotes/work/03%20ssr</id>
    <published>2022-02-18T10:13:00.000Z</published>
    <updated>2022-02-18T11:07:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>参考链接：<a href="https://juejin.cn/post/7002198277462442014">https://juejin.cn/post/7002198277462442014</a></p></blockquote><p>服务端渲染 ssr，是指一种传统的渲染开发方式，就是在页面请求url的时候，<strong>服务端将我们需要的 html 文本组装好，并返回给浏览器</strong>，这个HTML文本被浏览器解析之后，不需要<strong>经过 JavaScript 脚本的执行，即可直接构建出希望的 DOM 树</strong>并展示到页面中。</p><p>ssr 有两种模式，单页面 和 非单页面 模式</p><ul><li>单页面：后端首次渲染的单页面应用</li><li>非单页面：完全使用后端路由的后端模版渲染模式</li></ul><blockquote><p>区别于 使用后端路由的程度</p></blockquote><h2 id="csr---client-side-render">csr - Client Side Render<a title="#csr---client-side-render" href="#csr---client-side-render"></a></h2><p>csr与ssr其对应的，一种目前流行的渲染方式，它<strong>依赖的是运行在客户端的JS</strong>，用户首次发送请求<strong>只能得到小部分的指引性HTML代码</strong>。第二次请求将会请求更多包含HTML字符串的JS文件。</p><h2 id="需要ssr的原因">需要ssr的原因<a title="#需要ssr的原因" href="#需要ssr的原因"></a></h2><p>SPA应用的<strong>首屏打开速度很慢</strong>，因为用户首次加载需要先下载SPA框架及应用程序的代码，然后再渲染页面，且 <strong>SPA 应用不利于 SEO 优化</strong>。</p><p>想着是不是可以<strong>将应用首页先加载出来，然后让首页用不到的其他 JS 文件再慢慢加载</strong>。但是由于 JS 引擎是单线程的，数据的组装过程会受到阻塞，单靠浏览器端的话不容易实现。</p><p>SSR 契机就在此，如果<strong>将组装数据、渲染 HTML 页面的过程放在服务端</strong>，而<strong>浏览器端只负责显示接收到的 HTML 文</strong>件，那首屏的打开速度无疑会快很多。</p><h2 id="优缺点">优缺点<a title="#优缺点" href="#优缺点"></a></h2><ul><li>优点<ul><li><strong>更快的响应时间</strong>，相对于客户端渲染，服务端渲染在浏览器请求URL之后已经<strong>得到了一个带有数据的HTML文本</strong>，浏览器只需要解析HTML，直接构建DOM树就可以</li><li><strong>有利于 SEO</strong> ，可以<strong>将 SEO 的关键信息直接在后台就渲染成 HTML，而保证搜索引擎的爬虫都能爬取到关键数据</strong>，然后在别人使用搜索引擎搜索相关的内容时，你的网页排行能靠得更前，这样你的流量就有越高。</li></ul></li><li>缺点<ul><li>相<strong>对于只需要提供静态文件的服务器</strong>，SSR中使用的渲染程序自然会<strong>占用更多的CPU和内存资源</strong></li><li>一些<strong>常用的浏览器API可能无法正常使用</strong>，比如<code>window</code>、<code>docment</code>和<code>alert</code>等，如果使用的话需要对运行的环境加以判断</li><li>开发调试会有一些麻烦，因为涉及了浏览器及服务器，对于<strong>SPA的一些组件的生命周期的管理会变得复杂</strong></li><li>可能会由于某些因素导致服务器端渲染的结果与浏览器端的<strong>结果不一致</strong></li></ul></li><li>总结<ul><li>最适用于静态展示页面，如果页面动态数据较多时需要谨慎使用。</li></ul></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;参考链接：&lt;a href=&quot;https://juejin.cn/post/7002198277462442014&quot;&gt;https://juejin.cn/post/7002198277462442014&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;</summary>
      
    
    
    
    <category term="workNotes" scheme="https://shylees.github.io/categories/workNotes/"/>
    
    
    <category term="vue" scheme="https://shylees.github.io/tags/vue/"/>
    
    <category term="ssr" scheme="https://shylees.github.io/tags/ssr/"/>
    
  </entry>
  
</feed>
