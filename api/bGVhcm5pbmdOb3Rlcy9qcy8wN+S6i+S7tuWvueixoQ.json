{"title":"jsè·å–å…ƒç´ ","date":"2020-05-19T16:00:00.000Z","date_formatted":{"ll":"May 20, 2020","L":"05/20/2020","MM-DD":"05-20"},"link":"learningNotes/js/07äº‹ä»¶å¯¹è±¡","tags":["JavaScript"],"categories":["learningNotes"],"updated":"2020-05-20T16:00:00.000Z","content":"<h3 id=\"1.-domäº‹ä»¶æµ\">1. DOMäº‹ä»¶æµ<a title=\"#1.-domäº‹ä»¶æµ\" href=\"#1.-domäº‹ä»¶æµ\"></a></h3>\n<p>dom äº‹ä»¶æµ ä¸‰ä¸ªé˜¶æ®µï¼š</p>\n<ol>\n<li>\n<p>JS ä»£ç ä¸­åªèƒ½æ‰§è¡Œæ•è·æˆ–è€…å†’æ³¡å…¶ä¸­çš„ä¸€ä¸ªé˜¶æ®µã€‚</p>\n</li>\n<li>\n<p>onclick å’Œ attachEventï¼ˆieï¼‰ åªèƒ½å¾—åˆ°å†’æ³¡é˜¶æ®µã€‚</p>\n</li>\n<li>\n<p>æ•è·é˜¶æ®µ å¦‚æœaddEventListener ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ true é‚£ä¹ˆåˆ™å¤„äºæ•è·é˜¶æ®µ</p>\n<blockquote>\n<p>document -&gt; html -&gt; body -&gt; father -&gt; son</p>\n</blockquote>\n</li>\n<li>\n<p>å†’æ³¡é˜¶æ®µ å¦‚æœaddEventListener ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ false æˆ–è€… çœç•¥ é‚£ä¹ˆåˆ™å¤„äºå†’æ³¡é˜¶æ®µ</p>\n<blockquote>\n<p>son -&gt; father -&gt;body -&gt; html -&gt; document</p>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"2.-äº‹ä»¶å¯¹è±¡\">2. äº‹ä»¶å¯¹è±¡<a title=\"#2.-äº‹ä»¶å¯¹è±¡\" href=\"#2.-äº‹ä»¶å¯¹è±¡\"></a></h3>\n<ol>\n<li>\n<p>eventå°±æ˜¯ä¸€ä¸ªäº‹ä»¶å¯¹è±¡ <code>div.onclick=function(event)&#123;&#125; |div.addEventListenter('click',function(event) &#123;&#125; ) </code></p>\n</li>\n<li>\n<p>äº‹ä»¶å¯¹è±¡åªæœ‰æœ‰äº†äº‹ä»¶æ‰ä¼šå­˜åœ¨ï¼Œæ˜¯ç³»ç»Ÿç»™æˆ‘ä»¬è‡ªåŠ¨åˆ›å»ºçš„</p>\n</li>\n<li>\n<p>äº‹ä»¶å¯¹è±¡  æ˜¯ äº‹ä»¶çš„ä¸€ç³»åˆ—ç›¸å…³æ•°æ®çš„é›†åˆ  è·Ÿäº‹ä»¶ç›¸å…³çš„</p>\n<blockquote>\n<p>ï¼ˆegï¼šé¼ æ ‡ç‚¹å‡»  åŒ…å«é¼ æ ‡åæ ‡ã€‚ã€‚ã€‚  ifé”®ç›˜äº‹ä»¶  åŒ…å«æŒ‰ä¸‹å“ªä¸ªé”®ï¼‰</p>\n</blockquote>\n</li>\n<li>\n<p>è¿™ä¸ªäº‹ä»¶å¯¹è±¡å¯ä»¥è‡ªå·±å‘½åï¼Œæ¯”å¦‚event-&gt;e</p>\n</li>\n<li>\n<p>å…¼å®¹æ€§  ie678  <code>window.event</code></p>\n</li>\n</ol>\n<h3 id=\"3.-äº‹ä»¶å¯¹è±¡å¸¸è§çš„å±æ€§å’Œæ–¹æ³•\">3. äº‹ä»¶å¯¹è±¡å¸¸è§çš„å±æ€§å’Œæ–¹æ³•<a title=\"#3.-äº‹ä»¶å¯¹è±¡å¸¸è§çš„å±æ€§å’Œæ–¹æ³•\" href=\"#3.-äº‹ä»¶å¯¹è±¡å¸¸è§çš„å±æ€§å’Œæ–¹æ³•\"></a></h3>\n<div class=\"Ï†bq\"><div class=\"Ï†bs\"><table><thead>\n<tr>\n<th>å±æ€§|æ–¹æ³•</th>\n<th>è¡Œä¸º</th>\n<th>æ ‡å‡†</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>e.target</td>\n<td>è¿”å›   è§¦å‘  äº‹ä»¶çš„å¯¹è±¡</td>\n<td>æ ‡å‡†</td>\n</tr>\n<tr>\n<td>e.srcElement</td>\n<td>è¿”å›   è§¦å‘  äº‹ä»¶çš„å¯¹è±¡</td>\n<td>éæ ‡å‡†  ie678ä½¿ç”¨</td>\n</tr>\n<tr>\n<td>e.type</td>\n<td>è¿”å›æ—¶é—´çš„ç±»å‹</td>\n<td></td>\n</tr>\n<tr>\n<td>e.cancelBubble</td>\n<td>é˜»æ­¢å†’æ³¡</td>\n<td>éæ ‡å‡†  ie678ä½¿ç”¨</td>\n</tr>\n<tr>\n<td>e.stopPropagation()</td>\n<td>é˜»æ­¢å†’æ³¡</td>\n<td>æ ‡å‡†</td>\n</tr>\n<tr>\n<td>e.reutrnValue</td>\n<td>é˜»æ­¢é»˜è®¤äº‹ä»¶/è¡Œä¸º</td>\n<td>éæ ‡å‡†  ie678ä½¿ç”¨</td>\n</tr>\n<tr>\n<td>e.preventDefault()</td>\n<td>é˜»æ­¢é»˜è®¤äº‹ä»¶/è¡Œä¸º</td>\n<td>æ ‡å‡†</td>\n</tr>\n</tbody>\n</table></div></div><h3 id=\"4.-äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†/å§”æ´¾ï¼‰ï¼ˆå†’æ³¡å¥½å¤„ï¼‰ï¼š\">4. äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†/å§”æ´¾ï¼‰ï¼ˆå†’æ³¡å¥½å¤„ï¼‰ï¼š<a title=\"#4.-äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†/å§”æ´¾ï¼‰ï¼ˆå†’æ³¡å¥½å¤„ï¼‰ï¼š\" href=\"#4.-äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†/å§”æ´¾ï¼‰ï¼ˆå†’æ³¡å¥½å¤„ï¼‰ï¼š\"></a></h3>\n<p>åŸç†ï¼šä¸ç»™æ¯ä¸ªèŠ‚ç‚¹å•ç‹¬æ˜¯è®¾ç½®äº‹ä»¶ç›‘å¬å™¨ï¼Œè€Œæ˜¯å°†äº‹ä»¶ç›‘å¬å™¨è®¾ç½®å†å…¶çˆ¶ç»“ç‚¹ä¸Šï¼Œç„¶ååˆ©ç”¨å†’æ³¡åŸç†å½±å“è®¾ç½®æ¯ä¸ªå­èŠ‚ç‚¹<br>\nä½œç”¨ï¼šåªæ“ä½œäº†ä¸€æ¬¡DOMï¼Œæé«˜äº†ç¨‹åºçš„æ€§èƒ½</p>\n<p>äº‹ä»¶å§”æ‰˜çš„æ ¸å¿ƒåŸç†ï¼šç»™çˆ¶èŠ‚ç‚¹æ·»åŠ ä¾¦å¬å™¨ï¼Œ åˆ©ç”¨äº‹ä»¶å†’æ³¡å½±å“æ¯ä¸€ä¸ªå­èŠ‚ç‚¹</p>\n<blockquote>\n<p>æ¯”å¦‚ï¼šç»™ulæ³¨å†Œäº‹ä»¶ï¼Œç„¶ååˆ©ç”¨äº‹ä»¶å¯¹è±¡çš„targetæ¥æ‰¾åˆ°å½“å‰ç‚¹å‡»çš„liï¼Œä»¥ä¸ºç‚¹å‡»liï¼Œäº‹ä»¶ä¼šå†’æ³¡åˆ°ulä¸Šï¼Œulæœ‰æ³¨å†Œäº‹ä»¶ï¼Œå°±ä¼šè§¦å‘ç›‘å¬å™¨</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">\t    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>xxx<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>xxx<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>xxx<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>xxx<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\">\t    <span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span>xxx<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"keyword\">var</span> ul=<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;ul&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">ul.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>,<span class=\"keyword\">function</span>(<span class=\"params\">e</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"comment\">// e.target è¿™ä¸ªå¯ä»¥å¾—åˆ°æˆ‘ä»¬ç‚¹å‡»çš„å¯¹è±¡   ç‚¹å“ªä¸ªå“ªä¸ªèƒŒæ™¯å˜è‰²</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">\te.<span class=\"property\">target</span>.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span>=<span class=\"string\">&#x27;pink&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">&#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"5.-å¸¸ç”¨çš„é¼ æ ‡äº‹ä»¶\">5. å¸¸ç”¨çš„é¼ æ ‡äº‹ä»¶<a title=\"#5.-å¸¸ç”¨çš„é¼ æ ‡äº‹ä»¶\" href=\"#5.-å¸¸ç”¨çš„é¼ æ ‡äº‹ä»¶\"></a></h3>\n<h4 id=\"5.1-ç¦ç”¨é»˜è®¤é€‰é¡¹ï¼ˆäº†è§£ï¼‰\">5.1 ç¦ç”¨é»˜è®¤é€‰é¡¹ï¼ˆäº†è§£ï¼‰<a title=\"#5.1-ç¦ç”¨é»˜è®¤é€‰é¡¹ï¼ˆäº†è§£ï¼‰\" href=\"#5.1-ç¦ç”¨é»˜è®¤é€‰é¡¹ï¼ˆäº†è§£ï¼‰\"></a></h4>\n<ol>\n<li>\n<p>ç¦æ­¢é¼ æ ‡å³é”®èœå•ï¼š<code>contextmenu</code>ä¸»è¦æ§åˆ¶åº”è¯¥ä½•æ—¶æ˜¾ç¤ºä¸Šä¸‹èœå•ï¼Œä¸»è¦ç”¨äºç¨‹åºå‘˜å–æ¶ˆé»˜è®¤çš„ä¸Šä¸‹æ–‡èœå•</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;contextmenu&#x27;</span>,<span class=\"keyword\">function</span>(<span class=\"params\">e</span>)&#123;</span><br><span class=\"line\">\te.<span class=\"title function_\">prevetDefault</span>();</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>ç¦æ­¢é€‰ä¸­æ–‡å­—ï¼š<code>selectstart</code> å¼€å§‹é€‰ä¸­</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;selectstart&#x27;</span>,<span class=\"keyword\">function</span>(<span class=\"params\">e</span>)&#123;</span><br><span class=\"line\">\te.<span class=\"title function_\">prevetDefault</span>();</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h4 id=\"5.2-é¼ æ ‡äº‹ä»¶å¯¹è±¡\">5.2 é¼ æ ‡äº‹ä»¶å¯¹è±¡<a title=\"#5.2-é¼ æ ‡äº‹ä»¶å¯¹è±¡\" href=\"#5.2-é¼ æ ‡äº‹ä»¶å¯¹è±¡\"></a></h4>\n<p>eventå¯¹è±¡ä»£è¡¨æ—¶é—´çš„çŠ¶æ€ï¼Œè·Ÿäº‹ä»¶ç›¸å…³çš„ä¸€ç³»åˆ—ä¿¡æ¯çš„é›†åˆã€‚ç°é˜¶æ®µä¸»è¦æ˜¯é¼ æ ‡äº‹ä»¶MouseEvent ä½•é”®ç›˜äº‹ä»¶KEyboardEvent</p>\n<ul>\n<li>e.clientX      è¿”å›é¼ æ ‡ç›¸å¯¹äºæµè§ˆå™¨çª—å£å¯è§†åŒºçš„Xåæ ‡</li>\n<li>e.clientY      è¿”å›é¼ æ ‡ç›¸å¯¹äºæµè§ˆå™¨çª—å£å¯è§†åŒºçš„Yåæ ‡</li>\n<li>e.pageX      è¿”å›é¼ æ ‡ç›¸å¯¹äºæ–‡æ¡£é¡µé¢çš„Xåæ ‡      IE9+æ”¯æŒ</li>\n<li>e.pageY      è¿”å›é¼ æ ‡ç›¸å¯¹äºæ–‡æ¡£é¡µé¢çš„Yåæ ‡      IE9+æ”¯æŒ</li>\n<li>e.screenX    è¿”å›é¼ æ ‡ç›¸å¯¹äºç”µè„‘å±å¹•çš„Xåæ ‡</li>\n<li>e.screenY    è¿”å›é¼ æ ‡ç›¸å¯¹äºç”µè„‘å±å¹•çš„Yåæ ‡</li>\n</ul>\n<h3 id=\"6.å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶\">6.å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶<a title=\"#6.å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶\" href=\"#6.å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶\"></a></h3>\n<h4 id=\"6.1é”®ç›˜äº‹ä»¶å¯¹è±¡\">6.1é”®ç›˜äº‹ä»¶å¯¹è±¡<a title=\"#6.1é”®ç›˜äº‹ä»¶å¯¹è±¡\" href=\"#6.1é”®ç›˜äº‹ä»¶å¯¹è±¡\"></a></h4>\n<ul>\n<li>\n<p>onkeyup      æŸä¸ªé”®ç›˜æŒ‰é”®æ—¶è¢«æ¾å¼€æ—¶è§¦å‘</p>\n</li>\n<li>\n<p>onkeydown æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶è§¦å‘</p>\n</li>\n<li>\n<p>onkeypress  æŸä¸ªé”®ç›˜æŒ‰é”®è¢«æŒ‰ä¸‹æ—¶  è§¦å‘   ä½†ä¸è¯†åˆ«åŠŸèƒ½é”®ï¼ˆctrl   shiftï¼‰</p>\n<p>ä¸‰ä¸ªäº‹ä»¶çš„é¡ºåºï¼škeydowmâ€“keypressâ€“keyup</p>\n</li>\n</ul>\n<blockquote>\n<p>æ³¨ï¼škeydownå’Œkeypressåœ¨æ–‡æœ¬æ¡†é‡Œçš„ç‰¹ç‚¹ï¼šä»–ä»¬ä¸¤ä¸ªäº‹ä»¶è§¦å‘æ—¶ï¼Œæ–‡å­—è¿˜æ²¡æœ‰è½å…¥æ–‡æœ¬æ¡†ä¸­<br>\nkeyupäº‹ä»¶è§¦å‘æ—¶ï¼Œæ–‡å­—å°±å·²ç»è½å…¥æ–‡æœ¬æ¡†é‡Œäº†</p>\n</blockquote>\n<h4 id=\"8.2é”®ç›˜äº‹ä»¶å¯¹è±¡\">8.2é”®ç›˜äº‹ä»¶å¯¹è±¡<a title=\"#8.2é”®ç›˜äº‹ä»¶å¯¹è±¡\" href=\"#8.2é”®ç›˜äº‹ä»¶å¯¹è±¡\"></a></h4>\n<ul>\n<li>keyCode   è¿”å›è¯¥é”®çš„ASCLLå€¼</li>\n<li>key           è¿”å›æŒ‰ä¸‹çš„å€¼</li>\n</ul>\n<blockquote>\n<p>onkeydown  å’Œ onkeyupä¸åŒºåˆ†å­—æ¯å¤§å°å†™ï¼ŒonkeypressåŒºåˆ†å­—æ¯å¤§å°å†™<br>\nåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ›´å¤šçš„ä½¿ç”¨keydownå’Œkeyup å®ƒèƒ½è¯†åˆ«æ‰€æœ‰çš„é”®ï¼ˆåŒ…æ‹¬åŒ…æ‹¬åŠŸèƒ½é”®ï¼‰\t<br>\nkeypressä¸è¯†åˆ«åŠŸèƒ½é”®ï¼Œä½†æ˜¯keyCodeå±æ€§åŒºåˆ†å¤§å°å†™ï¼Œè¿”å›ä¸åŒçš„ASCLLå€¼</p>\n</blockquote>\n","prev":{"title":"jsäº‹ä»¶","link":"learningNotes/js/06æ³¨å†Œåˆ é™¤äº‹ä»¶"},"next":{"title":"jsèŠ‚ç‚¹æ“ä½œ","link":"learningNotes/js/04èŠ‚ç‚¹æ“ä½œ"},"plink":"https://shylees.github.io/learningNotes/js/07äº‹ä»¶å¯¹è±¡/","toc":[{"id":"1.-domäº‹ä»¶æµ","title":"1. DOMäº‹ä»¶æµ","index":"1"},{"id":"2.-äº‹ä»¶å¯¹è±¡","title":"2. äº‹ä»¶å¯¹è±¡","index":"2"},{"id":"3.-äº‹ä»¶å¯¹è±¡å¸¸è§çš„å±æ€§å’Œæ–¹æ³•","title":"3. äº‹ä»¶å¯¹è±¡å¸¸è§çš„å±æ€§å’Œæ–¹æ³•","index":"3"},{"id":"4.-äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†/å§”æ´¾ï¼‰ï¼ˆå†’æ³¡å¥½å¤„ï¼‰ï¼š","title":"4. äº‹ä»¶å§”æ‰˜ï¼ˆä»£ç†&#x2F;å§”æ´¾ï¼‰ï¼ˆå†’æ³¡å¥½å¤„ï¼‰ï¼š","index":"4"},{"id":"5.-å¸¸ç”¨çš„é¼ æ ‡äº‹ä»¶","title":"5. å¸¸ç”¨çš„é¼ æ ‡äº‹ä»¶","index":"5"},{"id":"6.å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶","title":"6.å¸¸ç”¨çš„é”®ç›˜äº‹ä»¶","index":"6"}],"copyright":{"custom":"ä¸è®¸è½¬è½½ğŸ˜¡ï¼ï¼ï¼"},"reading_time":"1056 words in 5 min"}