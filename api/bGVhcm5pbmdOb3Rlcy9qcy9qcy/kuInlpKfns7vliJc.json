{"title":"js webAPI--offsetã€clientã€scroll","date":"2021-03-05T16:00:00.000Z","date_formatted":{"ll":"2021å¹´3æœˆ6æ—¥","L":"2021/03/06","MM-DD":"03-06"},"link":"learningNotes/js/js/ä¸‰å¤§ç³»åˆ—","tags":["js"],"categories":["js","learningNotes"],"updated":"2021-03-07T16:00:00.000Z","content":"<h3 id=\"1.å…ƒç´ åç§»é‡offsetç³»åˆ—\">1.å…ƒç´ åç§»é‡offsetç³»åˆ—<a title=\"#1.å…ƒç´ åç§»é‡offsetç³»åˆ—\" href=\"#1.å…ƒç´ åç§»é‡offsetç³»åˆ—\"></a></h3>\n<h4 id=\"1.1-offsetæ¦‚è¿°\">1.1 offsetæ¦‚è¿°<a title=\"#1.1-offsetæ¦‚è¿°\" href=\"#1.1-offsetæ¦‚è¿°\"></a></h4>\n<p>offsetå°±æ˜¯åç§»é‡çš„æ„æ€ï¼Œä½¿ç”¨offsetç³»åˆ—ç›¸å…³å±æ€§å¯ä»¥<font color='red'>åŠ¨æ€</font>çš„å¾—åˆ°è¯¥å…ƒç´ çš„ä½ç½®ï¼ˆåç§»ï¼‰ã€å¤§å°ç­‰ã€‚</p>\n<ul>\n<li>è·å–å…ƒç´ è·ç¦»<strong>å¸¦æœ‰å®šä½</strong>çš„çˆ¶å…ƒç´ çš„ä½ç½®</li>\n<li>è·å¾—å…ƒç´ è‡ªèº«çš„å¤§å°</li>\n<li>è¿”å›çš„æ•°å€¼<strong>ä¸å¸¦å•ä½</strong></li>\n</ul>\n<p>offset ç³»åˆ—å¸¸ç”¨å±æ€§ï¼š</p>\n<div class=\"Ï†bq\"><div class=\"Ï†bs\"><table><thead>\n<tr>\n<th>offsetç³»åˆ—å¸¸ç”¨å±æ€§</th>\n<th>ä½œç”¨</th>\n<th style=\"padding:0\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>element.offsetParent</td>\n<td>è¿”å›ä½œä¸ºè¯¥å…ƒç´ <strong>å¸¦æœ‰å®šä½</strong>çš„çˆ¶çº§å…ƒç´  iféƒ½æ—  åˆ™è¿”å›body</td>\n<td></td>\n</tr>\n<tr>\n<td>element.offsetTop</td>\n<td>è¿”å›å…ƒç´ ç›¸å¯¹<strong>å¸¦æœ‰å®šä½</strong>çˆ¶å…ƒç´ ä¸Šæ–¹çš„åç§»</td>\n<td></td>\n</tr>\n<tr>\n<td>element.offsetLeft</td>\n<td>è¿”å›å…ƒç´ ç›¸å¯¹<strong>å¸¦æœ‰å®šä½</strong>çˆ¶å…ƒç´ å·¦è¾¹æ¡†çš„åç§»</td>\n<td></td>\n</tr>\n<tr>\n<td>element.offsetWidth</td>\n<td>è¿”å›è‡ªèº«åŒ…æ‹¬paddingã€è¾¹æ¡†ã€å†…å®¹åŒºçš„å®½åº¦ï¼Œä¸å¸¦å•ä½</td>\n<td></td>\n</tr>\n<tr>\n<td>element.offsetHeight</td>\n<td>è¿”å›è‡ªèº«åŒ…æ‹¬paddingã€è¾¹æ¡†ã€å†…å®¹åŒºçš„é«˜åº¦ï¼Œä¸å¸¦å•ä½</td>\n<td></td>\n</tr>\n</tbody>\n</table></div></div><figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\">        </span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.father</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">150px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: antiquewhite;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">        </span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"selector-class\">.son</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">width</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">height</span>: <span class=\"number\">100px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">margin</span>: <span class=\"number\">20px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">            <span class=\"attribute\">background-color</span>: brown;</span></span><br><span class=\"line\"><span class=\"language-css\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;father&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;son&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> father = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.father&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> son = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.son&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//1.å¯ä»¥å¾—åˆ°å…ƒç´ çš„åç§»é‡</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(father.<span class=\"property\">offsetTop</span>); <span class=\"comment\">//150 ifåŠ ä¸Špadding 150</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(son.<span class=\"property\">offsetLeft</span>); <span class=\"comment\">//if.father æ²¡æœ‰å®šä½ : 170  if.father åŠ ä¸Šå®šä½ :20 if.father åŠ ä¸Špadding 40</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//2.å¯ä»¥å¾—åˆ°å…ƒç´ çš„å¤§å°</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(father.<span class=\"property\">offsetHeight</span>); <span class=\"comment\">//240  åŒ…å«padding+border+width</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//3.è¿”å›å¸¦æœ‰å®šä½çš„çˆ¶å…ƒç´  or è¿”å›body</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(son.<span class=\"property\">offsetParent</span>); <span class=\"comment\">//è¿”å›æœ€è¿‘ä¸€çº§æœ‰å®šä½çš„çˆ¶äº²</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(son.<span class=\"property\">parentNode</span>); <span class=\"comment\">//è¿”å›äº²çˆ¶äº²</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n<h4 id=\"1.2-offset-ä¸-style-åŒºåˆ«\">1.2 offset ä¸ style åŒºåˆ«<a title=\"#1.2-offset-ä¸-style-åŒºåˆ«\" href=\"#1.2-offset-ä¸-style-åŒºåˆ«\"></a></h4>\n<p>offsetï¼š</p>\n<ul>\n<li>offset å¯ä»¥å¾—åˆ°ä»»æ„æ ·å¼è¡¨ä¸­çš„æ ·å¼å€¼</li>\n<li>offset ç³»åˆ—è·å¾—çš„æ•°å€¼æ˜¯æ²¡æœ‰å•ä½çš„</li>\n<li>offsetWidth åŒ…å«padding + border + width</li>\n<li>offsetWidth ç­‰å±æ€§æ˜¯åªè¯»å±æ€§ï¼Œåªèƒ½è·å–ä¸èƒ½èµ‹å€¼</li>\n<li><font color='red'>æ‰€ä»¥ï¼Œæˆ‘ä»¬æƒ³è¦è·å–å…ƒç´ å¤§å°ä½ç½®ï¼Œç”¨ offset æ›´åˆé€‚</font></li>\n</ul>\n<p>styleï¼š</p>\n<ul>\n<li>style åªèƒ½å¾—åˆ°è¡Œå†…æ ·å¼è¡¨ä¸­çš„æ ·å¼å€¼</li>\n<li>style.width è·å¾—çš„æ˜¯å¸¦æœ‰å•ä½çš„å­—ç¬¦ä¸²</li>\n<li>style.width è·å¾—ä¸åŒ…å« padding å’Œborder çš„å€¼</li>\n<li>style.width æ˜¯å¯è¯»å†™å±æ€§ï¼Œå¯ä»¥è·å–ä¹Ÿå¯ä»¥èµ‹å€¼</li>\n<li><font color='red'>æ‰€ä»¥ï¼Œæˆ‘ä»¬æƒ³è¦ç»™å…ƒç´ æ›´æ”¹å€¼ï¼Œåˆ™éœ€è¦ç”¨style</font></li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.box</span>&#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>:<span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">height</span>:<span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&#x27;box&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"keyword\">let</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(box.<span class=\"property\">offsetWidth</span>); <span class=\"comment\">//200</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(box.<span class=\"property\">style</span>.<span class=\"property\">width</span>); <span class=\"comment\">//è‹¥æ— è¡Œå†… åˆ™ä¸è¾“å‡º if .boxåŠ ä¸Š style=&#x27;widthï¼š200px&#x27;  200px</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//offsetwidth èµ‹å€¼ å¯¹box/12è¡Œ è¾“å‡º æ— å½±å“</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//.style.width å°±ä¼šæ”¹å€¼</span></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"1.3--æ¡ˆä¾‹ä¹‹è·å–é¼ æ ‡ç›¸å¯¹äºç›’å­çš„ä½ç½®\">1.3  æ¡ˆä¾‹ä¹‹è·å–é¼ æ ‡ç›¸å¯¹äºç›’å­çš„ä½ç½®<a title=\"#1.3--æ¡ˆä¾‹ä¹‹è·å–é¼ æ ‡ç›¸å¯¹äºç›’å­çš„ä½ç½®\" href=\"#1.3--æ¡ˆä¾‹ä¹‹è·å–é¼ æ ‡ç›¸å¯¹äºç›’å­çš„ä½ç½®\"></a></h4>\n<blockquote>\n<p>ç›’å­åœ¨é¡µé¢ä¸­çš„è·ç¦» box.offsetLeft box.offsetTop</p>\n<p>é¼ æ ‡åœ¨é¡µé¢ä¸­çš„åæ ‡ e.pageX e.pageY</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.box</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">margin</span>: <span class=\"number\">50px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: brown;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> box = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.box&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    box.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> x = e.<span class=\"property\">pageX</span> - box.<span class=\"property\">offsetLeft</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> y = e.<span class=\"property\">pageY</span> - box.<span class=\"property\">offsetTop</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(x, y);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"1.4-æ¡ˆä¾‹ä¹‹æ¨¡æ€æ¡†çš„æ‹–æ‹½\">1.4 æ¡ˆä¾‹ä¹‹æ¨¡æ€æ¡†çš„æ‹–æ‹½<a title=\"#1.4-æ¡ˆä¾‹ä¹‹æ¨¡æ€æ¡†çš„æ‹–æ‹½\" href=\"#1.4-æ¡ˆä¾‹ä¹‹æ¨¡æ€æ¡†çš„æ‹–æ‹½\"></a></h4>\n<p>åŸç†ï¼šé¼ æ ‡æŒ‰ä¸‹å¹¶ä¸”ç§»åŠ¨ï¼Œæ¾å¼€é¼ æ ‡</p>\n<p>äº‹ä»¶ï¼šé¼ æ ‡æŒ‰ä¸‹mousedown é¼ æ ‡ç§»åŠ¨mousemove é¼ æ ‡æ¾å¼€mouseup</p>\n<p>è¿‡ç¨‹ï¼šé¼ æ ‡ç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œè·å¾—æœ€æ–°çš„å€¼èµ‹å€¼ç»™æ¨¡æ€æ¡†çš„leftå’Œtopå€¼</p>\n<p>æ¨¡æ€æ¡†çš„ä½ç½®ï¼šé¼ æ ‡çš„åæ ‡å‡å»é¼ æ ‡åœ¨ç›’å­å†…çš„åæ ‡</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">style</span>&gt;</span><span class=\"language-css\"></span></span><br><span class=\"line\"><span class=\"language-css\">    * &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">margin</span>: <span class=\"number\">0</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-tag\">div</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">position</span>: relative;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">top</span>: <span class=\"number\">50%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">transform</span>: <span class=\"built_in\">translate</span>(-<span class=\"number\">50%</span>, <span class=\"number\">50%</span>);</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">height</span>: <span class=\"number\">150px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">background-color</span>: plum;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\">    </span></span><br><span class=\"line\"><span class=\"language-css\">    <span class=\"selector-class\">.hide</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">position</span>: absolute;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">top</span>: <span class=\"number\">0px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">        <span class=\"attribute\">right</span>: <span class=\"number\">5px</span>;</span></span><br><span class=\"line\"><span class=\"language-css\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-css\"></span><span class=\"tag\">&lt;/<span class=\"name\">style</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;show&quot;</span>&gt;</span>ç‚¹å‡»å¼¹å‡º<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;model&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;hide&quot;</span>&gt;</span>x<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> show = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.show&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> model = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.model&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">let</span> hide = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.hide&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    show.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        model.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&#x27;block&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    model.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousedown&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\">e</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//1.é¼ æ ‡æŒ‰ä¸‹ï¼Œè·å¾—é¼ æ ‡åœ¨ç›’å­å†…çš„åæ ‡ â€”â€” ä¸å˜çš„</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> clickX = e.<span class=\"property\">pageX</span> - model.<span class=\"property\">offsetLeft</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> clickY = e.<span class=\"property\">pageY</span> - model.<span class=\"property\">offsetTop</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">// console.log(clickX, clickY);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//2.é¼ æ ‡ç§»åŠ¨è¿‡ç¨‹ä¸­ï¼Œè·å¾—æœ€æ–°çš„å€¼ å˜çš„é•¿åº¦-ä¸å˜çš„é•¿åº¦ èµ‹å€¼ç»™æ¨¡æ€æ¡†çš„leftå’Œtopå€¼</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mousemove&#x27;</span>, move);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">function</span> <span class=\"title function_\">move</span>(<span class=\"params\">ec</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            model.<span class=\"property\">style</span>.<span class=\"property\">left</span> = ec.<span class=\"property\">pageX</span> - clickX + <span class=\"string\">&#x27;px&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            model.<span class=\"property\">style</span>.<span class=\"property\">top</span> = ec.<span class=\"property\">pageY</span> - clickY + <span class=\"string\">&#x27;px&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//3.é¼ æ ‡å¼¹èµ· ç§»é™¤é¼ æ ‡ç§»åŠ¨äº‹ä»¶</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;mouseup&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"variable language_\">document</span>.<span class=\"title function_\">removeEventListener</span>(<span class=\"string\">&#x27;mousemove&#x27;</span>, move);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    hide.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">this</span>.<span class=\"property\">arentNode</span>.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&#x27;none&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2.å…ƒç´ å¯è§†åŒºclientç³»åˆ—\">2.å…ƒç´ å¯è§†åŒºclientç³»åˆ—<a title=\"#2.å…ƒç´ å¯è§†åŒºclientç³»åˆ—\" href=\"#2.å…ƒç´ å¯è§†åŒºclientç³»åˆ—\"></a></h3>\n<p>clientå°±æ˜¯å®¢æˆ·ç«¯çš„æ„æ€ï¼Œæˆ‘ä»¬ä½¿ç”¨clientç³»åˆ—çš„ç›¸å…³å±æ€§æ¥è·å–å…ƒç´ å¯è§†åŒºçš„ç›¸å…³ä¿¡æ¯ã€‚é€šè¿‡clientç³»åˆ—çš„ç›¸å…³å±æ€§å¯ä»¥åŠ¨æ€çš„å¾—åˆ°è¯¥å…ƒç´ çš„è¾¹æ¡†å¤§å°ã€å…ƒç´ å¤§å°ç­‰ã€‚</p>\n<div class=\"Ï†bq\"><div class=\"Ï†bs\"><table><thead>\n<tr>\n<th>clientç³»åˆ—å±æ€§</th>\n<th>ä½œç”¨</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>element.clientTop</td>\n<td>è¿”å›å…ƒç´ ä¸Šè¾¹æ¡†çš„å¤§å°</td>\n</tr>\n<tr>\n<td>element.clientLeft</td>\n<td>è¿”å›å…ƒç´ å·¦è¾¹æ¡†çš„å¤§å°</td>\n</tr>\n<tr>\n<td>element.clientWidth</td>\n<td>è¿”å›è‡ªèº«åŒ…æ‹¬paddingã€å†…å®¹åŒºçš„å®½åº¦ã€ä¸åŒ…å«è¾¹æ¡†ï¼Œä¸å¸¦å•ä½</td>\n</tr>\n<tr>\n<td>element.clientHeight</td>\n<td>è¿”å›è‡ªèº«åŒ…æ‹¬paddingã€å†…å®¹åŒºçš„é«˜åº¦ã€ä¸åŒ…å«è¾¹æ¡†ï¼Œä¸å¸¦å•ä½</td>\n</tr>\n</tbody>\n</table></div></div><h3 id=\"3.å…ƒç´ scrollç³»åˆ—\">3.å…ƒç´ scrollç³»åˆ—<a title=\"#3.å…ƒç´ scrollç³»åˆ—\" href=\"#3.å…ƒç´ scrollç³»åˆ—\"></a></h3>\n<h4 id=\"3.1å…ƒç´ scrollç³»åˆ—å±æ€§\">3.1å…ƒç´ scrollç³»åˆ—å±æ€§<a title=\"#3.1å…ƒç´ scrollç³»åˆ—å±æ€§\" href=\"#3.1å…ƒç´ scrollç³»åˆ—å±æ€§\"></a></h4>\n<p>scrollå°±æ˜¯æ»šåŠ¨çš„çš„æ„æ€ï¼Œä½¿ç”¨scrollç³»åˆ—ç›¸å…³å±æ€§å¯ä»¥åŠ¨æ€å¾—åˆ°è¯¥å…ƒç´ çš„å¤§å°ã€æ»šåŠ¨è·ç¦»ç­‰ã€‚</p>\n<div class=\"Ï†bq\"><div class=\"Ï†bs\"><table><thead>\n<tr>\n<th>scrollç³»åˆ—å±æ€§</th>\n<th>ä½œç”¨</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>element.scrollTop</td>\n<td>è¿”å›è¢«å·å»çš„ä¸Šä¾§è·ç¦»ï¼Œä¸å¸¦å•ä½</td>\n</tr>\n<tr>\n<td>element.scrollLeft</td>\n<td>è¿”å›è¢«å·å»çš„å·¦ä¾§è·ç¦»ï¼Œä¸å¸¦å•ä½</td>\n</tr>\n<tr>\n<td>element.scrollWidth</td>\n<td>è¿”å›è‡ªèº«å®é™…å®½åº¦ ä¸å«è¾¹æ¡†ï¼Œä¸å¸¦å•ä½</td>\n</tr>\n<tr>\n<td>element.scrollHeight</td>\n<td>è¿”å›è‡ªèº«å®é™…é«˜åº¦ï¼Œä¸å«è¾¹æ¡†ï¼Œä¸å¸¦å•ä½</td>\n</tr>\n</tbody>\n</table></div></div><blockquote>\n<p>element.scrollWidth ï¼šifå†…å®¹è¶…è¿‡å®½åº¦ åˆ™æ¯”å®½åº¦å¤§ï¼ŒåŒ…å«paddingï¼Œå¯ä»¥è¯´æ˜¯å®é™…å†…å®¹çš„å¤§å°</p>\n</blockquote>\n<img src='https://s1.328888.xyz/2022/04/09/XnWs2.png' style=\"zoom:50%;\" >\n<h4 id=\"3.2-é¡µé¢è¢«å·å»çš„å¤´éƒ¨\">3.2 é¡µé¢è¢«å·å»çš„å¤´éƒ¨<a title=\"#3.2-é¡µé¢è¢«å·å»çš„å¤´éƒ¨\" href=\"#3.2-é¡µé¢è¢«å·å»çš„å¤´éƒ¨\"></a></h4>\n<p>å¦‚æœæµè§ˆå™¨çš„é«˜/å®½åº¦ä¸è¶³ä»¥æ˜¾ç¤ºæ•´ä¸ªé¡µé¢æ—¶ï¼Œä¼šè‡ªåŠ¨å‡ºç°æ»šåŠ¨æ¡ã€‚å½“æ»šåŠ¨æ¡å‘ä¸‹æ»šåŠ¨æ—¶ï¼Œé¡µé¢ä¸Šé¢è¢«éšè—æ‰çš„é«˜åº¦ï¼Œç§°ä¸ºé¡µé¢è¢«å·å»çš„å¤´éƒ¨ã€‚æ»šåŠ¨æ¡åœ¨æ»šåŠ¨æ—¶ä¼šè§¦å‘onscrolläº‹ä»¶ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">div.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(div.<span class=\"property\">scrollTop</span>);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"3.3-æ¡ˆä¾‹ä¹‹è¿”å›é¡¶éƒ¨\">3.3 æ¡ˆä¾‹ä¹‹è¿”å›é¡¶éƒ¨<a title=\"#3.3-æ¡ˆä¾‹ä¹‹è¿”å›é¡¶éƒ¨\" href=\"#3.3-æ¡ˆä¾‹ä¹‹è¿”å›é¡¶éƒ¨\"></a></h4>\n<ul>\n<li>éœ€è¦ç”¨åˆ°é¡µé¢æ»šåŠ¨äº‹ä»¶scroll å› ä¸ºæ˜¯<font color='red'>é¡µé¢æ»šåŠ¨ï¼Œæ‰€ä»¥äº‹ä»¶æºæ˜¯document</font></li>\n<li>æ»šåŠ¨åˆ°æŸä¸ªä½ç½®ï¼Œå°±æ˜¯åˆ¤æ–­é¡µé¢è¢«å·å»çš„ä¸Šéƒ¨å€¼</li>\n<li><font color='red'>é¡µé¢è¢«å·å»çš„å¤´éƒ¨ï¼šå¯ä»¥é€šè¿‡window.pageYOffsetè·å¾—</font> (å¦‚æœæ˜¯é¡µé¢è¢«å·æ›²çš„å·¦ä¾§ <font color='red'>window.pageXOfffset</font>)</li>\n<li>æ³¨æ„ï¼Œ<font color='red'>å…ƒç´ </font>è¢«å·å»çš„å¤´éƒ¨æ˜¯<font color='red'>element.scrollTop</font>ï¼Œå¦‚æœæ˜¯<font color='red'>é¡µé¢</font>è¢«å·å»çš„å¤´éƒ¨åˆ™æ˜¯<font color='red'>window.pageYOffset</font></li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;slider-bar&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;goBack&quot;</span>&gt;</span>è¿”å›é¡¶éƒ¨<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;header w&quot;</span>&gt;</span>å¤´éƒ¨åŒºåŸŸ<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;banner w&quot;</span>&gt;</span>banneråŒºåŸŸ<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;main w&quot;</span>&gt;</span>ä¸»ä½“éƒ¨åˆ†<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//1.è·å–å…ƒç´ </span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> sliderbar = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.slider-bar&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> banner = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.banner&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//ä½†æˆ‘ä»¬ä¾§è¾¹æ å›ºå®šå®šä½ä¹‹ååº”è¯¥å˜åŒ–çš„å€¼</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">let</span> tops = sliderbar.<span class=\"property\">offsetTop</span> - banner.<span class=\"property\">offsetTop</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//è·å–main ä¸»ä½“å…ƒç´ </span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> main = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.main&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> goBack = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.goBack&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//2.é¡µé¢æ»šåŠ¨äº‹ä»¶ scroll</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"variable language_\">document</span>.<span class=\"title function_\">addEventListener</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//3.å½“é¡µé¢è¢«å·å»çš„å¤´éƒ¨   å¤§äºç­‰äºbanneråŒºåŸŸ  ä¾§è¾¹æ æ”¹ä¸ºå›ºå®šå®šä½</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">window</span>.<span class=\"property\">pageYOffset</span> &gt;= banner.<span class=\"property\">offsetTop</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                sliderbar.<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&#x27;fixed&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                sliderbar.<span class=\"property\">style</span>.<span class=\"property\">top</span> = tops + <span class=\"string\">&#x27;px&#x27;</span>; <span class=\"comment\">//tops å¾—å†å¤–é¢å®šä¹‰ ä¸ç„¶å€¼ä¼šå˜çš„</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                sliderbar.<span class=\"property\">style</span>.<span class=\"property\">position</span> = <span class=\"string\">&#x27;absolute&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                sliderbar.<span class=\"property\">style</span>.<span class=\"property\">top</span> = <span class=\"string\">&#x27;300px&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"comment\">//4.å½“é¡µé¢æ»šåŠ¨åˆ°main ç›’å­å°±æ˜¾ç¤ºgobackæ¨¡å—</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">if</span> (<span class=\"variable language_\">window</span>.<span class=\"property\">pageYOffset</span> &gt;= main.<span class=\"property\">offsetTop</span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                goBack.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&#x27;block&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125; <span class=\"keyword\">else</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                goBack.<span class=\"property\">style</span>.<span class=\"property\">display</span> = <span class=\"string\">&#x27;none&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"3.4-é¡µé¢è¢«å·å»çš„å¤´éƒ¨å…¼å®¹æ€§è§£å†³æ–¹æ¡ˆ\">3.4 é¡µé¢è¢«å·å»çš„å¤´éƒ¨å…¼å®¹æ€§è§£å†³æ–¹æ¡ˆ<a title=\"#3.4-é¡µé¢è¢«å·å»çš„å¤´éƒ¨å…¼å®¹æ€§è§£å†³æ–¹æ¡ˆ\" href=\"#3.4-é¡µé¢è¢«å·å»çš„å¤´éƒ¨å…¼å®¹æ€§è§£å†³æ–¹æ¡ˆ\"></a></h4>\n<p>å› æ­¤è¢«å·å»çš„å¤´éƒ¨é€šå¸¸æœ‰å¦‚ä¸‹å‡ ç§å†™æ³•ï¼š</p>\n<ol>\n<li>\n<p>å£°æ˜äº†DTD(<code>&lt;!DOCTYPE html&gt;</code>)ï¼Œä½¿ç”¨<code>document.documentElement.scrollTop</code></p>\n</li>\n<li>\n<p>æœªå£°æ˜DTDï¼Œä½¿ç”¨<code>document.body.scrollTop</code></p>\n</li>\n<li>\n<p>æ–°æ–¹æ³•<code>window.pageYOffset </code>å’Œ <code>window.pageXOffset</code> ï¼ŒIE9å¼€å§‹æ”¯æŒ</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">getScroll</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span>&#123;</span><br><span class=\"line\">        <span class=\"attr\">left</span>:<span class=\"variable language_\">window</span>.<span class=\"property\">pageXOffset</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollLeft</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollLeft</span> || <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attr\">top</span>:<span class=\"variable language_\">window</span>.<span class=\"property\">pageYOffset</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">documentElement</span>.<span class=\"property\">scrollTop</span> || <span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">scrollTop</span> || <span class=\"number\">0</span>;</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//ä½¿ç”¨æ—¶ getScroll().left</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"ä¸‰å¤§ç³»åˆ—æ€»ç»“\">ä¸‰å¤§ç³»åˆ—æ€»ç»“<a title=\"#ä¸‰å¤§ç³»åˆ—æ€»ç»“\" href=\"#ä¸‰å¤§ç³»åˆ—æ€»ç»“\"></a></h3>\n<div class=\"Ï†bq\"><div class=\"Ï†bs\"><table><thead>\n<tr>\n<th>ä¸‰å¤§ç³»åˆ—å¤§å°å¯¹æ¯”</th>\n<th>ä½œç”¨</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>element.offsetWidth</td>\n<td>è¿”å›è‡ªèº«+padding+è¾¹æ¡†ï¼Œå†…å®¹åŒºçš„å®½åº¦</td>\n</tr>\n<tr>\n<td>element.clientWidth</td>\n<td>è¿”å›è‡ªèº«+paddingï¼Œå†…å®¹åŒºçš„å®½åº¦</td>\n</tr>\n<tr>\n<td>element.scrollWidth</td>\n<td>è¿”å›è‡ªèº«å®é™…å®½åº¦ï¼Œ+padding</td>\n</tr>\n</tbody>\n</table></div></div><img src='https://s1.328888.xyz/2022/04/09/XnzVM.png'>\n<h4 id=\"ä¸»è¦ç”¨æ³•ï¼š\">ä¸»è¦ç”¨æ³•ï¼š<a title=\"#ä¸»è¦ç”¨æ³•ï¼š\" href=\"#ä¸»è¦ç”¨æ³•ï¼š\"></a></h4>\n<ol>\n<li>offset ç³»åˆ—ï¼šè·å–å…ƒç´ çš„ä½ç½® <font color='red'>offsetLeftÂ  Â offsetTop</font></li>\n<li>client ç³»åˆ—ï¼šè·å–å…ƒç´ å¤§å°  <font color='red'>clientWidthÂ  Â clientHeight</font></li>\n<li>scrollç³»åˆ—ï¼šè·å–æ»šåŠ¨è·ç¦»  <font color='red'>scrollTopÂ  Â scrollLeft</font></li>\n<li><font color='red'>é¡µé¢çš„æ»šåŠ¨è·ç¦»</font>é€šè¿‡ <font color='red'>window.pageXOffset</font> è·å¾—</li>\n</ol>\n","prev":{"title":"02 VueåŸºç¡€è¯­æ³•","link":"learningNotes/vue/vue/02 VueåŸºç¡€è¯­æ³•"},"next":{"title":"ç«‹å³æ‰§è¡Œå‡½æ•°","link":"learningNotes/js/js/ç«‹å³æ‰§è¡Œå‡½æ•°"},"plink":"https://shylees.github.io/learningNotes/js/js/ä¸‰å¤§ç³»åˆ—/","toc":[{"id":"1.å…ƒç´ åç§»é‡offsetç³»åˆ—","title":"1.å…ƒç´ åç§»é‡offsetç³»åˆ—","index":"1"},{"id":"2.å…ƒç´ å¯è§†åŒºclientç³»åˆ—","title":"2.å…ƒç´ å¯è§†åŒºclientç³»åˆ—","index":"2"},{"id":"3.å…ƒç´ scrollç³»åˆ—","title":"3.å…ƒç´ scrollç³»åˆ—","index":"3"},{"id":"ä¸‰å¤§ç³»åˆ—æ€»ç»“","title":"ä¸‰å¤§ç³»åˆ—æ€»ç»“","index":"4"}],"copyright":{"custom":"ä¸è®¸è½¬è½½ğŸ˜¡ï¼ï¼ï¼"},"reading_time":"2079 words in 10 min"}