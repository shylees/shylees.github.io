{"title":"微信小程序","date":"2021-08-02T16:00:00.000Z","date_formatted":{"ll":"2021年8月3日","L":"2021/08/03","MM-DD":"08-03"},"link":"learningNotes/微信小程序","tags":["小程序"],"categories":["learningNotes"],"updated":"2021-08-05T16:00:00.000Z","content":"<h2 id=\"1.软件介绍\">1.软件介绍<a title=\"#1.软件介绍\" href=\"#1.软件介绍\"></a></h2>\n<h3 id=\"1.1-下载\">1.1 下载<a title=\"#1.1-下载\" href=\"#1.1-下载\"></a></h3>\n<p><a href=\"https://mp.weixin.qq.com/cgi-bin/wx\" target=\"_blank\">官网</a></p>\n<p>注册 –&gt; 登录 -&gt; 注册appID -&gt; <a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html\" target=\"_blank\">下载</a>微信开发者工具 -&gt; 安装 -&gt; 创建项目</p>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/devtools/devtools.html\" target=\"_blank\">介绍</a>开发者工具的工具栏</p>\n<h3 id=\"1.2-配置文件介绍\">1.2 配置文件介绍<a title=\"#1.2-配置文件介绍\" href=\"#1.2-配置文件介绍\"></a></h3>\n<h4 id=\"1.2.1-app.json-全局配置\">1.2.1 app.json 全局配置<a title=\"#1.2.1-app.json-全局配置\" href=\"#1.2.1-app.json-全局配置\"></a></h4>\n<ul>\n<li>\n<p>page : 用于指定小程序由哪些页面组成，每一项都对应一个页面的 路径（含文件名） 信息。文件名不需要写文件后缀，框架会自动去寻找对应位置的 <code>.json</code>, <code>.js</code>, <code>.wxml</code>, <code>.wxss</code> 四个文件进行处理。</p>\n<p>未指定 <code>entryPagePath</code> 时，数组的第一项代表小程序的初始页面（首页）。</p>\n<p><strong>小程序中新增/减少页面，都需要对 pages 数组进行修改。</strong></p>\n</li>\n<li>\n<p>window : 用于设置小程序的状态栏、导航条、标题、窗口背景色。</p>\n</li>\n<li>\n<p>tabBar : 通过 tabBar 配置项指定 tab 栏的表现，以及 tab 切换时显示的对应页面。</p>\n</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\"> <span class=\"string\">&quot;page&quot;</span>:[</span><br><span class=\"line\">     <span class=\"string\">&quot;pages/index/index&quot;</span>,</span><br><span class=\"line\">     <span class=\"string\">&quot;pages/log/log&quot;</span></span><br><span class=\"line\"> ],</span><br><span class=\"line\"> <span class=\"string\">&quot;window&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;navigationBarBackgroundColor&quot;</span>: <span class=\"string\">&quot;#ffffff&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;navigationBarTextStyle&quot;</span>: <span class=\"string\">&quot;black&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;navigationBarTitleText&quot;</span>: <span class=\"string\">&quot;微信接口功能演示&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;backgroundColor&quot;</span>: <span class=\"string\">&quot;#eeeeee&quot;</span>,             <span class=\"comment\">//下拉加载的位置</span></span><br><span class=\"line\">    <span class=\"string\">&quot;backgroundTextStyle&quot;</span>: <span class=\"string\">&quot;light&quot;</span>            <span class=\"comment\">//下拉加载的logo</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"1.2.2-index.json-页面配置\">1.2.2 index.json 页面配置<a title=\"#1.2.2-index.json-页面配置\" href=\"#1.2.2-index.json-页面配置\"></a></h4>\n<p>每一个小程序页面也可以使用 <code>.json</code> 文件来对本页面的窗口表现进行配置。页面中配置项在当前页面会覆盖 <code>app.json</code> 的 <code>window</code> 中相同的配置项。</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"string\">&quot;usingComponents&quot;</span>: &#123;&#125;,</span><br><span class=\"line\">    <span class=\"comment\">//app.json 的 window 配置一样</span></span><br><span class=\"line\">    <span class=\"string\">&quot;navigationBarBackgroundColor&quot;</span>: <span class=\"string\">&quot;#ffffff&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;navigationBarTextStyle&quot;</span>: <span class=\"string\">&quot;black&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;navigationBarTitleText&quot;</span>: <span class=\"string\">&quot;微信接口功能演示&quot;</span>,</span><br><span class=\"line\">    <span class=\"string\">&quot;backgroundColor&quot;</span>: <span class=\"string\">&quot;#eeeeee&quot;</span>,             <span class=\"comment\">//下拉加载的位置</span></span><br><span class=\"line\">    <span class=\"string\">&quot;backgroundTextStyle&quot;</span>: <span class=\"string\">&quot;light&quot;</span>            <span class=\"comment\">//下拉加载的logo</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>可以手动关闭下拉刷新窗口  if 没用调用 也不会报错</p>\n<p>index.js</p>\n<p>wx.stopPullDownRefresh();</p>\n</blockquote>\n<h4 id=\"1.2.3-sitemap.json-配置\">1.2.3 sitemap.json 配置<a title=\"#1.2.3-sitemap.json-配置\" href=\"#1.2.3-sitemap.json-配置\"></a></h4>\n<p>用于配置小程序及其页面是否允许被微信索引，文件内容为一个 JSON 对象，如果没有 <code>sitemap.json</code> ，则默认为所有页面都允许被索引；</p>\n<h2 id=\"2.模板语法\">2.模板语法<a title=\"#2.模板语法\" href=\"#2.模板语法\"></a></h2>\n<h3 id=\"2.0-wxml-标签\">2.0 wxml 标签<a title=\"#2.0-wxml-标签\" href=\"#2.0-wxml-标签\"></a></h3>\n<blockquote>\n<p>vscode使用“微信小程序开发”插件</p>\n</blockquote>\n<ol>\n<li><code>&lt;text&gt; == &lt;span&gt; </code></li>\n<li><code>&lt;view&gt; == &lt;div&gt;</code></li>\n<li><code>&lt;checkbox&gt; 复选框</code></li>\n</ol>\n<h3 id=\"2.1-数据绑定\">2.1 数据绑定<a title=\"#2.1-数据绑定\" href=\"#2.1-数据绑定\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//demo01.js</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//页面的初始数据</span></span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">msg</span>:<span class=\"string\">&#x27;hello mina&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">isChecked</span>:<span class=\"literal\">false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo01.wxml --&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 1.在文本中使用 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span> &#123;&#123; msg &#125;&#125; <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 2.在属性中使用 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">data-msg</span>=<span class=\"string\">&quot;&#123;&#123; msg &#125;&#125;&quot;</span>&gt;</span>自定义属性<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 3.使用bool充当属性时 “ 和 &#123; 之间不要留空格 否则会导致识别失败 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">checked</span>=<span class=\"string\">&quot;&#123;&#123;isCheck&#125;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"2.2-运算\">2.2 运算<a title=\"#2.2-运算\" href=\"#2.2-运算\"></a></h3>\n<p>运算 =&gt; 表达式</p>\n<p>可以在 <code>&#123;&#123; &#125;&#125;</code> 中加入表达式</p>\n<blockquote>\n<p>表达式 =&gt; 简单 运算 数字运算 拼接 逻辑运算</p>\n<p>​               数字加减 字符串拼接 三元表达式</p>\n<p>语句 =&gt; 复杂代码段</p>\n<p>​           if else   switch   do while   for</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123; 1+1 &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span>       2</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123; &#x27;1&#x27;+&#x27;1&#x27; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span>   11</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123; 10%2===1 ? &#x27;奇数&#x27; : &#x27;偶数&#x27; &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span> 偶数</span><br></pre></td></tr></table></figure>\n<h3 id=\"2.3-列表渲染\">2.3 列表渲染<a title=\"#2.3-列表渲染\" href=\"#2.3-列表渲染\"></a></h3>\n<h4 id=\"2.3.1-列表循环\">2.3.1 列表循环<a title=\"#2.3.1-列表循环\" href=\"#2.3.1-列表循环\"></a></h4>\n<ol>\n<li>\n<p>wx:for=“”</p>\n<p>wx:for-item=“循环项name”</p>\n<p>wx:for-index=“循环项索引”</p>\n</li>\n<li>\n<p>wx:key=“唯一的值”  -&gt; 为了提高列表性能</p>\n<p>wx:key=“*this”        -&gt; 表示你的数组是一个普通数组[]  *this表示循环项</p>\n</li>\n<li>\n<p>出现循环嵌套 以下绑定名称 不能重名</p>\n<p>wx:for-item=“item” wx:for-index=“index”</p>\n</li>\n<li>\n<p>默认情况下（一层循环）不用写</p>\n<p>wx:for-item=“item” wx:for-index=“index”</p>\n</li>\n</ol>\n<h4 id=\"2.3.2-对象循环\">2.3.2 对象循环<a title=\"#2.3.2-对象循环\" href=\"#2.3.2-对象循环\"></a></h4>\n<ol>\n<li>\n<p>wx:for=“<code>&#123;&#123;` 数组或者对象 `&#125;&#125;</code>”</p>\n<p>wx:for-item=“对象的值”</p>\n<p>wx:for-index=“对象的键”</p>\n</li>\n<li>\n<p>最好把 item index 的名称 修改下 item,index =&gt; value,key</p>\n</li>\n<li>\n<p>wx:key=“对象的任何一个属性”</p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//demo01.js</span></span><br><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\"> <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">     ...</span><br><span class=\"line\">    <span class=\"attr\">person</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">id</span>: <span class=\"number\">123</span>,</span><br><span class=\"line\">      <span class=\"attr\">name</span>: <span class=\"string\">&#x27;富婆&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">height</span>: <span class=\"string\">&#x27;166&#x27;</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">list</span>: [</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">0</span>, <span class=\"attr\">name</span>: <span class=\"string\">&#x27;zero&#x27;</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">1</span>, <span class=\"attr\">name</span>: <span class=\"string\">&#x27;one&#x27;</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">2</span>, <span class=\"attr\">name</span>: <span class=\"string\">&#x27;two&#x27;</span> &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  ----列表循环 wx:for-------</span><br><span class=\"line\">  </span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;item&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;index&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span></span><br><span class=\"line\">  索引:&#123;&#123;index&#125;&#125;</span><br><span class=\"line\">  ----</span><br><span class=\"line\">  值:&#123;&#123;item.name&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  ----对象循环 wx:for-------</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;person&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;value&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;key&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span></span><br><span class=\"line\">  属性:&#123;&#123;key&#125;&#125;</span><br><span class=\"line\">  ----</span><br><span class=\"line\">  值:&#123;&#123;value&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"2.3.3-block-标签\">2.3.3 block 标签<a title=\"#2.3.3-block-标签\" href=\"#2.3.3-block-标签\"></a></h4>\n<p>相当于一个占位符</p>\n<p>写代码的时候 会有</p>\n<p>页面运行后 这个标签直接不存在</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">block</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;person&#125;&#125;&quot;</span> <span class=\"attr\">wx:for-item</span>=<span class=\"string\">&quot;value&quot;</span> <span class=\"attr\">wx:for-index</span>=<span class=\"string\">&quot;key&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span></span><br><span class=\"line\">  属性:&#123;&#123;key&#125;&#125;</span><br><span class=\"line\">  ----</span><br><span class=\"line\">  值:&#123;&#123;value&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">==&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">属性:id ---- 值:123 属性:name ---- 值:富婆 属性:height ---- 值:166</span><br></pre></td></tr></table></figure>\n<h3 id=\"2.4-条件渲染\">2.4 条件渲染<a title=\"#2.4-条件渲染\" href=\"#2.4-条件渲染\"></a></h3>\n<ol>\n<li>\n<p>wx:if=“<code>&#123;&#123;`true/false`&#125;&#125;</code>”    <font color='red'>使用添加删除元素</font></p>\n</li>\n<li>\n<p>三选一</p>\n<p>wx:if=“<code>&#123;&#123;&#125;&#125;`”\n\n   wx:elif=“`&#123;&#123;&#125;&#125;</code>”</p>\n<p>wx:else</p>\n</li>\n<li>\n<p>hidden     <font color='red'>使用display:none</font></p>\n<p>在标签直接加入</p>\n<p>hidden=“<code>&#123;&#123;`true`&#125;&#125;</code>”</p>\n</li>\n</ol>\n<blockquote>\n<p>if 不是频繁切换显示 使用 wx:if    使用添加删除元素</p>\n<p>if 频繁切换 使用hidden                使用display:none       所以使用hidden 不要用 display属性</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>条件渲染<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>if -&gt; true<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:if</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>if<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:elif</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>elif<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">wx:else</span>&gt;</span>else<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">   </span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>&gt;</span>hidden1<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;true&#125;&#125;&quot;</span>&gt;</span>hidden -&gt; true<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">   <span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">hidden</span>=<span class=\"string\">&quot;&#123;&#123;false&#125;&#125;&quot;</span>&gt;</span>hidden -&gt; false<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"3.事件绑定\">3.事件绑定<a title=\"#3.事件绑定\" href=\"#3.事件绑定\"></a></h2>\n<h3 id=\"3.1-input双向绑定\">3.1 input双向绑定<a title=\"#3.1-input双向绑定\" href=\"#3.1-input双向绑定\"></a></h3>\n<ol>\n<li>给input标签绑定input事件 绑定关键子 bindinput</li>\n<li>通过事件源e 获取输入框的值 e.detail.value</li>\n<li>使用 this.setData({ num:e.detail.value }) 绑定数据的值</li>\n</ol>\n<h3 id=\"3.2-button-点击事件\">3.2 button 点击事件<a title=\"#3.2-button-点击事件\" href=\"#3.2-button-点击事件\"></a></h3>\n<ol>\n<li>点击事件 绑定关键字 bindtap</li>\n<li>不能在事件中 (1) 传参  要使用data-自定义属性传</li>\n<li>使用事件源e 中获取dataset中的值 获取参数</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">bindinput</span>=<span class=\"string\">&quot;handleInput&quot;</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handletap&quot;</span> <span class=\"attr\">data-num</span>=<span class=\"string\">&quot;&#123;&#123;1&#125;&#125;&quot;</span> &gt;</span>+<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;handletap&quot;</span> <span class=\"attr\">data-num</span>=<span class=\"string\">&quot;&#123;&#123;-1&#125;&#125;&quot;</span> &gt;</span>-<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">  &#123;&#123;num&#125;&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">num</span>: <span class=\"number\">0</span></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//输入框input事件的执行逻辑</span></span><br><span class=\"line\">  <span class=\"title function_\">handleInput</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">num</span>: e.<span class=\"property\">detail</span>.<span class=\"property\">value</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"comment\">//加减按钮的事件</span></span><br><span class=\"line\">  <span class=\"title function_\">handletap</span>(<span class=\"params\">e</span>) &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">num</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>.<span class=\"property\">num</span> + e.<span class=\"property\">currentTarget</span>.<span class=\"property\">dataset</span>.<span class=\"property\">num</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"4.-wxss样式\">4. wxss样式<a title=\"#4.-wxss样式\" href=\"#4.-wxss样式\"></a></h2>\n<h3 id=\"4.1-尺寸单位\">4.1 尺寸单位<a title=\"#4.1-尺寸单位\" href=\"#4.1-尺寸单位\"></a></h3>\n<p>rpx（responsive pixel）: 可以根据屏幕宽度进行自适应。规定屏幕宽为750rpx。</p>\n<blockquote>\n<p>if 在 iPhone6 上，屏幕宽度为375px，共有750个物理像素，则750rpx = 375px = 750物理像素，1rpx = 0.5px = 1物理像素。</p>\n</blockquote>\n<blockquote>\n<p>if 存在这样一个需求 设计稿 page 宽 ， 存在一个元素 100px 宽  要求页面适配</p>\n<p>page px = 750rpx  =&gt;  1px = 750rpx / page px  =&gt; 100px = 750rpx * 100 / page</p>\n</blockquote>\n<p>在wxss里写的时候 可以 使用calc</p>\n<ul>\n<li>可以使用 + - * / ，% px em rem</li>\n<li>可以混合使用各种单位</li>\n<li>用 + - 时 其前后必有空格，* / 可无 但建议保留</li>\n<li>数字与单位之间不留空格</li>\n</ul>\n<h3 id=\"4.2-样式导入\">4.2 样式导入<a title=\"#4.2-样式导入\" href=\"#4.2-样式导入\"></a></h3>\n<p>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的<strong>相对路径</strong>，用<code>;</code>表示语句结束。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&quot;..wxss&quot;</span> </span><br></pre></td></tr></table></figure>\n<h3 id=\"4.3-选择器\">4.3 选择器<a title=\"#4.3-选择器\" href=\"#4.3-选择器\"></a></h3>\n<p>除了不支持 * 全局选择 ，其他都与 css 一样</p>\n<h3 id=\"4.4-使用less\">4.4 使用less<a title=\"#4.4-使用less\" href=\"#4.4-使用less\"></a></h3>\n<ol>\n<li>\n<p>下载插件 easy less</p>\n</li>\n<li>\n<p>在vs code 的设置中加入如下配置</p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">&quot;less.compile&quot;</span>:&#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;outExt&quot;</span>:<span class=\"string\">&quot;.wxss&quot;</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>在编写样式的地方，建立.less文件 正常编辑即可</li>\n</ol>\n<h2 id=\"5.-常见组件\">5. 常见组件<a title=\"#5.-常见组件\" href=\"#5.-常见组件\"></a></h2>\n<p>常用的布局组件</p>\n<p>view，text，rich-text，button，image，navigator，icon，swiper，radio，checkbox，等</p>\n<h3 id=\"5.1-view\">5.1 view<a title=\"#5.1-view\" href=\"#5.1-view\"></a></h3>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/view.html\" target=\"_blank\">官方</a>属性</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">属性</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">默认值</th>\n<th style=\"text-align:left\">必填</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">最低版本</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">hover-class</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">none</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">指定按下去的样式类。当 <code>hover-class=&quot;none&quot;</code> 时，没有点击态效果</td>\n<td style=\"text-align:left\"><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">1.0.0</a></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">hover-stop-propagation</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">false</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">指定是否阻止本节点的祖先节点出现点击态</td>\n<td style=\"text-align:left\"><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">1.5.0</a></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">hover-start-time</td>\n<td style=\"text-align:left\">number</td>\n<td style=\"text-align:left\">50</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">按住后多久出现点击态，单位毫秒</td>\n<td style=\"text-align:left\"><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">1.0.0</a></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">hover-stay-time</td>\n<td style=\"text-align:left\">number</td>\n<td style=\"text-align:left\">400</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">手指松开后点击态保留时间，单位毫秒</td>\n<td style=\"text-align:left\"><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">1.0.0</a></td>\n</tr>\n</tbody>\n</table></div></div><h3 id=\"5.2-text\">5.2 text<a title=\"#5.2-text\" href=\"#5.2-text\"></a></h3>\n<ul>\n<li>文本标签</li>\n<li>只能嵌套text</li>\n<li>只有这个标签 可以长按文字复制   selectable</li>\n<li>可以对空格 回车 进行编码            decode      (if没有的话 像<code>&amp;nbsp;</code>这种符号会原样显示)</li>\n</ul>\n<blockquote>\n<p>decode可以解析的有<code>&amp;nbsp; &amp;gt; &amp;amp; &amp;apos; &amp;ensp; &amp;emsp;</code></p>\n</blockquote>\n<h3 id=\"5.3-image\">5.3 image<a title=\"#5.3-image\" href=\"#5.3-image\"></a></h3>\n<ul>\n<li>因为后期打包上线 不能超过2兆</li>\n</ul>\n<p>​       所以会把很多 静态资源放在网络上 [软件：图床 将本地图片 放到网络上]</p>\n<ul>\n<li>image组件默认宽度320px、高度240px</li>\n<li>可以直接设置懒加载</li>\n</ul>\n<p>属性：</p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">属性</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">默认值</th>\n<th style=\"text-align:left\">必填</th>\n<th style=\"text-align:left\">说明</th>\n<th style=\"text-align:left\">最低版本</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">src</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">图片资源地址</td>\n<td style=\"text-align:left\"><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">1.0.0</a></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">mode</td>\n<td style=\"text-align:left\">string</td>\n<td style=\"text-align:left\">scaleToFill</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">图片裁剪、缩放的模式</td>\n<td style=\"text-align:left\"><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">1.0.0</a></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">lazy-load</td>\n<td style=\"text-align:left\">boolean</td>\n<td style=\"text-align:left\">false</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">图片懒加载，在即将进入一定范围（上下三屏）时才开始加载</td>\n<td style=\"text-align:left\"><a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">1.5.0 </a></td>\n</tr>\n</tbody>\n</table></div></div><p>mode属性的值：</p>\n<ul>\n<li>scaleToFill ： 默认，不保持宽高比，使图片的宽高完全拉伸至填满</li>\n<li>aspectFit ：常用，保持宽高比，使图片的长边能完全显示出来</li>\n<li>aspectFill ：少用，保持宽高比，使图片的短边能完全显示出来</li>\n<li>widthFix ：常用，保持宽高比，宽度不变，高度自动变化</li>\n<li>heightFix ： 保持宽高比，高度不变，宽度自动变化</li>\n<li>top、bottom、center、left、right、top left、top right、bottom left、bottom right ： 不缩放图片，只显示图片的…区域（相当于background-position）</li>\n</ul>\n<h3 id=\"5.4-swiper-轮播图\">5.4 swiper 轮播图<a title=\"#5.4-swiper-轮播图\" href=\"#5.4-swiper-轮播图\"></a></h3>\n<ul>\n<li>swiper(轮播图外层容器) &gt; swiper-item (轮播项)</li>\n<li>swiper存在默认宽(100%)高(150px)  如果里面要用到image也是有默认宽高的(320px * 240px) swiper不会被里面撑开</li>\n<li>要计算swiper 和 image 的宽高</li>\n<li>属性：\n<ul>\n<li>autoplay 自动播放</li>\n<li>interval 轮播时间 ms</li>\n<li>circular 循环轮播</li>\n<li>indicator-dots 显示 指示器/分页器/索引器</li>\n<li>indicator-color 指示器未选中颜色</li>\n<li>indicator-active-color 指示器选中颜色</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 先找出 原图的宽高 等比例 给swiper 定宽高</span></span><br><span class=\"line\"><span class=\"comment\">原图 520 * 280px </span></span><br><span class=\"line\"><span class=\"comment\">swiper 宽 / 高 = 原图 宽 / 高</span></span><br><span class=\"line\"><span class=\"comment\">height: swiper 宽 * 原图 高 / 宽 = 100vw * 280px / 520px --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">swiper</span> <span class=\"attr\">autoplay</span> <span class=\"attr\">interval</span>=<span class=\"string\">&quot;2000&quot;</span> <span class=\"attr\">circular</span> <span class=\"attr\">indicator-dots</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;...&quot;</span> /&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;...&quot;</span> /&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">swiper-item</span>&gt;</span> <span class=\"tag\">&lt;<span class=\"name\">image</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;widthFix&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;...&quot;</span> /&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">swiper-item</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">swiper</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">swiper&#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100vw</span> * <span class=\"number\">280</span> / <span class=\"number\">520</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">image&#123;</span><br><span class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.5-navigator-超链接\">5.5 navigator 超链接<a title=\"#5.5-navigator-超链接\" href=\"#5.5-navigator-超链接\"></a></h3>\n<p>导航组件 navigator  块级标签</p>\n<p>属性：</p>\n<ul>\n<li>url：当前小程序内的跳转链接</li>\n<li>targer：在哪个目标上发生跳转，默认当前小程序 self(自己 默认) / miniProgram(其他小程序)</li>\n<li>open-type：跳转方式\n<ul>\n<li>navigate：默认，保留当前页面，跳转应用内某页面，不能跳转tabbar页面</li>\n<li>redirect：关闭当前页面，跳转应用内某页面，不能跳转tabbar页面</li>\n<li>switchTab：跳转tabBar页面，并关闭其他所有页面</li>\n<li>reLaunch：关闭所有页面，打开到应用内某页面</li>\n<li>navigateBack：关闭当前页面，返回上一页面，可通过getCurrentPages()获取当前页面栈</li>\n<li>exit：退出小程序，target=”miniProgram”时使用</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"5.6-rich-text-富文本\">5.6 rich-text <a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/rich-text.html\">富文本</a><a title=\"#5.6-rich-text-富文本\" href=\"#5.6-rich-text-富文本\"></a></h3>\n<p>相当于v-html</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">rich-text</span> <span class=\"attr\">nodes</span>=<span class=\"string\">&quot;&#123;&#123;html&#125;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">rich-text</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">        <span class=\"comment\">//1. 字符串 &lt;div&gt;hello&lt;/div&gt;</span></span><br><span class=\"line\">        <span class=\"attr\">html</span>:<span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"comment\">//2. 对象形式</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.7-button\">5.7 button<a title=\"#5.7-button\" href=\"#5.7-button\"></a></h3>\n<h4 id=\"5.7.1-外观属性\">5.7.1 外观属性<a title=\"#5.7.1-外观属性\" href=\"#5.7.1-外观属性\"></a></h4>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/button.html\" target=\"_blank\">官网</a></p>\n<ul>\n<li>\n<p>size 尺寸：default(默认) / mini(小尺寸)</p>\n</li>\n<li>\n<p>type 颜色：default(灰色) / primary(绿色) / warn(红色)</p>\n</li>\n<li>\n<p>plain 背景透明</p>\n</li>\n<li>\n<p>loading 文字前面 + 加载logo</p>\n</li>\n<li>\n<p>open-type 开发功能 ：…</p>\n</li>\n</ul>\n<h4 id=\"5.7.2-开放功能\">5.7.2 开放功能<a title=\"#5.7.2-开放功能\" href=\"#5.7.2-开放功能\"></a></h4>\n<ul>\n<li>open-type 的值：\n<ul>\n<li>contact 打开客服对话  需要在微信小程序的后台配置\n<ol>\n<li>只能真机调试</li>\n<li>将小程序的appid 由测试号 改为自己的 appid</li>\n<li>登录 微信小程序官网 添加 客服-微信</li>\n<li></li>\n</ol>\n</li>\n<li>share 转发当前小程序到微信朋友  不能发到朋友圈</li>\n<li>getPhoneNumber 获取当前用户手机号码信息 结合事件  if非企业小程序 就没有权限获取\n<ol>\n<li>绑定事件 bindgetpphonenumber</li>\n<li>在回调函数中 通过参数来获取信息 / 事件源e</li>\n<li>获取的信息加密了</li>\n<li>需要用户自己搭建小程序后台服务器 在其解析 返回到小程序才能看到</li>\n</ol>\n</li>\n<li>getUserInfo 获取当前用户的个人信息\n<ol>\n<li>绑定事件 bindgetuserinfo</li>\n<li>可以获取到</li>\n</ol>\n</li>\n<li>launchApp 在当前小程序 直接打开app\n<ol>\n<li>需要先在app 中 通过app 打开小程序</li>\n<li>然后在小程序中 点击这个button 才能打开 app</li>\n</ol>\n</li>\n<li>openSetting 打开小程序内置的 授权页面\n<ol>\n<li>只会出现用户曾经授权过的</li>\n</ol>\n</li>\n<li>feedback 打开小程序内置的 意见反馈页面\n<ol>\n<li>只能真机调试</li>\n</ol>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"5.8-icon\">5.8 icon<a title=\"#5.8-icon\" href=\"#5.8-icon\"></a></h3>\n<p>属性:</p>\n<ul>\n<li>type：图标类型 success, success_no_circle, info, warn, waiting, cancel, download, search, clear</li>\n<li>size：默认23 ，数值越大 图标越大</li>\n<li>color：与css颜色同</li>\n</ul>\n<h3 id=\"5.9-radio\">5.9 radio<a title=\"#5.9-radio\" href=\"#5.9-radio\"></a></h3>\n<p>radio-group &gt; radio</p>\n<p>可以使用color属性 换颜色</p>\n<p>选择单选框 触发的事件 bindchange</p>\n<p>需求：选择 在页面中显示选择的内容</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">radio-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;handleChange&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;male&quot;</span>&gt;</span>男<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">radio</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;female&quot;</span>&gt;</span>女<span class=\"tag\">&lt;/<span class=\"name\">radio</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">radio-group</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>您选择的是：&#123;&#123;gender&#125;&#125; <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">gender</span>:<span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">handleChange</span>(<span class=\"params\">e</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">let</span> gender = e.<span class=\"property\">detail</span>.<span class=\"property\">value</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">            gender</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.10-checkbox\">5.10 checkbox<a title=\"#5.10-checkbox\" href=\"#5.10-checkbox\"></a></h3>\n<p>checkbok-group &gt; checkbox</p>\n<p>可以使用color属性 换颜色</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">checkbox-group</span> <span class=\"attr\">bindchange</span>=<span class=\"string\">&quot;handleChange&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">checkbox</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&#123;&#123;item.value&#125;&#125;&quot;</span> <span class=\"attr\">wx:for</span>=<span class=\"string\">&quot;&#123;&#123;list&#125;&#125;&quot;</span> <span class=\"attr\">wx:key</span>=<span class=\"string\">&quot;id&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">checkbox</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">checkbox-group</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>您选择的是：&#123;&#123;checkedlist&#125;&#125; <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;</span><br><span class=\"line\">        <span class=\"attr\">list</span>:[</span><br><span class=\"line\">            &#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;1&#x27;</span>,<span class=\"attr\">name</span>:<span class=\"string\">&#x27;apple&#x27;</span>,<span class=\"attr\">value</span>:<span class=\"string\">&#x27;apple&#x27;</span>&#125;,</span><br><span class=\"line\">            &#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;2&#x27;</span>,<span class=\"attr\">name</span>:<span class=\"string\">&#x27;pear&#x27;</span>,<span class=\"attr\">value</span>:<span class=\"string\">&#x27;pear&#x27;</span>&#125;,</span><br><span class=\"line\">            &#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;3&#x27;</span>,<span class=\"attr\">name</span>:<span class=\"string\">&#x27;grape&#x27;</span>,<span class=\"attr\">value</span>:<span class=\"string\">&#x27;grape&#x27;</span>&#125;,</span><br><span class=\"line\">        ],</span><br><span class=\"line\">        <span class=\"attr\">checkedlist</span>:[]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">handleChange</span>(<span class=\"params\">e</span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> checkedlist = e.<span class=\"property\">detail</span>.<span class=\"property\">value</span>;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">            checkedlist</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.11-scroll-view-滚动视图区域\">5.11 scroll-view 滚动视图区域<a title=\"#5.11-scroll-view-滚动视图区域\" href=\"#5.11-scroll-view-滚动视图区域\"></a></h3>\n<p>属性：</p>\n<blockquote>\n<p>使用竖向滚动时，需要给<a href=\"https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html\" target=\"_blank\">scroll-view</a>一个固定高度，通过 WXSS 设置 height。组件属性的长度单位默认为px，<a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html\" target=\"_blank\">2.4.0</a>起支持传入单位(rpx/px)。</p>\n<p>less 使用 calc 希望css 原样使用  height:~’calc(100vh - 90rpx)’</p>\n</blockquote>\n<ul>\n<li>scroll-x：允许横向滚动</li>\n<li>scroll-y：允许纵向滚动</li>\n<li>scroll-top：设置竖向滚动条位置</li>\n<li>scroll-left：设置横向滚动条位置</li>\n</ul>\n<blockquote>\n<p>点击 其他标签 使本来轮动到一定距离的页面 在顶部显示</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">scroll-view</span> <span class=\"attr\">scroll-top</span>=<span class=\"string\">&quot;&#123;&#123;scrollTop&#125;&#125;&quot;</span> <span class=\"attr\">bindTap</span>=<span class=\"string\">&quot;handleChange&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"attr\">scrollTop</span>:<span class=\"number\">0</span></span><br><span class=\"line\">&#125;,</span><br><span class=\"line\"><span class=\"title function_\">handleChange</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">        <span class=\"comment\">//重新设置 右侧内容的scroll-view标签的距离顶部的距离</span></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">scrollTop</span>:<span class=\"number\">0</span></span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"6.自定义组件\">6.自定义组件<a title=\"#6.自定义组件\" href=\"#6.自定义组件\"></a></h2>\n<h3 id=\"6.1-使用自定义组件\">6.1 使用自定义组件<a title=\"#6.1-使用自定义组件\" href=\"#6.1-使用自定义组件\"></a></h3>\n<ol>\n<li>\n<p>新增组件</p>\n<img src=\"https://s1.328888.xyz/2022/04/09/XaM80.jpg\"  style=\"zoom:80%; float:left \" >\n</li>\n<li>\n<p>定义组件  在组件的 json 文件中进行自定义组件声明</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//在组件Tabs.json</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;component&quot;</span><span class=\"punctuation\">:</span><span class=\"keyword\">true</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>声明组件 在要使用组件的 json 文件中声明组件</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//demo.json</span></span><br><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;usingComponents&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;Tabs&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;../../components/Tabs/Tabs&quot;</span>        <span class=\"comment\">//组件名称:相对路径</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>使用组件 在要使用的页面 使用</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- demo.wxml --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Tabs</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Tabs</span>&gt;</span></span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"6.2-注意事项\">6.2 注意事项<a title=\"#6.2-注意事项\" href=\"#6.2-注意事项\"></a></h3>\n<p>在页面 .js 文件中 事件回调函数 放在 与data 同层级</p>\n<p>在组件 .js 文件中 事件回调函数 放在 与data 同层级 的 methods：{} 中</p>\n<h3 id=\"6.3-父向子组件传值---通过属性传递\">6.3 父向子组件传值 - 通过属性传递<a title=\"#6.3-父向子组件传值---通过属性传递\" href=\"#6.3-父向子组件传值---通过属性传递\"></a></h3>\n<ol>\n<li>在父组件wxml里 给子<code>&lt;tabs&gt;</code>组件 定义属性</li>\n<li>在子组件js里 的 properties 接收值  属性名aaa : { type:数据类型,value:”” }</li>\n<li>就可以直接在子组件wxml里使用了</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//com.wxml</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Tabs</span> <span class=\"attr\">aaa</span>=<span class=\"string\">&quot;bbb&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Tabs</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//tabs.js</span></span><br><span class=\"line\"><span class=\"title class_\">Component</span>(&#123;</span><br><span class=\"line\">  <span class=\"comment\">//组件的属性列表</span></span><br><span class=\"line\">  <span class=\"attr\">properties</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">aaa</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">type</span>: <span class=\"title class_\">String</span>,</span><br><span class=\"line\">      <span class=\"attr\">value</span>: <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"> &#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//tabs.wxml</span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span>&#123;&#123;aaa&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"6.4-子向父组件传值---通过事件传递\">6.4 子向父组件传值 - 通过事件传递<a title=\"#6.4-子向父组件传值---通过事件传递\" href=\"#6.4-子向父组件传值---通过事件传递\"></a></h3>\n<ol>\n<li>\n<p>子组件 点击事件 bindtap = ‘handleitemchange’ 触发 handleitemchange 事件</p>\n<p>通过 this.triggerEvent( ‘父组件自定义事件名称 itemChange’ , 要传递的参数) 触发 父组件 的 binditemChange 事件 传递给父组件信息</p>\n</li>\n<li>\n<p>父组件 自定义事件 binditemChange = ‘handleItemChange’ 被触发 自身处理事件</p>\n<p>通过 handleItemChange(){} 函数 接受 参数 处理事件</p>\n</li>\n</ol>\n<blockquote>\n<p>代码中 如果 只是 父向 子组件 传 tabs ， 其他业务逻辑在子组件编写 也是会有效果的</p>\n<p>但是 是因为 在子组件 接收到 tabs 后 处理 逻辑时 setData 后 把tabs 放在了子组件 的data里</p>\n<p>父组件的值并没有改到</p>\n</blockquote>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//父组件.wxml</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Tabs</span> <span class=\"attr\">aaa</span>=<span class=\"string\">&quot;bbb&quot;</span> <span class=\"attr\">tabs</span>=<span class=\"string\">&quot;&#123;&#123;tabs&#125;&#125;&quot;</span> <span class=\"attr\">binditemChange</span>=<span class=\"string\">&quot;handleItemChange&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">Tabs</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">//子组件.wxml</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">...</span> <span class=\"attr\">bindtap</span>=<span class=\"string\">&quot;itemchange&quot;</span> &gt;</span>&#123;&#123;item.value&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//子组件.js</span></span><br><span class=\"line\"><span class=\"title class_\">Component</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">properties</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">tabs</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">type</span>: <span class=\"title class_\">Array</span>,</span><br><span class=\"line\">      <span class=\"attr\">value</span>: []</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"attr\">methods</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// 父子组件之间的通信</span></span><br><span class=\"line\">    <span class=\"title function_\">itemchange</span>(<span class=\"params\">e</span>) &#123;   <span class=\"comment\">//子组件 bindtap 触发的名字</span></span><br><span class=\"line\">      <span class=\"keyword\">const</span> &#123; index &#125; = e.<span class=\"property\">currentTarget</span>.<span class=\"property\">dataset</span>;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">triggerEvent</span>(<span class=\"string\">&#x27;itemChange&#x27;</span>, &#123; index &#125;); <span class=\"comment\">//父组件自定义事件名 bind + &#x27;...&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//父组件.js</span></span><br><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">data</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">tabs</span>: [</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">1</span>, <span class=\"attr\">value</span>: <span class=\"string\">&quot;首页&quot;</span>, <span class=\"attr\">isActive</span>: <span class=\"literal\">true</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">2</span>, <span class=\"attr\">value</span>: <span class=\"string\">&quot;新闻&quot;</span>, <span class=\"attr\">isActive</span>: <span class=\"literal\">false</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">3</span>, <span class=\"attr\">value</span>: <span class=\"string\">&quot;同城&quot;</span>, <span class=\"attr\">isActive</span>: <span class=\"literal\">false</span> &#125;,</span><br><span class=\"line\">      &#123; <span class=\"attr\">id</span>: <span class=\"number\">4</span>, <span class=\"attr\">value</span>: <span class=\"string\">&quot;我的&quot;</span>, <span class=\"attr\">isActive</span>: <span class=\"literal\">false</span> &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">handleItemChange</span>(<span class=\"params\">e</span>) &#123;  <span class=\"comment\">//父组件自定义事件值 </span></span><br><span class=\"line\">    <span class=\"comment\">// 接受传递过来的参数</span></span><br><span class=\"line\">    <span class=\"keyword\">const</span> &#123; index &#125; = e.<span class=\"property\">detail</span>;</span><br><span class=\"line\">    <span class=\"keyword\">let</span> &#123; tabs &#125; = <span class=\"variable language_\">this</span>.<span class=\"property\">data</span>;</span><br><span class=\"line\">    tabs.<span class=\"title function_\">forEach</span>(<span class=\"function\">(<span class=\"params\">v, i</span>) =&gt;</span> i === index ? v.<span class=\"property\">isActive</span> = <span class=\"literal\">true</span> : v.<span class=\"property\">isActive</span> = <span class=\"literal\">false</span>)</span><br><span class=\"line\">    <span class=\"variable language_\">this</span>.<span class=\"title function_\">setData</span>(&#123;  <span class=\"comment\">//修改数据</span></span><br><span class=\"line\">      tabs</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"6.5-slot-插槽\">6.5 slot 插槽<a title=\"#6.5-slot-插槽\" href=\"#6.5-slot-插槽\"></a></h3>\n<p>其实就是一个占位符 直接写在组件标签里面，这些里面的东西就会替换slot</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//父组件</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">Tabs</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\">    111</span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">Tabs</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">//子组件</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">view</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;tabs&quot;</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">slot</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">slot</span>&gt;</span> </span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"6.6-组件的其他属性\">6.6 组件的其他属性<a title=\"#6.6-组件的其他属性\" href=\"#6.6-组件的其他属性\"></a></h3>\n<p>​\tComponent 里面的<a href=\"https://developers.weixin.qq.com/miniprogram/dev/reference/api/Component.html\" target=\"_blank\">属性</a></p>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:left\">定义段</th>\n<th style=\"text-align:left\">类型</th>\n<th style=\"text-align:left\">是否必填</th>\n<th style=\"text-align:left\">描述</th>\n<th style=\"padding:0\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:left\">properties</td>\n<td style=\"text-align:left\">Object Map</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">组件的对外属性，是属性名到属性设置的映射表</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">data</td>\n<td style=\"text-align:left\">Object</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">组件的内部数据，和 <code>properties</code> 一同用于组件的模板渲染</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">observers</td>\n<td style=\"text-align:left\">Object</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">as vue watch — 组件数据字段监听器，用于监听 properties 和 data 的变化，参见 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/observer.html\" target=\"_blank\">数据监听器</a></td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">methods</td>\n<td style=\"text-align:left\">Object</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">组件的方法，包括事件响应函数和任意的自定义方法，关于事件响应函数的使用，参见 <a href=\"https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/events.html\" target=\"_blank\">组件间通信与事件</a></td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\"></td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">created</td>\n<td style=\"text-align:left\">Function</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">as vue created — 组件生命周期函数-在组件实例刚刚被创建时执行，注意此时不能调用 <code>setData</code> )</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">attached</td>\n<td style=\"text-align:left\">Function</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">as vue mounting — 组件生命周期函数-在组件实例进入页面节点树时执行)</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">ready</td>\n<td style=\"text-align:left\">Function</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">as vue mounted  — 组件生命周期函数-在组件布局完成后执行)</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">moved</td>\n<td style=\"text-align:left\">Function</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">as vue updated  — 组件生命周期函数-在组件实例被移动到节点树另一个位置时执行)</td>\n<td style=\"text-align:left\"></td>\n</tr>\n<tr>\n<td style=\"text-align:left\">detached</td>\n<td style=\"text-align:left\">Function</td>\n<td style=\"text-align:left\">否</td>\n<td style=\"text-align:left\">as vue destoryed  — 组件生命周期函数-在组件实例被从页面节点树移除时执行)</td>\n<td style=\"text-align:left\"></td>\n</tr>\n</tbody>\n</table></div></div><h2 id=\"7.-生命周期\">7. 生命周期<a title=\"#7.-生命周期\" href=\"#7.-生命周期\"></a></h2>\n<h4 id=\"7.1-应用-app.js-生命周期\">7.1 应用 app.js 生命周期<a title=\"#7.1-应用-app.js-生命周期\" href=\"#7.1-应用-app.js-生命周期\"></a></h4>\n<ul>\n<li>\n<p>全局最外层是App({})</p>\n</li>\n<li>\n<p>onLaunch() : 触发：应用第一次启动时;</p>\n<p>​                    作用：应用第一次启动时，获取用户个人信息</p>\n</li>\n<li>\n<p>onShow() : 触发：应用被用户看到时</p>\n<p>​                  作用：对应用的数据或页面效果 重置</p>\n</li>\n<li>\n<p>onHide() : 触发：应用被隐藏时</p>\n<p>​                作用：暂定 或 清除定时器</p>\n</li>\n<li>\n<p>onError() : 触发：应用代码发生了报错的时候</p>\n<p>​                  作用：收集用户的错误信息，通过异步请求，将错误信息发到后台</p>\n</li>\n<li>\n<p>onPageNotFound() : 触发：应用第一次启动时，找不到第一个入口页面</p>\n<p>​                                作用：通过js重新跳转到第二个首页 wx.navigateTo({url:’…’}) 不能跳转到tabbar页面</p>\n</li>\n</ul>\n<h4 id=\"7.2-页面-demo.js-生命周期\">7.2 页面 demo.js 生命周期<a title=\"#7.2-页面-demo.js-生命周期\" href=\"#7.2-页面-demo.js-生命周期\"></a></h4>\n<ul>\n<li>\n<p>data : 页面初始数据</p>\n</li>\n<li>\n<p>onLoad : 页面加载完毕 发送异步请求初始化页面</p>\n</li>\n<li>\n<p>onShow : 页面显示</p>\n</li>\n<li>\n<p>onReady : 页面渲染完毕</p>\n</li>\n<li>\n<p>onHide : 页面隐藏 切后台/跳链接</p>\n</li>\n<li>\n<p>onUnload : 页面卸载  点击超链接 open-type 的值中 有包含关闭页面的才ok ：redirect、reLaunch、navigateBack</p>\n</li>\n<li>\n<p>onPullDownRefresh : 监听用户的下拉刷新操作 进行页面数据 效果 的刷新操作</p>\n</li>\n<li>\n<p>onReachBottom : 监听页面上拉触底事件 需要让页面 上下滚动</p>\n</li>\n<li>\n<p>onShareAppMessage : 点击右上角转发操作</p>\n</li>\n<li>\n<p>onPageScroll : 页面滚动</p>\n</li>\n<li>\n<p>onResize : 页面尺寸发生改变 小程序 横屏/竖屏切换</p>\n<blockquote>\n<p>开启页面横批 在页面的json文件 ＋</p>\n<p>{ “pageOrientation”:”auto”}</p>\n<p>然后在模拟器中就可以找到 切换模式 按钮</p>\n</blockquote>\n</li>\n<li>\n<p>onTabItemTap : 当前页面 tabbar 页面 点击自己的 tab 键时</p>\n</li>\n</ul>\n<h2 id=\"8.异步请求\">8.异步请求<a title=\"#8.异步请求\" href=\"#8.异步请求\"></a></h2>\n<h3 id=\"8.1-使用-wx-request\">8.1 使用 wx-request<a title=\"#8.1-使用-wx-request\" href=\"#8.1-使用-wx-request\"></a></h3>\n<p><a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html\" target=\"_blank\">官网位置</a></p>\n<p>一般将异步请求写在页面周期函数的 onLoad 里</p>\n<img src=\"https://s1.328888.xyz/2022/04/09/XaECy.jpg\">\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">onLoad</span>: <span class=\"keyword\">function</span> (<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    wx.<span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://service-dxtrccme-1302998929.gz.apigw.tencentcs.com/release/accordin&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">success</span>: <span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">fail</span>: <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err); &#125;,</span><br><span class=\"line\">      <span class=\"attr\">complete</span>: <span class=\"function\">() =&gt;</span> &#123; &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//to be function</span></span><br><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">onLoad</span>: <span class=\"keyword\">function</span> (<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">getSiwperImage</span>()</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  <span class=\"title function_\">getSwiperImage</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    wx.<span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://service-dxtrccme-1302998929.gz.apigw.tencentcs.com/release/accordin&#x27;</span>,</span><br><span class=\"line\">      <span class=\"attr\">success</span>: <span class=\"function\">(<span class=\"params\">result</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(result);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">fail</span>: <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(err); &#125;,</span><br><span class=\"line\">      <span class=\"attr\">complete</span>: <span class=\"function\">() =&gt;</span> &#123; &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"8.2-优化异步请求es6-promise\">8.2 优化异步请求es6 promise<a title=\"#8.2-优化异步请求es6-promise\" href=\"#8.2-优化异步请求es6-promise\"></a></h3>\n<blockquote>\n<p>方便嵌套</p>\n</blockquote>\n<ol>\n<li>在 request 新建 index.js 到处 封装好的 Promise 的request</li>\n<li>在要用到 异步请求 的页面 index.js 导入 request 用来发送请求的方法</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//在 request 新建 index.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">request</span> = (<span class=\"params\">params</span>) =&gt; &#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    wx.<span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">      ...params,</span><br><span class=\"line\">      <span class=\"attr\">success</span>: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(res);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">fail</span>: <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(err)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//页面 index.js </span></span><br><span class=\"line\"><span class=\"keyword\">import</span> &#123; request &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../../request/index.js&#x27;</span></span><br><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\"> <span class=\"attr\">onLoad</span>: <span class=\"keyword\">function</span> (<span class=\"params\">options</span>) &#123;</span><br><span class=\"line\">    <span class=\"title function_\">request</span>(&#123; <span class=\"attr\">url</span>: <span class=\"string\">&#x27;https://service-dxtrccme-1302998929.gz.apigw.tencentcs.com/release/accordin&#x27;</span> &#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"variable language_\">this</span>.<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">        <span class=\"attr\">swiperlist</span>: res.<span class=\"property\">data</span>.<span class=\"property\">data</span></span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\"> &#125;,</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h3 id=\"8.3-提取公共接口路径\">8.3 提取公共接口路径<a title=\"#8.3-提取公共接口路径\" href=\"#8.3-提取公共接口路径\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//在 request 新建 index.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">request</span> = (<span class=\"params\">params</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"comment\">//定义公共接口路径</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> baseUrl = <span class=\"string\">&#x27;https://...&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    wx.<span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">      ...params,</span><br><span class=\"line\">       </span><br><span class=\"line\">      <span class=\"attr\">url</span>:baseUrl+params.<span class=\"property\">url</span>,  </span><br><span class=\"line\">        </span><br><span class=\"line\">      <span class=\"attr\">success</span>: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(res);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">fail</span>: <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(err)</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"8.4-es7-的-async-语法\">8.4 es7 的 async 语法<a title=\"#8.4-es7-的-async-语法\" href=\"#8.4-es7-的-async-语法\"></a></h3>\n<p>es7 的 async 号称是解决 回调的 最终方案</p>\n<p>异步 -&gt; 同步</p>\n<blockquote>\n<p>因为小程序 明确指明支持 es6 -&gt; es5</p>\n<p>所以写es7 语法会比较麻烦 如果设配比较旧 设备的时候 还是用es6 的promise</p>\n</blockquote>\n<ol>\n<li>小程序开发工具中，勾选 es6 转 es5 语法</li>\n<li><a href=\"https://github.com/facebook/regenerator/blob/master/packages/runtime/runtime.js\" target=\"_blank\">下载facebook的regenerator库中的</a></li>\n<li>在小程序目录新建文件 lib/runtime/runtime.js 将代码拷贝进去</li>\n<li>在需要使用anync的地方引入 import regeneratorRuntime from ‘…/…/lib/runtime/runtime’</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//第9 本地存储 中 有一个 function getCates()  将这个方法 使用async 和 await</span></span><br><span class=\"line\"><span class=\"comment\">//也用上了baseurl</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> regeneratorRuntime <span class=\"keyword\">from</span> ‘../../lib/runtime/runtime’</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">async</span> <span class=\"title function_\">getCates</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.使用es7 的 async await发送请求  </span></span><br><span class=\"line\">     <span class=\"keyword\">const</span> res = <span class=\"keyword\">await</span> <span class=\"title function_\">request</span>(&#123; <span class=\"attr\">url</span>:<span class=\"string\">&quot;/categories&quot;</span> &#125;);</span><br><span class=\"line\">     <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span> = res.<span class=\"property\">data</span>.<span class=\"property\">message</span>;</span><br><span class=\"line\">             </span><br><span class=\"line\">     <span class=\"comment\">// 把接口中的数据存入本地存储</span></span><br><span class=\"line\">     wx.<span class=\"title function_\">setStorageSync</span>(<span class=\"string\">&quot;cates&quot;</span>,&#123;<span class=\"attr\">time</span>:<span class=\"title class_\">Data</span>.<span class=\"title function_\">now</span>(),<span class=\"attr\">data</span>:<span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>&#125;);</span><br><span class=\"line\">   </span><br><span class=\"line\">     <span class=\"keyword\">let</span> leftMenuList = <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">v</span> =&gt;</span> v.<span class=\"property\">cat_name</span>);</span><br><span class=\"line\">     <span class=\"keyword\">let</span> rightMenuList = <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>[<span class=\"number\">0</span>].<span class=\"property\">children</span>;</span><br><span class=\"line\">     <span class=\"variable language_\">this</span>,<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">          leftMenuList,</span><br><span class=\"line\">          rightMenuList</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"8.5-将显示加载中的logo封装在请求中\">8.5 将显示加载中的logo封装在请求中<a title=\"#8.5-将显示加载中的logo封装在请求中\" href=\"#8.5-将显示加载中的logo封装在请求中\"></a></h3>\n<p>加载中的<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showLoading.html\" target=\"_blank\">官方文档</a></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//计同时发送请求的数据</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ajaxtime = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">request</span> = (<span class=\"params\">params</span>) =&gt; &#123;</span><br><span class=\"line\">   ajaxtime++;</span><br><span class=\"line\">  <span class=\"comment\">//显示加载中</span></span><br><span class=\"line\">  wx.<span class=\"title function_\">showLoading</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">title</span>:<span class=\"string\">&quot;加载中&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">mask</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">    </span><br><span class=\"line\">  <span class=\"comment\">//定义公共接口路径</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> baseUrl = <span class=\"string\">&#x27;https://...&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    wx.<span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">      ...params,</span><br><span class=\"line\">       </span><br><span class=\"line\">      <span class=\"attr\">url</span>:baseUrl+params.<span class=\"property\">url</span>,  </span><br><span class=\"line\">        </span><br><span class=\"line\">      <span class=\"attr\">success</span>: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(res);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">fail</span>: <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(err)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">        </span><br><span class=\"line\">      <span class=\"attr\">complete</span>:<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">          ajaxtime--;</span><br><span class=\"line\">          <span class=\"comment\">//无论 所以同步请求都完成  成功还是失败 都执行</span></span><br><span class=\"line\">          <span class=\"comment\">//关闭加载</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span>(ajaxtime === <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              wx.<span class=\"title function_\">hideLoading</span>();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h3 id=\"8.6-request-封装中增加-header-头部信息\">8.6 request 封装中增加 header 头部信息<a title=\"#8.6-request-封装中增加-header-头部信息\" href=\"#8.6-request-封装中增加-header-头部信息\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//计同时发送请求的数据</span></span><br><span class=\"line\"><span class=\"keyword\">let</span> ajaxtime = <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> <span class=\"title function_\">request</span> = (<span class=\"params\">params</span>) =&gt; &#123;</span><br><span class=\"line\">    <span class=\"comment\">//判断url 中的特点 if 有 /my/ 就得加 header 私有路径</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> header = &#123;...params.<span class=\"property\">header</span>&#125;;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(params.<span class=\"property\">url</span>.<span class=\"title function_\">includes</span>(<span class=\"string\">&quot;/my/&quot;</span>))&#123;</span><br><span class=\"line\">        <span class=\"comment\">//拼接</span></span><br><span class=\"line\">        header[<span class=\"string\">&quot;Authorization&quot;</span>] = wx.<span class=\"title function_\">getStorageSync</span>(<span class=\"string\">&quot;token&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    </span><br><span class=\"line\">   ajaxtime++;</span><br><span class=\"line\">  <span class=\"comment\">//显示加载中</span></span><br><span class=\"line\">  wx.<span class=\"title function_\">showLoading</span>(&#123;</span><br><span class=\"line\">      <span class=\"attr\">title</span>:<span class=\"string\">&quot;加载中&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">mask</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">    </span><br><span class=\"line\">  <span class=\"comment\">//定义公共接口路径</span></span><br><span class=\"line\">  <span class=\"keyword\">const</span> baseUrl = <span class=\"string\">&#x27;https://...&#x27;</span></span><br><span class=\"line\">  <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    wx.<span class=\"title function_\">request</span>(&#123;</span><br><span class=\"line\">      ...params,</span><br><span class=\"line\">       </span><br><span class=\"line\">      <span class=\"attr\">url</span>:baseUrl+params.<span class=\"property\">url</span>,  </span><br><span class=\"line\">        </span><br><span class=\"line\">      <span class=\"attr\">success</span>: <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">resolve</span>(res);</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      <span class=\"attr\">fail</span>: <span class=\"function\">(<span class=\"params\">err</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"title function_\">reject</span>(err)</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">        </span><br><span class=\"line\">      <span class=\"attr\">complete</span>:<span class=\"function\">() =&gt;</span> &#123;</span><br><span class=\"line\">          ajaxtime--;</span><br><span class=\"line\">          <span class=\"comment\">//无论 所以同步请求都完成  成功还是失败 都执行</span></span><br><span class=\"line\">          <span class=\"comment\">//关闭加载</span></span><br><span class=\"line\">          <span class=\"keyword\">if</span>(ajaxtime === <span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">              wx.<span class=\"title function_\">hideLoading</span>();</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">          </span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h2 id=\"9.本地存储\">9.本地存储<a title=\"#9.本地存储\" href=\"#9.本地存储\"></a></h2>\n<p>web 与 小程序 中 本地存储的区别</p>\n<ul>\n<li>\n<p>代码 web：localStorage.setItem(“key”,”value”)</p>\n<p>​                 localStorage.getItem(“key”)</p>\n<p>​       小程序：wx.setStorageSync(“key”,”value”)</p>\n<p>​                     wx.getStorageSync(“key”)</p>\n</li>\n<li>\n<p>存的时候 是否会做类型转换</p>\n<p>​     web：存数据时 会调用toString() 把数据转换成字符串</p>\n<p>​    小程序：不会进行数据转换  即 传的是什么数据类型 取的就是什么类型的</p>\n</li>\n</ul>\n<p>小程序本地存储的过程</p>\n<ol>\n<li>判断本地存储 有无旧数据  {time:Data.now() , data:[…]}</li>\n<li>if 无旧数据 直接发送请求 存入 本地存储</li>\n<li>if 有 同时 旧数据没有过期 就直接使用本地存储的数据</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Page</span>(&#123;</span><br><span class=\"line\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"attr\">leftMenuList</span>:[],</span><br><span class=\"line\">        <span class=\"attr\">rightMenuList</span>:[]</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title class_\">Cates</span>:[],</span><br><span class=\"line\">    <span class=\"title function_\">onLaod</span>():<span class=\"keyword\">function</span>(<span class=\"params\">options</span>)&#123;</span><br><span class=\"line\">    \t<span class=\"comment\">//1.获取本地存储中的数据 </span></span><br><span class=\"line\">    \t<span class=\"keyword\">const</span> <span class=\"title class_\">Cates</span> = wx.<span class=\"title function_\">getStorageSync</span>(<span class=\"string\">&quot;cates&quot;</span>);</span><br><span class=\"line\">    \t<span class=\"comment\">//2.判断</span></span><br><span class=\"line\">    \t<span class=\"keyword\">if</span>(!<span class=\"title class_\">Cates</span>)&#123;</span><br><span class=\"line\">            <span class=\"comment\">//发送请求</span></span><br><span class=\"line\">            <span class=\"variable language_\">this</span>.<span class=\"title function_\">getCates</span>();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">            <span class=\"comment\">//是否过期  10s  </span></span><br><span class=\"line\">            <span class=\"keyword\">if</span>(<span class=\"title class_\">Data</span>.<span class=\"title function_\">now</span>() - <span class=\"title class_\">Cates</span>.<span class=\"property\">time</span> &gt; <span class=\"number\">1000</span> * <span class=\"number\">10</span>)&#123;</span><br><span class=\"line\">                <span class=\"comment\">//过期 发送请求</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"title function_\">getCates</span>();</span><br><span class=\"line\">            &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">                <span class=\"comment\">//使用旧数据</span></span><br><span class=\"line\">                <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span> = <span class=\"title class_\">Cates</span>.<span class=\"property\">data</span>;</span><br><span class=\"line\">                <span class=\"keyword\">let</span> leftMenuList = <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">v</span> =&gt;</span> v.<span class=\"property\">cat_name</span>);</span><br><span class=\"line\">                <span class=\"keyword\">let</span> rightMenuList = <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>[<span class=\"number\">0</span>].<span class=\"property\">children</span>;</span><br><span class=\"line\">                <span class=\"variable language_\">this</span>,<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">                    leftMenuList,</span><br><span class=\"line\">                    rightMenuList</span><br><span class=\"line\">                &#125;)</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">    <span class=\"comment\">//获取数据</span></span><br><span class=\"line\">     <span class=\"title function_\">getCates</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">         <span class=\"title function_\">request</span>(&#123;<span class=\"attr\">url</span>:<span class=\"string\">&quot;...&quot;</span>&#125;).<span class=\"title function_\">then</span>(<span class=\"function\"><span class=\"params\">res</span> =&gt;</span> &#123;</span><br><span class=\"line\">             <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span> = res.<span class=\"property\">data</span>.<span class=\"property\">message</span>;</span><br><span class=\"line\">             </span><br><span class=\"line\">             <span class=\"comment\">// 把接口中的数据存入本地存储</span></span><br><span class=\"line\">             wx.<span class=\"title function_\">setStorageSync</span>(<span class=\"string\">&quot;cates&quot;</span>,&#123;<span class=\"attr\">time</span>:<span class=\"title class_\">Data</span>.<span class=\"title function_\">now</span>(),<span class=\"attr\">data</span>:<span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>&#125;);</span><br><span class=\"line\">             </span><br><span class=\"line\">             </span><br><span class=\"line\">             <span class=\"keyword\">let</span> leftMenuList = <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>.<span class=\"title function_\">map</span>(<span class=\"function\"><span class=\"params\">v</span> =&gt;</span> v.<span class=\"property\">cat_name</span>);</span><br><span class=\"line\">             <span class=\"keyword\">let</span> rightMenuList = <span class=\"variable language_\">this</span>.<span class=\"property\">Cates</span>[<span class=\"number\">0</span>].<span class=\"property\">children</span>;</span><br><span class=\"line\">             <span class=\"variable language_\">this</span>,<span class=\"title function_\">setData</span>(&#123;</span><br><span class=\"line\">                 leftMenuList,</span><br><span class=\"line\">                 rightMenuList</span><br><span class=\"line\">             &#125;)</span><br><span class=\"line\">         &#125;)</span><br><span class=\"line\">     &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"10-效果\">10 效果<a title=\"#10-效果\" href=\"#10-效果\"></a></h2>\n<h3 id=\"10.1-previewimage将图片放大预览\">10.1 previewImage<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.previewImage.html\">将图片放大预览</a><a title=\"#10.1-previewimage将图片放大预览\" href=\"#10.1-previewimage将图片放大预览\"></a></h3>\n<p>wx.previewImage({<br>\ncurrent: ‘’, // 当前显示图片的http链接<br>\nurls: [] // 需要预览的图片http链接列表<br>\n})</p>\n<h3 id=\"10.2-showtoast显示弹框\">10.2 showToast<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html\">显示弹框</a><a title=\"#10.2-showtoast显示弹框\" href=\"#10.2-showtoast显示弹框\"></a></h3>\n<p>wx.showToast(){</p>\n<p>​\ttitle:””,</p>\n<p>​\ticon:””,</p>\n<p>​\tmask:true //防抖</p>\n<p>}</p>\n<h3 id=\"10.3-getsetting获取权限状态\">10.3 getSetting<a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/open-api/setting/wx.getSetting.html\">获取权限状态</a><a title=\"#10.3-getsetting获取权限状态\" href=\"#10.3-getsetting获取权限状态\"></a></h3>\n<p>wx.getSetting({</p>\n<p>​\tsuccess:(res) =&gt; {</p>\n<p>​</p>\n<p>​\t}</p>\n<p>})</p>\n<h3 id=\"10.4-chooseaddress获取收货地址\">10.4 chooseAddress<a href=\"\">获取收货地址</a><a title=\"#10.4-chooseaddress获取收货地址\" href=\"#10.4-chooseaddress获取收货地址\"></a></h3>\n<p>之前有过的</p>\n<p>wx.chooseAddress({</p>\n<p>​\tsuccess:(res) =&gt; {</p>\n<p>​\t\t…</p>\n<p>​\t}</p>\n<p>})</p>\n<h3 id=\"10.5-showmodal-显示弹窗\">10.5 showModal <a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showModal.html\">显示弹窗</a><a title=\"#10.5-showmodal-显示弹窗\" href=\"#10.5-showmodal-显示弹窗\"></a></h3>\n<p>wx.showModal({<br>\ntitle: ‘提示’,<br>\ncontent: ‘这是一个模态弹窗’,<br>\nsuccess (res) {<br>\nif (res.confirm) {<br>\nconsole.log(‘用户点击确定’)<br>\n} else if (res.cancel) {<br>\nconsole.log(‘用户点击取消’)<br>\n}<br>\n}<br>\n})</p>\n<h3 id=\"10.6-支付\">10.6 支付<a title=\"#10.6-支付\" href=\"#10.6-支付\"></a></h3>\n<ul>\n<li>支付流程 ：创建订单 -&gt; 准备支付 -&gt; 发起微信支付 -&gt; 查询订单</li>\n</ul>\n<h3 id=\"10.7-chooseimage-选择图片\">10.7 chooseImage <a href=\"https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.chooseImage.html\">选择图片</a><a title=\"#10.7-chooseimage-选择图片\" href=\"#10.7-chooseimage-选择图片\"></a></h3>\n<p>wx.chooseImage({</p>\n<p>​\tcount:9,   //同时选择的最大图片数量</p>\n<p>​\tsizeType:[‘original’ , ‘compressed’],   //图片格式  原图 压缩</p>\n<p>​\tsourceType:[‘album’ , ‘camera’],  //图片来源 相册 照相机</p>\n<p>​\tsuccess:(result) =&gt; {</p>\n<p>​\t\tthis.Data({</p>\n<p>​\t\t\tchooseImages = […this.data.chooseImages,…result.tempFilePaths]    //拼接 图片数组</p>\n<p>​\t\t})</p>\n<p>​\t}</p>\n<p>})</p>\n","prev":{"title":"nodejs 学习笔记","link":"learningNotes/js/nodejs"},"next":{"title":"EChart的使用","link":"learningNotes/ECharts的使用"},"plink":"https://shylees.github.io/learningNotes/微信小程序/","toc":[{"id":"1.软件介绍","title":"1.软件介绍","index":"1","children":[{"id":"1.1-下载","title":"1.1 下载","index":"1.1"},{"id":"1.2-配置文件介绍","title":"1.2 配置文件介绍","index":"1.2"}]},{"id":"2.模板语法","title":"2.模板语法","index":"2","children":[{"id":"2.0-wxml-标签","title":"2.0 wxml 标签","index":"2.1"},{"id":"2.1-数据绑定","title":"2.1 数据绑定","index":"2.2"},{"id":"2.2-运算","title":"2.2 运算","index":"2.3"},{"id":"2.3-列表渲染","title":"2.3 列表渲染","index":"2.4"},{"id":"2.4-条件渲染","title":"2.4 条件渲染","index":"2.5"}]},{"id":"3.事件绑定","title":"3.事件绑定","index":"3","children":[{"id":"3.1-input双向绑定","title":"3.1 input双向绑定","index":"3.1"},{"id":"3.2-button-点击事件","title":"3.2 button 点击事件","index":"3.2"}]},{"id":"4.-wxss样式","title":"4. wxss样式","index":"4","children":[{"id":"4.1-尺寸单位","title":"4.1 尺寸单位","index":"4.1"},{"id":"4.2-样式导入","title":"4.2 样式导入","index":"4.2"},{"id":"4.3-选择器","title":"4.3 选择器","index":"4.3"},{"id":"4.4-使用less","title":"4.4 使用less","index":"4.4"}]},{"id":"5.-常见组件","title":"5. 常见组件","index":"5","children":[{"id":"5.1-view","title":"5.1 view","index":"5.1"},{"id":"5.2-text","title":"5.2 text","index":"5.2"},{"id":"5.3-image","title":"5.3 image","index":"5.3"},{"id":"5.4-swiper-轮播图","title":"5.4 swiper 轮播图","index":"5.4"},{"id":"5.5-navigator-超链接","title":"5.5 navigator 超链接","index":"5.5"},{"id":"5.6-rich-text-富文本","title":"5.6 rich-text 富文本","index":"5.6"},{"id":"5.7-button","title":"5.7 button","index":"5.7"},{"id":"5.8-icon","title":"5.8 icon","index":"5.8"},{"id":"5.9-radio","title":"5.9 radio","index":"5.9"},{"id":"5.10-checkbox","title":"5.10 checkbox","index":"5.10"},{"id":"5.11-scroll-view-滚动视图区域","title":"5.11 scroll-view 滚动视图区域","index":"5.11"}]},{"id":"6.自定义组件","title":"6.自定义组件","index":"6","children":[{"id":"6.1-使用自定义组件","title":"6.1 使用自定义组件","index":"6.1"},{"id":"6.2-注意事项","title":"6.2 注意事项","index":"6.2"},{"id":"6.3-父向子组件传值---通过属性传递","title":"6.3 父向子组件传值 - 通过属性传递","index":"6.3"},{"id":"6.4-子向父组件传值---通过事件传递","title":"6.4 子向父组件传值 - 通过事件传递","index":"6.4"},{"id":"6.5-slot-插槽","title":"6.5 slot 插槽","index":"6.5"},{"id":"6.6-组件的其他属性","title":"6.6 组件的其他属性","index":"6.6"}]},{"id":"7.-生命周期","title":"7. 生命周期","index":"7"},{"id":"8.异步请求","title":"8.异步请求","index":"8","children":[{"id":"8.1-使用-wx-request","title":"8.1 使用 wx-request","index":"8.1"},{"id":"8.2-优化异步请求es6-promise","title":"8.2 优化异步请求es6 promise","index":"8.2"},{"id":"8.3-提取公共接口路径","title":"8.3 提取公共接口路径","index":"8.3"},{"id":"8.4-es7-的-async-语法","title":"8.4 es7 的 async 语法","index":"8.4"},{"id":"8.5-将显示加载中的logo封装在请求中","title":"8.5 将显示加载中的logo封装在请求中","index":"8.5"},{"id":"8.6-request-封装中增加-header-头部信息","title":"8.6 request 封装中增加 header 头部信息","index":"8.6"}]},{"id":"9.本地存储","title":"9.本地存储","index":"9"},{"id":"10-效果","title":"10 效果","index":"10","children":[{"id":"10.1-previewimage将图片放大预览","title":"10.1 previewImage将图片放大预览","index":"10.1"},{"id":"10.2-showtoast显示弹框","title":"10.2 showToast显示弹框","index":"10.2"},{"id":"10.3-getsetting获取权限状态","title":"10.3 getSetting获取权限状态","index":"10.3"},{"id":"10.4-chooseaddress获取收货地址","title":"10.4 chooseAddress获取收货地址","index":"10.4"},{"id":"10.5-showmodal-显示弹窗","title":"10.5 showModal 显示弹窗","index":"10.5"},{"id":"10.6-支付","title":"10.6 支付","index":"10.6"},{"id":"10.7-chooseimage-选择图片","title":"10.7 chooseImage 选择图片","index":"10.7"}]}],"copyright":{"custom":"不许转载😡！！！"},"reading_time":"6314 words in 32 min"}