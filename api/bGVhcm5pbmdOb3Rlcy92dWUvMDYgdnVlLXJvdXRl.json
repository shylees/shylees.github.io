{"title":"vue -- 06 vue-router","date":"2021-03-22T16:00:00.000Z","date_formatted":{"ll":"2021年3月23日","L":"2021/03/23","MM-DD":"03-23"},"link":"learningNotes/vue/06 vue-route","tags":["vue","vue-router"],"categories":["learningNotes","vue"],"updated":"2021-03-28T16:00:00.000Z","content":"<p>[toc]</p>\n<h1 id=\"(2021/03/23-29-p100-118)\">(2021/03/23-29 p100-118)<a title=\"#(2021/03/23-29-p100-118)\" href=\"#(2021/03/23-29-p100-118)\"></a></h1>\n<h2 id=\"1.认识路由\">1.认识路由<a title=\"#1.认识路由\" href=\"#1.认识路由\"></a></h2>\n<h3 id=\"1.1-路由\">1.1 路由<a title=\"#1.1-路由\" href=\"#1.1-路由\"></a></h3>\n<p>路由：通过互联的网络把信息从源地址传输到目的地的活动</p>\n<p>路由器提供了两种机制：路由和转送</p>\n<p>​     路由是决定数据包从来源到目的地的路径</p>\n<p>​     转送将输入端的数据转移到合适的输出端</p>\n<p>路由表：本质上就是一个映射表，决定了数据包的指向</p>\n<h3 id=\"1.2-前端渲染-后端渲染(p101)\">1.2 前端渲染 后端渲染(p101)<a title=\"#1.2-前端渲染-后端渲染(p101)\" href=\"#1.2-前端渲染-后端渲染(p101)\"></a></h3>\n<p>后端渲染：jsp：Java serve page</p>\n<p>后端路由：后端处理url和页面之间的映射关系</p>\n<p>前后端分离：ajax</p>\n<p>SPA单页面富应用：在前后端分离的基础上加了一层前端路由</p>\n<p>前端路由的核心：改变url，但页面不进行整体刷新</p>\n<h3 id=\"1.3-url的hash和html5的history\">1.3 url的hash和HTML5的history<a title=\"#1.3-url的hash和html5的history\" href=\"#1.3-url的hash和html5的history\"></a></h3>\n<p>如何实现改变url，不刷新页面</p>\n<h4 id=\"1.3.1-url的hash\">1.3.1 URL的hash<a title=\"#1.3.1-url的hash\" href=\"#1.3.1-url的hash\"></a></h4>\n<p>url的hash也就是锚点（#），本质上是改变window.location的herf属性</p>\n<p>可以通过直接赋值location.hash来改变href，但是页面不发生刷新</p>\n<img src=\"https://s1.328888.xyz/2022/04/09/XapI2.png\" alt=\"image-20210323202246058\" style=\"zoom:67%;\" />\n<h4 id=\"1.3.2-html5的history\">1.3.2 HTML5的history<a title=\"#1.3.2-html5的history\" href=\"#1.3.2-html5的history\"></a></h4>\n<ul>\n<li>\n<p><code>history.pushState(&#123;&#125;,'','home')</code></p>\n<blockquote>\n<p><code>history.back()</code>可以回退  左箭头也能回退</p>\n</blockquote>\n</li>\n<li>\n<p><code>history.replaceState(&#123;&#125;,'','home')</code></p>\n<blockquote>\n<p>不能回退</p>\n</blockquote>\n</li>\n<li>\n<p><code>history.go() </code></p>\n<blockquote>\n<p><code>history.go(-1) == history.back()</code></p>\n<p>正数前进 负数后退</p>\n</blockquote>\n</li>\n<li>\n<p><code>history.forward()</code></p>\n<blockquote>\n<p><code>history.forward() == history.go(1) </code></p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"2.vue-router基本使用\">2.vue-router基本使用<a title=\"#2.vue-router基本使用\" href=\"#2.vue-router基本使用\"></a></h2>\n<h3 id=\"2.1-认识vue-router\">2.1 认识vue-router<a title=\"#2.1-认识vue-router\" href=\"#2.1-认识vue-router\"></a></h3>\n<p>目前前端流行的三大框架，都有自己的路由实现：</p>\n<ul>\n<li>Angular的ngRouter</li>\n<li>React的ReactRouter</li>\n<li>Vue的vue-router</li>\n</ul>\n<p>vue-router是Vue.js官方的路由插件，和vue.js是深度集成的，适合用于构建单页面应用</p>\n<p>官网：<a href=\"https://router.vuejs.org/zh/\">https://router.vuejs.org/zh/</a></p>\n<p>vue-router是基于路由和组件的</p>\n<ul>\n<li>路由用于设定访问路径，将路径和组件映射起来</li>\n<li>在vue-router的单页面应用中，页面的路径的改变就是组件的切换</li>\n</ul>\n<h3 id=\"2.2-安装和使用vue-router\">2.2 安装和使用vue-router<a title=\"#2.2-安装和使用vue-router\" href=\"#2.2-安装和使用vue-router\"></a></h3>\n<h4 id=\"2.2.1安装\">2.2.1安装<a title=\"#2.2.1安装\" href=\"#2.2.1安装\"></a></h4>\n<p>步骤一：安装</p>\n<p><code>npm install vue-router --save</code></p>\n<p>步骤二：在模块化工程中使用它（因为是一个插件，所以可以通过Vue.use()来安装路由功能）</p>\n<ol>\n<li><strong>导入</strong>路由对象，并且<strong>调用Vue.use(VueRouter)</strong></li>\n<li>创建<strong>路由实例</strong>，并且传入路由<strong>映射配置</strong></li>\n<li>在<strong>Vue实例</strong>中<strong>挂载</strong>创建的<strong>路由实例</strong></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//router/index.js 搭建路由的框架</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//配置路由相关的信息</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Router</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue-router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1.通过Vue.use(插件),安装插件</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Router</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.创建VueRouter对象</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> routes = [&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//配置路由和组件之间的应用关系</span></span><br><span class=\"line\">    routes</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//3.将其传入vue实例中</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> router</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//main.js</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App&#x27;</span></span><br><span class=\"line\"><span class=\"comment\">//router文件夹 会自动导入index</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> router <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"property\">config</span>.<span class=\"property\">productionTip</span> = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* eslint-disable no-new */</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">    router,</span><br><span class=\"line\">    <span class=\"comment\">//将路由传入vue实例</span></span><br><span class=\"line\">    <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"params\">h</span> =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"2.2.2使用(p104-110)\">2.2.2使用(p104-110)<a title=\"#2.2.2使用(p104-110)\" href=\"#2.2.2使用(p104-110)\"></a></h4>\n<h5 id=\"1.使用步骤\">1.使用步骤<a title=\"#1.使用步骤\" href=\"#1.使用步骤\"></a></h5>\n<p>使用vue-router的步骤：</p>\n<ol>\n<li>\n<p>创建路由组件</p>\n</li>\n<li>\n<p>配置路由映射，组件和路径映射的关系</p>\n</li>\n<li>\n<p>使用路由：通过<code>&lt;router-link&gt;</code>和<code>&lt;router-view&gt;</code></p>\n<blockquote>\n<p><code>&lt;router-link&gt;</code>该标签是一个vue-router中已经内置的组件，会被渲染成一个<code>&lt;a&gt;</code>标签</p>\n</blockquote>\n<blockquote>\n<p><code>&lt;router-view&gt;</code>\t该标签会根据当前路径，动态渲染出不同的组件</p>\n</blockquote>\n<blockquote>\n<p>网页的其他内容，比如顶部的标题/导航，等会和<code>&lt;router-view&gt;</code>处于同一个等级</p>\n</blockquote>\n<blockquote>\n<p>在路由切换时，切换的是<code>&lt;router-view&gt;</code>挂载的组件，其他内容不会发生改变</p>\n</blockquote>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//创建新的组件</span><br><span class=\"line\">//Home.vue</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;我是首页&lt;/h2&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;Home&quot;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">//About.vue</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;我是关于&lt;/h2&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;About&quot;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//配置映射  index.js</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//配置路由相关的信息</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Router</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue-router&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//导入组件</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Home</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../components/Home.vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">About</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../components/About.vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1.通过Vue.use(插件),安装插件</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">use</span>(<span class=\"title class_\">Router</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.创建VueRouter对象</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> routes = [&#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">Home</span></span><br><span class=\"line\">&#125;, &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/about&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">About</span></span><br><span class=\"line\">&#125;]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//配置路由和组件之间的应用关系</span></span><br><span class=\"line\">    routes</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//3.将其传入vue实例中</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> router</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//要把组件写到App.vue才能渲染出来</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">\t\t&lt;!-- router-link 与a标签类似  会将a标签渲染在页面上 --&gt;</span><br><span class=\"line\">\t\t&lt;router-link to=&quot;/home&quot;&gt;首页&lt;/router-link&gt;</span><br><span class=\"line\">\t\t&lt;router-link to=&quot;/about&quot;&gt;关于&lt;/router-link&gt;</span><br><span class=\"line\">\t\t&lt;!-- 决定组件展示在页面的位置 --&gt;</span><br><span class=\"line\">\t\t&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;App&quot;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<img src='https://s1.328888.xyz/2022/04/09/Xa0jM.png'>\n<h5 id=\"2.路由的默认路径：\">2.路由的默认路径：<a title=\"#2.路由的默认路径：\" href=\"#2.路由的默认路径：\"></a></h5>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> routes = [&#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>,   <span class=\"comment\">//  ‘/’ 加不加都可以</span></span><br><span class=\"line\">    <span class=\"attr\">redirect</span>: <span class=\"string\">&#x27;/home&#x27;</span></span><br><span class=\"line\">&#125;, &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">Home</span></span><br><span class=\"line\">&#125;, &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/about&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">About</span></span><br><span class=\"line\">&#125;]</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>在routes中又配置了一个映射，</p>\n<p>path配置的是根路径:/</p>\n<p>redirect是重定向，也就是将根路径重定向到/home的路径下，这样就可以打开就默认是home了</p>\n</blockquote>\n<h5 id=\"3.修改url的展示模式\">3.修改url的展示模式<a title=\"#3.修改url的展示模式\" href=\"#3.修改url的展示模式\"></a></h5>\n<blockquote>\n<p>因为默认是hash展示 会有# 没那么好看</p>\n<p>把mode改成history 就可以没有#</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//配置路由和组件之间的应用关系</span></span><br><span class=\"line\">    routes,</span><br><span class=\"line\">    <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;history&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"4.router-link补充\">4.router-link补充<a title=\"#4.router-link补充\" href=\"#4.router-link补充\"></a></h5>\n<p>属性：</p>\n<ol>\n<li>\n<p><strong>to</strong>：用于指定跳转的路径</p>\n</li>\n<li>\n<p><strong>tag</strong>：指定渲染成什么组件</p>\n<blockquote>\n<p>例<code>&lt;router-link tag='li'&gt;&lt;/router-link&gt;</code>渲染成<code>&lt;li&gt;&lt;/li&gt;</code></p>\n</blockquote>\n</li>\n<li>\n<p><strong>replace</strong>：不会留下history记录</p>\n<blockquote>\n<p>例<code>&lt;router-link replace&gt;&lt;/router-link&gt;</code></p>\n</blockquote>\n</li>\n<li>\n<p><strong>active-class</strong>：当<code>&lt;router-link&gt;</code>对应的路由匹配成功时，会自动给当前元素设置一个<code> router-link-active</code>的<code>class</code>，设置<code>active-class</code>可以修改默认的名称</p>\n<blockquote>\n<p>例<code>&lt;router-link active-class='active'&gt;&lt;/router-link&gt;</code></p>\n</blockquote>\n<blockquote>\n<p>如果很多要改的话 可以在</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">Router</span>(&#123;</span><br><span class=\"line\">    <span class=\"comment\">//配置路由和组件之间的应用关系</span></span><br><span class=\"line\">    routes,</span><br><span class=\"line\">    <span class=\"attr\">mode</span>: <span class=\"string\">&#x27;history&#x27;</span>, <span class=\"comment\">//改变url的展示方式</span></span><br><span class=\"line\">    <span class=\"attr\">linkActiveClass</span>: <span class=\"string\">&#x27;active&#x27;</span>  <span class=\"comment\">//修改默认的点击赋给的类名</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n</ol>\n<h5 id=\"5.不使用router-link，使用代码修改路径\">5.不使用router-link，使用代码修改路径<a title=\"#5.不使用router-link，使用代码修改路径\" href=\"#5.不使用router-link，使用代码修改路径\"></a></h5>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//App.vue</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;我是app组件&lt;/h2&gt;</span><br><span class=\"line\">\t\t&lt;!-- router-link 与a标签类似  相当于将a标签渲染在页面上 --&gt;</span><br><span class=\"line\">\t\t&lt;!-- &lt;router-link to=&quot;/home&quot;&gt;首页&lt;/router-link&gt;</span><br><span class=\"line\">\t\t&lt;router-link to=&quot;/about&quot;&gt;关于&lt;/router-link&gt; --&gt;</span><br><span class=\"line\">        &lt;!-- 1.用标签直接写  加上触发指定方法 --&gt;</span><br><span class=\"line\">\t\t&lt;button @click=&quot;homeClick&quot;&gt;首页&lt;/button&gt;</span><br><span class=\"line\">\t\t&lt;button @click=&quot;aboutClick&quot;&gt;关于&lt;/button&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t&lt;!-- 决定组件展示在页面的位置 --&gt;</span><br><span class=\"line\">\t\t&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;App&quot;,</span><br><span class=\"line\">    //2.定义方法</span><br><span class=\"line\">\tmethods: &#123;</span><br><span class=\"line\">\t\thomeClick() &#123;</span><br><span class=\"line\">\t\t\t//3.通过代码的方式修改路由  vue-router</span><br><span class=\"line\">\t\t\t//push == pushState  可以返回</span><br><span class=\"line\">\t\t\t// this.$router.push(&quot;/home&quot;);</span><br><span class=\"line\">\t\t\tthis.$router.replace(&quot;/home&quot;);</span><br><span class=\"line\">\t\t&#125;, </span><br><span class=\"line\">\t\taboutClick() &#123;</span><br><span class=\"line\">\t\t\tthis.$router.push(&quot;/about&quot;);</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"6.动态路由的使用(p108)\">6.动态路由的使用(p108)<a title=\"#6.动态路由的使用(p108)\" href=\"#6.动态路由的使用(p108)\"></a></h5>\n<ul>\n<li>\n<p>某些情况下，一个页面的path路径可能是不确定的，比如进入用户页面的时候，希望是</p>\n<ul>\n<li>/user/aaaa  或者 /user/bbbb</li>\n<li>除了有前面的/user 外 ，后面还跟上了用户ID</li>\n<li>这种path和Component的匹配关系，称之为动态路由==》也是路由传递数据的一种方式</li>\n</ul>\n</li>\n<li>\n<p>步骤：</p>\n<ol>\n<li>\n<p><strong>添加组件User.vue 添加路由映射</strong></p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//不使用到动态路由的话</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>:<span class=\"string\">&#x27;/user&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>:<span class=\"title class_\">User</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//使用动态路由</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>:<span class=\"string\">&#x27;/user/:id&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>:<span class=\"title class_\">User</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p><strong>在User.vue组件中使用动态路由传递的数据</strong></p>\n<blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">&lt;div&gt;</span><br><span class=\"line\">    //id 与上面 :后面的名称一样</span><br><span class=\"line\">    &lt;h2&gt;&#123;&#123; $router.params.id &#125;&#125;&lt;/h2&gt;</span><br><span class=\"line\">    </span><br><span class=\"line\">    //或者使用组件下面获取的数据</span><br><span class=\"line\">    &lt;h2&gt;&#123;&#123; userId &#125;&#125;&lt;/h2&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;User&quot;,</span><br><span class=\"line\">\tcomputed: &#123;</span><br><span class=\"line\">\t\tuserId() &#123;</span><br><span class=\"line\">\t\t\treturn this.$route.params.userId;</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p><strong>在展示的组件 App.vue添加 此信息</strong></p>\n<blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">        //直接添加  没有动态获取的id</span><br><span class=\"line\">        &lt;router-link to=&quot;/user/zhangsan&quot;&gt;用户&lt;/router-link&gt;</span><br><span class=\"line\">        </span><br><span class=\"line\">        //需要获取下面动态数据 v-bind</span><br><span class=\"line\">\t\t&lt;router-link :to=&quot;&#x27;/user/&#x27; + userId&quot;&gt;用户&lt;/router-link&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;App&quot;,</span><br><span class=\"line\">\tdata() &#123;</span><br><span class=\"line\">\t\treturn &#123;</span><br><span class=\"line\">\t\t\tuserId: &quot;lisi&quot;,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n</ol>\n</li>\n</ul>\n<p><strong>$router : new出来的路由对象</strong></p>\n<p><strong>$route : 处于活跃的路由</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//User.vue</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;我是用户界面&lt;/h2&gt;</span><br><span class=\"line\">\t\t&lt;p&gt;我是用户相关信息&lt;/p&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;User&quot;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"comment\">//1.导入 +</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">User</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;../components/User.vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.创建VueRouter对象 +</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> routes = [&#123;</span><br><span class=\"line\">    <span class=\"comment\">//放在第一个 是好习惯 而非固定要求</span></span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">redirect</span>: <span class=\"string\">&#x27;/home&#x27;</span></span><br><span class=\"line\">&#125;, &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">Home</span></span><br><span class=\"line\">&#125;, &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/about&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">About</span></span><br><span class=\"line\">&#125;, &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/user&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">User</span></span><br><span class=\"line\">&#125;]</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>但是不能起到拼接userid的作用</p>\n</blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"> &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/user/:userId&#x27;</span>,  <span class=\"comment\">//只改这里 不会渲染user</span></span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">User</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//App.vue</span></span><br><span class=\"line\"><span class=\"comment\">//没有动态</span></span><br><span class=\"line\">&lt;router-link to=<span class=\"string\">&quot;/user/zhangsan&quot;</span>&gt;用户&lt;/router-link&gt;  </span><br><span class=\"line\"><span class=\"comment\">//在跳转的时候 添加/zhangsan</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//动态获取 属性动态添加 下面的data</span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">router-link</span> <span class=\"attr\">:to</span>=<span class=\"string\">&quot;&#x27;/user/&#x27; + userId&quot;</span>&gt;</span>用户<span class=\"tag\">&lt;/<span class=\"name\">router-link</span>&gt;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">\t<span class=\"attr\">name</span>: <span class=\"string\">&quot;App&quot;</span>,</span><br><span class=\"line\">\t<span class=\"title function_\">data</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"attr\">userId</span>: <span class=\"string\">&quot;lisi&quot;</span>,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>将用户id获取到 然后在User.vue使用</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//User.vue</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;我是用户界面&lt;/h2&gt;</span><br><span class=\"line\">\t\t&lt;p&gt;我是用户相关信息&lt;/p&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;&#123;&#123; userId &#125;&#125;&lt;/h2&gt;   //!!!!</span><br><span class=\"line\">        &lt;h2&gt;&#123;&#123; $route.params.userId &#125;&#125;&lt;/h2&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;User&quot;,</span><br><span class=\"line\">\tcomputed: &#123;</span><br><span class=\"line\">\t\tuserId() &#123;</span><br><span class=\"line\">\t\t\t//$route 拿到的是活跃的router</span><br><span class=\"line\">\t\t\t//param：参数  userId : path: &#x27;/user/:userId&#x27; 的</span><br><span class=\"line\">\t\t\treturn this.$route.params.userId; //!!!</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">&lt;/style&gt;</span><br></pre></td></tr></table></figure>\n<h5 id=\"7.路由懒加载(p109-110)\">7.路由懒加载(p109-110)<a title=\"#7.路由懒加载(p109-110)\" href=\"#7.路由懒加载(p109-110)\"></a></h5>\n<h6 id=\"7.-1vue-router打包文件的解析\">7. 1vue-router打包文件的解析<a title=\"#7.-1vue-router打包文件的解析\" href=\"#7.-1vue-router打包文件的解析\"></a></h6>\n<blockquote>\n<p>dist &gt; static &gt; index.html + css + js &gt;app… + manifest… + vendor…</p>\n</blockquote>\n<p>在打包的时候 会自动把css文件 跟js文件分开放，不会像之前一样都放在一个js文件里</p>\n<p>而js文件也有分不同的包</p>\n<ul>\n<li>app : 当前应用程序开发的所有代码 （业务代码）</li>\n<li>manifest：为打包的代码做底层（底层导入，导出 或者更复杂的操作）支撑</li>\n<li>vendor：（提供商，第三方：vue/vue-router/axios/bs）第三方的东西</li>\n</ul>\n<h6 id=\"7.2-认识路由懒加载\">7.2 认识路由懒加载<a title=\"#7.2-认识路由懒加载\" href=\"#7.2-认识路由懒加载\"></a></h6>\n<ul>\n<li>官方解释：</li>\n</ul>\n<p>当打包构建应用时，JavaScript包会很大，影响页面加载</p>\n<p>如果能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才加载对应的组件，这样比较高效</p>\n<ul>\n<li>路由懒加载做的东西：\n<ul>\n<li>主要作用：将路由对应的组件打包成一个个的js代码块</li>\n<li>只有在这个路由被访问到的时候，才加载对应的组件</li>\n</ul>\n</li>\n</ul>\n<h6 id=\"7.3-懒加载的方式\">7.3 懒加载的方式<a title=\"#7.3-懒加载的方式\" href=\"#7.3-懒加载的方式\"></a></h6>\n<ol>\n<li>\n<p>结合Vue的异步组件和Webpack的代码分析（能认识就好）</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">Home</span> = resolve =&gt; &#123; <span class=\"built_in\">require</span>.<span class=\"title function_\">ensure</span>([<span class=\"string\">&#x27;../components/Home.vue&#x27;</span>],<span class=\"function\">() =&gt;</span> &#123; <span class=\"title function_\">resolve</span>(<span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../components/Home.vue&#x27;</span>)) &#125;)&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>AMD写法：</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">About</span> = resolve =&gt; <span class=\"built_in\">require</span>([<span class=\"string\">&#x27;../components/About.vue&#x27;</span>],resolve);</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>在Es6中，我们可以有更加简单的写法来组织Vue异步组件和Webpack的代码分割(常用)</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//代替导入操作  推荐使用</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">Home</span> = (<span class=\"params\"></span>) =&gt; <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../components/Home.vue&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//也可以在路由那里直接使用</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>:<span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>:<span class=\"function\">() =&gt;</span> <span class=\"title function_\">import</span>(<span class=\"string\">&#x27;../components/Home&#x27;</span>)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n</ol>\n<p>这个时候在npm run build 打包的时候 就会发现 js文件夹下 多了3个js文件</p>\n<p>一个懒加载 一个js文件</p>\n<h2 id=\"3.vue-router嵌套路由\">3.vue-router嵌套路由<a title=\"#3.vue-router嵌套路由\" href=\"#3.vue-router嵌套路由\"></a></h2>\n<h3 id=\"3.1-认识嵌套路由\">3.1 认识嵌套路由<a title=\"#3.1-认识嵌套路由\" href=\"#3.1-认识嵌套路由\"></a></h3>\n<ul>\n<li>\n<p>比如在home页面中，希望通过/home/news 和 /home/message访问一些内容</p>\n</li>\n<li>\n<p>一个路径映射一个组件，访问这两个路径也会分别渲染两个组件</p>\n</li>\n<li>\n<p>路径和组件的关系：</p>\n<blockquote>\n<img src='https://s1.328888.xyz/2022/04/09/Xa7J7.jpg' style=\"zoom:50%;\" >\n</blockquote>\n</li>\n<li>\n<p>实现嵌套路由的步骤：</p>\n<ol>\n<li>创建对应的子组件，并且在路由映射中配置对应的子路由</li>\n<li>在组件内部使用<code>&lt;router-view&gt;</code>标签</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"3.2-路由的嵌套使用\">3.2 路由的嵌套使用<a title=\"#3.2-路由的嵌套使用\" href=\"#3.2-路由的嵌套使用\"></a></h3>\n<ol>\n<li>\n<p>新建两个HomeNews.vue  HomeMessage.vue 组件</p>\n</li>\n<li>\n<p>在index.js 配置上述两个vue的映射关系</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> routes = [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">Home</span>,</span><br><span class=\"line\">    <span class=\"attr\">children</span>: [&#123;</span><br><span class=\"line\">        <span class=\"attr\">path</span>: <span class=\"string\">&#x27;news&#x27;</span>, <span class=\"comment\">//不用加 ‘/’  会自动给加上：&#x27;/home/news&#x27;</span></span><br><span class=\"line\">        <span class=\"attr\">component</span>: <span class=\"title class_\">HomeNews</span></span><br><span class=\"line\">    &#125;, &#123;</span><br><span class=\"line\">        <span class=\"attr\">path</span>: <span class=\"string\">&#x27;message&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">component</span>: <span class=\"title class_\">HomeMessage</span></span><br><span class=\"line\">    &#125;]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>子路由的显示</p>\n<blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//因为这些vue是显示在home页面的 所以在Home.vue页面中 添加`&lt;router-view&gt;`</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;我是首页&lt;/h2&gt;</span><br><span class=\"line\">\t\t&lt;!-- 要写完成路径 --&gt;</span><br><span class=\"line\">\t\t&lt;router-link to=&quot;/home/news&quot;&gt;新闻&lt;/router-link&gt;</span><br><span class=\"line\">\t\t&lt;router-link to=&quot;/home/message&quot;&gt;消息&lt;/router-link&gt;</span><br><span class=\"line\">\t\t&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;  </span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>默认显示新闻路径 配置映射</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"attr\">children</span>: [&#123;</span><br><span class=\"line\">        <span class=\"attr\">path</span>: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">redirect</span>: <span class=\"string\">&#x27;news&#x27;</span></span><br><span class=\"line\">    &#125;, &#123;</span><br><span class=\"line\">        <span class=\"attr\">path</span>: <span class=\"string\">&#x27;news&#x27;</span>, <span class=\"comment\">//不用加 ‘/’  会自动给加上：&#x27;/home/news&#x27;</span></span><br><span class=\"line\">        <span class=\"attr\">component</span>: <span class=\"title class_\">HomeNews</span></span><br><span class=\"line\">    &#125;, &#123;</span><br><span class=\"line\">        <span class=\"attr\">path</span>: <span class=\"string\">&#x27;message&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">component</span>: <span class=\"title class_\">HomeMessage</span></span><br><span class=\"line\">    &#125;]</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n</ol>\n<h2 id=\"4.vue-router参数传递\">4.vue-router参数传递<a title=\"#4.vue-router参数传递\" href=\"#4.vue-router参数传递\"></a></h2>\n<h3 id=\"4.1-传递参数的方式：params和query\">4.1 传递参数的方式：params和query<a title=\"#4.1-传递参数的方式：params和query\" href=\"#4.1-传递参数的方式：params和query\"></a></h3>\n<ul>\n<li>params类型：只传一个简单的参数\n<ul>\n<li>配置路由格式：<code>/router/:id</code></li>\n<li>传递的方式：在path后面跟上对应的值<code>:to=&quot;'/user/' + userId&quot;</code></li>\n<li>传递后形成的路径：<code>/router/123</code>、<code>/router/abc</code></li>\n</ul>\n</li>\n<li>query类型：\n<ul>\n<li>配置路由格式：<code>/router</code> ，也就是普通配置</li>\n<li>传递的方式：对象中使用query的key作为传递方式</li>\n<li>传递后形成的路径：<code>/router?id=123</code>、<code>/router?id=abc</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"4.2-query类型的使用\">4.2 query类型的使用<a title=\"#4.2-query类型的使用\" href=\"#4.2-query类型的使用\"></a></h3>\n<ol>\n<li>\n<p>创建新的组件 Profile.vue</p>\n</li>\n<li>\n<p>配置路由映射 index.js</p>\n<blockquote>\n<ol>\n<li>导入：<code>const Profile = () =&gt; import ('../components/Profile.vue');</code></li>\n<li>配置映射：<code>&#123; path: '/profile', component: Profile &#125;</code></li>\n</ol>\n</blockquote>\n</li>\n<li>\n<p>添加跳转的<code>&lt;router-link&gt;</code> app.vue</p>\n<blockquote>\n<p><code>&lt;router-link to=&quot;/profile&quot;&gt;我的&lt;/router-link&gt;</code></p>\n</blockquote>\n</li>\n<li>\n<p>将参数传递到url</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"comment\">//若想把&#123;&#125; 当成对象 就得加 v-bind 这样才能被当成语法去解析</span></span><br><span class=\"line\">&lt;router-link :to=<span class=\"string\">&quot;&#123;path:&#x27;/profile&#x27;,query:&#123;name:&#x27;why&#x27;,age:18,height1&#x27;1.88&#125;&#125;&quot;</span>&gt;我的&lt;/router-link&gt;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//此时点击页面的&#x27;我的&#x27; 地址显示为  localhost:8080/profile?name=why&amp;age=18&amp;height=1.88</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>去参数渲染到页面上</p>\n<blockquote>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//Profile.vue</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;我是档案（我的）标题&lt;/h2&gt;</span><br><span class=\"line\">\t\t&lt;h2&gt;&#123;&#123; $route.query.name &#125;&#125;&lt;/h2&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n</ol>\n<h3 id=\"4.3-当不使用router-link而使用普通的标签-传递参数\">4.3 当不使用router-link而使用普通的标签 传递参数<a title=\"#4.3-当不使用router-link而使用普通的标签-传递参数\" href=\"#4.3-当不使用router-link而使用普通的标签-传递参数\"></a></h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">//App.vue  单纯想要 跳转页面时</span><br><span class=\"line\">&lt;template&gt;</span><br><span class=\"line\">\t&lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">\t\t&lt;button @click=&quot;userClick&quot;&gt;用户&lt;/button&gt;</span><br><span class=\"line\">\t\t&lt;button @click=&quot;profileClick&quot;&gt;我的&lt;/button&gt;</span><br><span class=\"line\">\t\t&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class=\"line\">\t&lt;/div&gt;</span><br><span class=\"line\">&lt;/template&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">export default &#123;</span><br><span class=\"line\">\tname: &quot;App&quot;,</span><br><span class=\"line\">\tdata() &#123;</span><br><span class=\"line\">\t\treturn &#123;</span><br><span class=\"line\">\t\t\tuserId: &quot;lisi&quot;,</span><br><span class=\"line\">\t\t&#125;;</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">\tmethods: &#123;</span><br><span class=\"line\">\t\tuserClick() &#123;</span><br><span class=\"line\">            //单纯想要 跳转页面时</span><br><span class=\"line\">\t\t\tthis.$router.push(&quot;/user/&quot; + this.userId);</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t\tprofileClick() &#123;</span><br><span class=\"line\">            //想要传递数据时</span><br><span class=\"line\">\t\t\tthis.$router.push(&#123;</span><br><span class=\"line\">                path:&#x27;/profile&#x27;,</span><br><span class=\"line\">                query:&#123;</span><br><span class=\"line\">                    name:&#x27;kobe&#x27;,</span><br><span class=\"line\">                    age:18,</span><br><span class=\"line\">                    height:1.88</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">\t\t&#125;,</span><br><span class=\"line\">\t&#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4.4-vue-router-：-router-route-的由来(p111)\">4.4 vue-router ： router route 的由来(p111)<a title=\"#4.4-vue-router-：-router-route-的由来(p111)\" href=\"#4.4-vue-router-：-router-route-的由来(p111)\"></a></h3>\n<p><code>$router</code>和<code>$route</code>是有区别的：</p>\n<ul>\n<li><code>$router</code>为VueRouter实例，想要导航到不同URL，则使用<code>$router.push</code>方法</li>\n<li><code>$route</code>为当前router跳转对象里面可以获取name、path、query、params等</li>\n</ul>\n<p>所有的组件 继承 vue原型</p>\n<h2 id=\"5.vue-router导航守卫\">5.vue-router导航守卫<a title=\"#5.vue-router导航守卫\" href=\"#5.vue-router导航守卫\"></a></h2>\n<p>实现点击 切换文档标题</p>\n<h3 id=\"5.1-生命周期函数\">5.1 生命周期函数<a title=\"#5.1-生命周期函数\" href=\"#5.1-生命周期函数\"></a></h3>\n<ul>\n<li>created：当组件被创建时调用</li>\n<li>mounted：当模板渲染好后被调用</li>\n<li>updated：页面更新时被调用</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    //user组件为例</span><br><span class=\"line\">\texport default&#123;</span><br><span class=\"line\">        name:&quot;User&quot;,</span><br><span class=\"line\">        computed:&#123;</span><br><span class=\"line\">            userId()&#123;</span><br><span class=\"line\">                return this.$route.params.id</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        created()&#123;</span><br><span class=\"line\">            console.log(&#x27;created&#x27;);</span><br><span class=\"line\">            //在这个时候可以做一些事情  比如将 title改为首页</span><br><span class=\"line\">            document.title=&#x27;首页&#x27;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.2-全局导航守卫\">5.2 全局导航守卫<a title=\"#5.2-全局导航守卫\" href=\"#5.2-全局导航守卫\"></a></h3>\n<p>因为一个一个+需求代码 太麻烦了</p>\n<p>因为所有的跳转都是路由跳转，所以可以监听路由跳转的过程</p>\n<p>监听：全局导航守卫</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//index.js</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> routes =[</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        <span class=\"attr\">path</span>:<span class=\"string\">&#x27;/home&#x27;</span>,</span><br><span class=\"line\">        <span class=\"attr\">component</span>:<span class=\"title class_\">Home</span>,</span><br><span class=\"line\">        <span class=\"comment\">//可以在每个路由加上这个属性</span></span><br><span class=\"line\">        <span class=\"attr\">meta</span>:&#123;</span><br><span class=\"line\">            <span class=\"attr\">title</span>:<span class=\"string\">&#x27;首页&#x27;</span></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">]</span><br><span class=\"line\"><span class=\"keyword\">const</span> router = <span class=\"keyword\">new</span> <span class=\"title class_\">VueRouter</span>(&#123;&#125;); <span class=\"comment\">//后面</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//前置守卫（guard） 跳转前调用</span></span><br><span class=\"line\">router.<span class=\"title function_\">beforeEach</span>(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">//从from 跳转到 to  to:route类型 活跃的路由</span></span><br><span class=\"line\">    <span class=\"comment\">//to.meta.title 第一个的时候是undefined</span></span><br><span class=\"line\">    <span class=\"variable language_\">document</span>.<span class=\"property\">title</span> = to.<span class=\"property\">matched</span>[<span class=\"number\">0</span>].<span class=\"property\">meta</span>.<span class=\"property\">title</span>;</span><br><span class=\"line\">    <span class=\"title function_\">next</span>(); <span class=\"comment\">//必须调用next  不然不会进行下一步</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//后置钩子hook 跳转之后调用 不需要主动调用next()函数</span></span><br><span class=\"line\">router.<span class=\"title function_\">afterEach</span>(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span></span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;----&#x27;</span>);</span><br><span class=\"line\">&#125;) </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.3-路由独享守卫\">5.3 路由独享守卫<a title=\"#5.3-路由独享守卫\" href=\"#5.3-路由独享守卫\"></a></h3>\n<p>可以到官网学习 : 导航守卫</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"attr\">path</span>: <span class=\"string\">&#x27;/profile&#x27;</span>,</span><br><span class=\"line\">    <span class=\"attr\">component</span>: <span class=\"title class_\">Profile</span>,</span><br><span class=\"line\">    <span class=\"attr\">meta</span>: &#123;</span><br><span class=\"line\">        <span class=\"attr\">title</span>: <span class=\"string\">&#x27;我的&#x27;</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">        <span class=\"comment\">//只有进入我的 才会调用</span></span><br><span class=\"line\">    <span class=\"title function_\">beforeEach</span>(<span class=\"function\">(<span class=\"params\">to, <span class=\"keyword\">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;in mine&#x27;</span>);</span><br><span class=\"line\">    <span class=\"title function_\">next</span>(); <span class=\"comment\">//必须调用next  不然不会进行下一步</span></span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.4-组件内的守卫\">5.4 组件内的守卫<a title=\"#5.4-组件内的守卫\" href=\"#5.4-组件内的守卫\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> foo =&#123;</span><br><span class=\"line\">    <span class=\"attr\">template</span>:<span class=\"string\">``</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"6.vue-router-keep-alive\">6.vue-router-keep-alive<a title=\"#6.vue-router-keep-alive\" href=\"#6.vue-router-keep-alive\"></a></h2>\n<p>页面没有保存 组件之前的跳转</p>\n<p>比如：在默认展示新闻的首页，点击消息后，又跳转到 关于 的页面，再跳转会首页的时候，展示的还是新闻的页面</p>\n<p>因为组件的生命周期：在跳转到关于页面的时候，把首页的组件 销毁了，然后在点击回首页的时候，是重新创建了一个首页组件</p>\n<p>不希望被创建新的时候，使用keep-alive</p>\n<h3 id=\"6.1-keep-alive-遇见-vue-router\">6.1 keep-alive 遇见 vue-router<a title=\"#6.1-keep-alive-遇见-vue-router\" href=\"#6.1-keep-alive-遇见-vue-router\"></a></h3>\n<ul>\n<li>keep-alive是Vue内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染\n<ul>\n<li>include - 字符串或正则表达式，只有匹配的组件会被缓存</li>\n<li>exclude - 字符串或正则表达式，任何匹配的组件都不会被缓存</li>\n</ul>\n</li>\n<li>router-view是vue-router的一个组件，如果直接被包再keep-alive里面，所有路径匹配到的视图组件都会被缓存</li>\n</ul>\n<h3 id=\"6.2-保存组件状态的解决\">6.2 保存组件状态的解决<a title=\"#6.2-保存组件状态的解决\" href=\"#6.2-保存组件状态的解决\"></a></h3>\n<blockquote>\n<p>在App.vue中，将<code>&lt;router-view&gt;</code>放在<code>&lt;keep-alive&gt;</code>便签里，就可以不重新创建组件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;keep-alive&gt;&lt;router-view/&gt;&lt;/keep-alive&gt;  //保持组件状态</span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>但是这样还是不行</p>\n<ul>\n<li>解决方法一： 还是不行<code>第二次回到页面的时候，就不行了</code>\n<ul>\n<li>不在index.js下面设置缺省，<code>&#123;  path: '',  redirect: 'news' &#125;</code></li>\n<li>在Home.vue的created生命周期里，添加<code>this.$router.push('/home/news')</code></li>\n</ul>\n</li>\n<li>解决方法二：还是不行<code>后保存的path值是后面点击到的活跃状态的path</code>\n<ul>\n<li>在Home.vue的data保存一个路径<code>path:'/home/news'</code></li>\n<li><code>activated()&#123;  this.$router.push(this.path)  &#125;</code></li>\n<li><code>deactivated()&#123;    this.path = this.$router.path;  &#125;</code></li>\n</ul>\n</li>\n<li>解决方法三：行了 组件内导航\n<ul>\n<li>在Home.vue：<code>activated()&#123;  this.$router.push(this.path)  &#125;</code></li>\n<li><code>beforeRouteLeave(to,from,next)&#123; this.path = this.$route.path; next() &#125;</code></li>\n</ul>\n</li>\n</ul>\n<p><strong>activated() / deactivated()只有该组件被保持了状态 使用了keep-alive时才有效</strong></p>\n","prev":{"title":"vue -- 09 Vuex","link":"learningNotes/vue/09 Vuex"},"next":{"title":"vue -- 05 Vue CLI","link":"learningNotes/vue/05Vue CLI"},"plink":"https://shylees.github.io/learningNotes/vue/06 vue-route/","toc":[{"id":"(2021/03/23-29-p100-118)","title":"(2021&#x2F;03&#x2F;23-29 p100-118)","index":"1","children":[{"id":"1.认识路由","title":"1.认识路由","index":"1.1","children":[{"id":"1.1-路由","title":"1.1 路由","index":"1.1.1"},{"id":"1.2-前端渲染-后端渲染(p101)","title":"1.2 前端渲染 后端渲染(p101)","index":"1.1.2"},{"id":"1.3-url的hash和html5的history","title":"1.3 url的hash和HTML5的history","index":"1.1.3"}]},{"id":"2.vue-router基本使用","title":"2.vue-router基本使用","index":"1.2","children":[{"id":"2.1-认识vue-router","title":"2.1 认识vue-router","index":"1.2.1"},{"id":"2.2-安装和使用vue-router","title":"2.2 安装和使用vue-router","index":"1.2.2"}]},{"id":"3.vue-router嵌套路由","title":"3.vue-router嵌套路由","index":"1.3","children":[{"id":"3.1-认识嵌套路由","title":"3.1 认识嵌套路由","index":"1.3.1"},{"id":"3.2-路由的嵌套使用","title":"3.2 路由的嵌套使用","index":"1.3.2"}]},{"id":"4.vue-router参数传递","title":"4.vue-router参数传递","index":"1.4","children":[{"id":"4.1-传递参数的方式：params和query","title":"4.1 传递参数的方式：params和query","index":"1.4.1"},{"id":"4.2-query类型的使用","title":"4.2 query类型的使用","index":"1.4.2"},{"id":"4.3-当不使用router-link而使用普通的标签-传递参数","title":"4.3 当不使用router-link而使用普通的标签 传递参数","index":"1.4.3"},{"id":"4.4-vue-router-：-router-route-的由来(p111)","title":"4.4 vue-router ： router route 的由来(p111)","index":"1.4.4"}]},{"id":"5.vue-router导航守卫","title":"5.vue-router导航守卫","index":"1.5","children":[{"id":"5.1-生命周期函数","title":"5.1 生命周期函数","index":"1.5.1"},{"id":"5.2-全局导航守卫","title":"5.2 全局导航守卫","index":"1.5.2"},{"id":"5.3-路由独享守卫","title":"5.3 路由独享守卫","index":"1.5.3"},{"id":"5.4-组件内的守卫","title":"5.4 组件内的守卫","index":"1.5.4"}]},{"id":"6.vue-router-keep-alive","title":"6.vue-router-keep-alive","index":"1.6","children":[{"id":"6.1-keep-alive-遇见-vue-router","title":"6.1 keep-alive 遇见 vue-router","index":"1.6.1"},{"id":"6.2-保存组件状态的解决","title":"6.2 保存组件状态的解决","index":"1.6.2"}]}]}],"copyright":{"custom":"不许转载😡！！！"},"reading_time":"4566 words in 23 min"}