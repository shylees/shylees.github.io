{"title":"03 jQuery事件","date":"2020-09-21T16:00:00.000Z","date_formatted":{"ll":"Sep 22, 2020","L":"09/22/2020","MM-DD":"09-22"},"link":"learningNotes/jquery/03jQuery事件","tags":["JS库","jQuery"],"categories":["learningNotes"],"updated":"2020-09-25T16:00:00.000Z","content":"<h4 id=\"1.jquery事件注册\">1.jQuery事件注册<a title=\"#1.jquery事件注册\" href=\"#1.jquery事件注册\"></a></h4>\n<h5 id=\"单个注册事件\">单个注册事件<a title=\"#单个注册事件\" href=\"#单个注册事件\"></a></h5>\n<p><strong>语法：</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">element.事件(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">click</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123; 事件处理程序 &#125;)</span><br></pre></td></tr></table></figure>\n<p>其他事件跟原生基本一致</p>\n<p>比如：mouseover、mouseout、blur、focus、change、keydown、keyup、resize、scroll等</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.单个事件注册</span></span><br><span class=\"line\">    $(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">click</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&quot;background&quot;</span>,<span class=\"string\">&quot;purple&quot;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    $(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">mouseenter</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&quot;background&quot;</span>,<span class=\"string\">&quot;skyblue&quot;</span>);</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"2.jquery事件处理\">2.jQuery事件处理<a title=\"#2.jquery事件处理\" href=\"#2.jquery事件处理\"></a></h4>\n<h5 id=\"2.1事件处理on()绑定事件\">2.1事件处理on()绑定事件<a title=\"#2.1事件处理on()绑定事件\" href=\"#2.1事件处理on()绑定事件\"></a></h5>\n<p>on() 方法在匹配元素上绑定一个或多个事件处理函数</p>\n<p><strong>语法：</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">element.<span class=\"title function_\">on</span>(events,[selector],fn)</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>events：一个或多个用空格分隔的事件类型，如“click”或“keydown”</p>\n</li>\n<li>\n<p>selector：元素的子元素选择器</p>\n</li>\n<li>\n<p>fn：回调函数 即绑定在元素身上的监听函数</p>\n<img src=\"https://s1.328888.xyz/2022/04/09/XkpPi.png\" style=\"zoom:67%;\" align=\"left\" />\n<img src=\"https://s1.328888.xyz/2022/04/09/XksAv.png\" style=\"zoom:67%;\" align=\"left\" />\n<img src=\"https://s1.328888.xyz/2022/04/09/Xk7Y0.png\" style=\"zoom:67%;\" align=\"left\" />\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//2.事件处理on</span></span><br><span class=\"line\"><span class=\"comment\">//优势1 on可以绑定1个或多个事件处理程序</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">on</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">mouseenter</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&quot;background&quot;</span>,<span class=\"string\">&quot;skyblue&quot;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">click</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&quot;background&quot;</span>,<span class=\"string\">&quot;purple&quot;</span>);</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">mouseleave</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&quot;background&quot;</span>,<span class=\"string\">&quot;blue&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">//优势1 if事件处理程序相同</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;mouseenter mouseleave&quot;</span>,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">toggleClass</span>(<span class=\"string\">&quot;current&quot;</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//优势2 on可以实现事件委托</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;ul&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;click&quot;</span>,<span class=\"string\">&quot;li&quot;</span>,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"number\">11</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"><span class=\"comment\">//click 是绑在ul身上的 但是触发的对象是 ul 里面的小li</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//优势3 on可以给未来动态规划创建元素绑定事件</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;ol li&quot;</span>).<span class=\"title function_\">click</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"number\">11</span>);  <span class=\"comment\">//因为还没有创建 所以没有办法实现</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&quot;ol&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;click&quot;</span>,<span class=\"string\">&quot;li&quot;</span>,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"number\">11</span>); <span class=\"comment\">//可以弹出弹窗</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">var</span> li = $(<span class=\"string\">&quot;&lt;li&gt;这是现在才加入的li&lt;li&gt;&quot;</span>);</span><br><span class=\"line\">$(<span class=\"string\">&quot;ol&quot;</span>).<span class=\"title function_\">sppend</span>(li);</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<h5 id=\"2.2事件处理off()解绑事件\">2.2事件处理off()解绑事件<a title=\"#2.2事件处理off()解绑事件\" href=\"#2.2事件处理off()解绑事件\"></a></h5>\n<p>off()方法可以移除通过on()方法添加的事件处理程序</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"string\">&quot;p&quot;</span>).<span class=\"title function_\">off</span>() <span class=\"comment\">//解绑p元素的所有事件处理程序</span></span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&quot;p&quot;</span>).<span class=\"title function_\">off</span>(<span class=\"string\">&quot;click&quot;</span>) <span class=\"comment\">//解绑p元素上面的点击事件 后面的fn是监听函数名</span></span><br><span class=\"line\"></span><br><span class=\"line\">$(<span class=\"string\">&quot;ul&quot;</span>).<span class=\"title function_\">off</span>(<span class=\"string\">&quot;click&quot;</span>,<span class=\"string\">&quot;li&quot;</span>) <span class=\"comment\">//解绑事件委托</span></span><br></pre></td></tr></table></figure>\n<p><font color=\"red\"> 如果有的事件只想触发一次，可以使用one()来绑定事件</font></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.事件解绑 off</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;ul&quot;</span>).<span class=\"title function_\">off</span>(<span class=\"string\">&quot;click&quot;</span>); <span class=\"comment\">//解绑ul元素上面的点击事件</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;ul&quot;</span>).<span class=\"title function_\">off</span>(<span class=\"string\">&quot;click&quot;</span>,<span class=\"string\">&quot;li&quot;</span>) ;</span><br><span class=\"line\"><span class=\"comment\">//2.one()但是它只能触发事件一次</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;p&quot;</span>).<span class=\"title function_\">one</span>(<span class=\"string\">&quot;click&quot;</span>,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"title function_\">alert</span>(<span class=\"number\">11</span>);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h5 id=\"2.3自动触发事件trigger()\">2.3自动触发事件trigger()<a title=\"#2.3自动触发事件trigger()\" href=\"#2.3自动触发事件trigger()\"></a></h5>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.元素.事件()</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">click</span>(); <span class=\"comment\">//会触发元素的默认行为</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.元素 .trigger(&quot;事件&quot;)</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">trigger</span>(<span class=\"string\">&quot;focus&quot;</span>); <span class=\"comment\">//会触发元素的默认行为</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;input&quot;</span>).<span class=\"title function_\">trigger</span>(<span class=\"string\">&quot;focus&quot;</span>); <span class=\"comment\">//其默认行为 光标闪烁</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//3.元素.triggerHandler(&quot;事件&quot;) 就是不会触发元素默认行为</span></span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">triggerHandler</span>(<span class=\"string\">&quot;click&quot;</span>);</span><br><span class=\"line\">$(<span class=\"string\">&quot;input&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;focus&quot;</span>,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">val</span>(<span class=\"string\">&quot;你好&quot;</span>);</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h4 id=\"3.jquery事件对象\">3.jQuery事件对象<a title=\"#3.jquery事件对象\" href=\"#3.jquery事件对象\"></a></h4>\n<p>事件被触发，就会有事件对象的产生<br>\n<code>element.on(events,[selector],function(event)&#123;&#125;)</code><br>\n阻止默认行为：<code>event.preventDefault() / return false</code><br>\n阻止冒泡: <code>event.stopPropagation()</code></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$(<span class=\"variable language_\">document</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;click&quot;</span>,<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;点击了document&quot;</span>);</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\">$(<span class=\"string\">&quot;div&quot;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&quot;click&quot;</span>,<span class=\"keyword\">function</span>(<span class=\"params\">event</span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&quot;点击了div&quot;</span>);</span><br><span class=\"line\">    event.<span class=\"title function_\">stopPropagation</span>();  <span class=\"comment\">//if没有这个代码，则这个div点击后 会冒泡 上面的document也会打印出来</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n","prev":{"title":"04 jQuery对象","link":"learningNotes/jquery/04jQuery对象"},"next":{"title":"02 jQuery常用API","link":"learningNotes/jquery/02jQuery常用API"},"plink":"https://shylees.github.io/learningNotes/jquery/03jQuery事件/","copyright":{"custom":"不许转载😡！！！"},"reading_time":"778 words in 4 min"}