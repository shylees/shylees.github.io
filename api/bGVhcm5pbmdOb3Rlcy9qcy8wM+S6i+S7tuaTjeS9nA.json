{"title":"js事件操作","date":"2020-05-13T16:00:00.000Z","date_formatted":{"ll":"May 14, 2020","L":"05/14/2020","MM-DD":"05-14"},"link":"learningNotes/js/03事件操作","tags":["js"],"categories":["learningNotes"],"updated":"2020-05-15T16:00:00.000Z","content":"<h3 id=\"1.改变元素内容\">1.改变元素内容<a title=\"#1.改变元素内容\" href=\"#1.改变元素内容\"></a></h3>\n<ul>\n<li>\n<p>element.innerText<br>\n从起始位置到终止位置的内容，但它去除html标签，同时空格和换行也会去掉</p>\n</li>\n<li>\n<p>element.innerHTML<br>\n起始位置到终止位置的全部内容，包括html标签，同时保留空格和换行</p>\n</li>\n<li>\n<p>innerText  和  innerHTML ：<br>\ninnerText  不识别 html 标签   非标准    去除空格和换行<br>\ninnerHTML  识别html代码  W3C标准   保留空格和换行</p>\n<p>这两个属性是可读写的  可以获取元素里的内容</p>\n</li>\n</ul>\n<h3 id=\"2.改变元素属性\">2.改变元素属性<a title=\"#2.改变元素属性\" href=\"#2.改变元素属性\"></a></h3>\n<p><code>element.属性='属性值'</code></p>\n<h3 id=\"3.表单元素的属性操作\">3.表单元素的属性操作<a title=\"#3.表单元素的属性操作\" href=\"#3.表单元素的属性操作\"></a></h3>\n<p>（type、value、checked、selected、disabled禁用）</p>\n<p><code>input.type/value/checked/selected/disabled=''</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// &lt;button&gt;按钮&lt;button&gt;</span></span><br><span class=\"line\"><span class=\"comment\">// &lt;input type=&quot;text&quot;  value=&quot;输入内容&quot;&gt;</span></span><br><span class=\"line\"><span class=\"comment\">//1.获取元素</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> btn=docunment.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;button&#x27;</span>);</span><br><span class=\"line\"><span class=\"keyword\">var</span> input=<span class=\"variable language_\">document</span>.<span class=\"title function_\">quertSelsector</span>(<span class=\"string\">&#x27;input&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//2.注册事件  处理程序</span></span><br><span class=\"line\">btn.<span class=\"property\">onclick</span>=<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//input.innerHTML=&#x27;点击了&#x27;；这个是 普通盒子  比如标签里面的内容  </span></span><br><span class=\"line\">\t<span class=\"comment\">//表单里面的值  文字内容是通过  value  来修改的</span></span><br><span class=\"line\">\tinput.<span class=\"property\">value</span>=<span class=\"string\">&#x27;被点击了&#x27;</span>；</span><br><span class=\"line\">\t<span class=\"comment\">//如果想要某个表单被禁用  disabled</span></span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">disabled</span>=ture;<span class=\"comment\">//==btn.disabled=true;</span></span><br><span class=\"line\">\t<span class=\"comment\">//this 指向的是事件函数的调用者</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4.样式属性操作\">4.样式属性操作<a title=\"#4.样式属性操作\" href=\"#4.样式属性操作\"></a></h3>\n<ol>\n<li><code>element.style</code>   行内样式操作   样式少  功能简单</li>\n<li><code>element.className</code>  类名样式操作  多    样式多  功能复杂</li>\n</ol>\n<h4 id=\"4.1-element.style\">4.1 element.style<a title=\"#4.1-element.style\" href=\"#4.1-element.style\"></a></h4>\n<p>样式用驼峰命名法 比如fontSize    JS修改的style样式操作   产生行内样式 css权重较高</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// div&#123;  width:200px;  height:200px;  background-color:pink; &#125;</span></span><br><span class=\"line\">&lt;div&gt;&lt;/div&gt;</span><br><span class=\"line\"><span class=\"comment\">//1.获取元素</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> div=<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;div&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//2.</span></span><br><span class=\"line\">div.<span class=\"property\">onclick</span>=<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\"><span class=\"comment\">//div.style        </span></span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span>=<span class=\"string\">&#x27;purple&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">style</span>.<span class=\"property\">width</span>=<span class=\"string\">&#x27;250px&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"4.2-element.classname\">4.2 element.className<a title=\"#4.2-element.classname\" href=\"#4.2-element.classname\"></a></h4>\n<p>覆盖所有类名</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.<span class=\"property\">change</span>&#123; .......  &#125;</span><br><span class=\"line\"><span class=\"comment\">// &lt;div class=&quot;first&quot;&gt;文本&lt;div&gt;</span></span><br><span class=\"line\"><span class=\"keyword\">var</span>  test=<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;div&#x27;</span>);</span><br><span class=\"line\">text.<span class=\"property\">onclick</span>=<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">\t<span class=\"comment\">//当前元素的类名  改为change</span></span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">className</span>=<span class=\"string\">&#x27;change&#x27;</span>;</span><br><span class=\"line\">\t<span class=\"comment\">//if想保留原先类名  </span></span><br><span class=\"line\">\t<span class=\"variable language_\">this</span>.<span class=\"property\">className</span>=<span class=\"string\">&#x27;first  change&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"5.操作元素之排他思想\">5.操作元素之排他思想<a title=\"#5.操作元素之排他思想\" href=\"#5.操作元素之排他思想\"></a></h3>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//1.获取元素  </span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">var</span> btns = <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelectorAll</span>(<span class=\"string\">&#x27;button&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"comment\">//btns得到的是伪数组  里面的每一个元素 btns[i]</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; btns.<span class=\"property\">length</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            btns[i].<span class=\"property\">onclick</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">// console.log(&quot;第&quot; +  + &quot;被点击了&quot;);</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; btns.<span class=\"property\">length</span>; i++) &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"comment\">// btns[i].style.background = &#x27;none&#x27;;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    btns[i].<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span> = <span class=\"string\">&#x27;&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">this</span>.<span class=\"property\">style</span>.<span class=\"property\">backgroundColor</span> = <span class=\"string\">&#x27;pink&#x27;</span>;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"6.自定义属性的操作\">6.自定义属性的操作<a title=\"#6.自定义属性的操作\" href=\"#6.自定义属性的操作\"></a></h3>\n<ol>\n<li>\n<p>获取属性值</p>\n<p><code>element.属性</code>： 内置的属性</p>\n<p><code>element.getAttribute('属性') </code> ：主要获取自定义属性</p>\n</li>\n<li>\n<p>设置属性值</p>\n<p><code>element.属性='值'</code>：主要内置属性</p>\n<p><code>element.setAttribute('属性'，'值')</code>:  主要自定义属性</p>\n</li>\n<li>\n<p>移除属性</p>\n<p>element.removeAttribute(‘属性’);</p>\n</li>\n</ol>\n<h3 id=\"7.-h5自定义属性\">7. h5自定义属性<a title=\"#7.-h5自定义属性\" href=\"#7.-h5自定义属性\"></a></h3>\n<ol>\n<li>\n<p>设置h5自定义属性</p>\n<blockquote>\n<p>h5自定义属性data-开头作为属性名并且赋值</p>\n</blockquote>\n<p><code>&lt;div data-index=&quot;1&quot;&gt;&lt;/div&gt;</code> / <code> element.setAttribute('data-index',2);</code></p>\n</li>\n<li>\n<p>获取h5自定义属性<br>\n兼容性获取: element.getAttribute(‘data-index’);<br>\nh5新增: element.dataset.index或者element.dataset[‘index’]</p>\n<blockquote>\n<p>dataset是一个集合里存放了所有以data开头的自定义属性</p>\n<p>//多个用驼峰式命名<br>\n自定义属性为   data-list-name=‘andy’<br>\nelement.getAttribute(‘data-list-name’)<br>\nelement.dataset.listName<br>\nelement.dataset[‘listName’]</p>\n</blockquote>\n</li>\n</ol>\n","prev":{"title":"js节点操作","link":"learningNotes/js/04节点操作"},"next":{"title":"js事件基础","link":"learningNotes/js/02事件基础"},"plink":"https://shylees.github.io/learningNotes/js/03事件操作/","toc":[{"id":"1.改变元素内容","title":"1.改变元素内容","index":"1"},{"id":"2.改变元素属性","title":"2.改变元素属性","index":"2"},{"id":"3.表单元素的属性操作","title":"3.表单元素的属性操作","index":"3"},{"id":"4.样式属性操作","title":"4.样式属性操作","index":"4"},{"id":"5.操作元素之排他思想","title":"5.操作元素之排他思想","index":"5"},{"id":"6.自定义属性的操作","title":"6.自定义属性的操作","index":"6"},{"id":"7.-h5自定义属性","title":"7. h5自定义属性","index":"7"}],"copyright":{"custom":"不许转载😡！！！"},"reading_time":"787 words in 4 min"}