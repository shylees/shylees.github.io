{"title":"Ajax","date":"2021-11-10T16:00:00.000Z","date_formatted":{"ll":"Nov 11, 2021","L":"11/11/2021","MM-DD":"11-11"},"link":"furtherNotes/further/02 ajax","tags":["JS"],"categories":["furtherNotes"],"updated":"2021-11-10T16:00:00.000Z","content":"<h2 id=\"ajax\">Ajax<a title=\"#ajax\" href=\"#ajax\"></a></h2>\n<h3 id=\"1.ç®€ä»‹\">1.ç®€ä»‹<a title=\"#1.ç®€ä»‹\" href=\"#1.ç®€ä»‹\"></a></h3>\n<p>ajax(asynchronous javascript and xml) å¼‚æ­¥ js ä¸ xml</p>\n<p>ä¸€ç§åˆ›å»ºäº¤äº’å¼ç½‘é¡µåº”ç”¨çš„ç½‘é¡µå¼€å‘æŠ€æœ¯</p>\n<p>ä½¿ç”¨å¼‚æ­¥æ–¹å¼ä¸æœåŠ¡å™¨é€šä¿¡ï¼Œä¸éœ€è¦æ‰“æ–­ç”¨æˆ·æ“ä½œ</p>\n<p>åœ¨ä¸åˆ·æ–°æ•´ä¸ªç½‘é¡µæƒ…å†µä¸‹ï¼Œä¸æœåŠ¡å™¨é€šä¿¡äº¤äº’</p>\n<h3 id=\"2.-ç‰¹ç‚¹\">2. ç‰¹ç‚¹<a title=\"#2.-ç‰¹ç‚¹\" href=\"#2.-ç‰¹ç‚¹\"></a></h3>\n<ul>\n<li>\n<p>ä¼˜ç‚¹ï¼šå¯ä»¥ä¸åˆ·æ–°é¡µé¢ä¸æœåŠ¡ç«¯è¿›è¡Œé€šä¿¡</p>\n<p>â€‹           å…è®¸æ ¹æ®ç”¨æˆ·äº‹ä»¶æ¥æ›´æ–°éƒ¨åˆ†é¡µé¢å†…å®¹</p>\n</li>\n<li>\n<p>ç¼ºç‚¹ï¼šæ²¡æœ‰æµè§ˆè®°å½•ï¼Œä¸èƒ½å›é€€</p>\n<p>â€‹            å­˜åœ¨åŒæºè·¨åŸŸé—®é¢˜</p>\n<p>â€‹             seoä¸å‹å¥½</p>\n</li>\n</ul>\n<h3 id=\"3.-åŸç”Ÿajaxä½¿ç”¨\">3. åŸç”Ÿajaxä½¿ç”¨<a title=\"#3.-åŸç”Ÿajaxä½¿ç”¨\" href=\"#3.-åŸç”Ÿajaxä½¿ç”¨\"></a></h3>\n<ol>\n<li>\n<p>åˆ›å»ºå¯¹è±¡</p>\n</li>\n<li>\n<p>åˆå§‹åŒ– è®¾ç½®è¯·æ±‚æ–¹æ³•å’Œurl</p>\n</li>\n<li>\n<p>å‘é€ è®¾ç½®å‚æ•°</p>\n<blockquote>\n<p>getï¼šè¯·æ±‚æ•°æ®æ‹¼åœ¨ url ä¸­</p>\n<p>postï¼šè®¾ç½®è¯·æ±‚å¤´ æ ¼å¼å†…å®¹ + è¯·æ±‚æ•°æ®æ”¾åœ¨ send é‡Œ</p>\n<p>â€‹           xhr.setRequestHeader(â€œContent-typeâ€,â€œapplication/x-www-form-urlencodedâ€);</p>\n</blockquote>\n</li>\n<li>\n<p>äº‹ä»¶ç»‘å®š å¤„ç†æœåŠ¡ç«¯è¿”å›ç»“æœ</p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> xml = <span class=\"keyword\">new</span> <span class=\"title class_\">XMLHttpRequest</span>();</span><br><span class=\"line\">xhr.<span class=\"property\">responseType</span> = <span class=\"string\">&#x27;json&#x27;</span>;   <span class=\"comment\">// openå‰ è®¾ç½®å“åº”ä½“æ•°æ®</span></span><br><span class=\"line\">xhr.<span class=\"property\">timeout</span> = <span class=\"number\">2000</span>;</span><br><span class=\"line\">xhr.<span class=\"property\">ontimeout</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;...&#125;</span><br><span class=\"line\">xhr.<span class=\"property\">onerror</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;...&#125;</span><br><span class=\"line\">xhr.<span class=\"title function_\">open</span>(<span class=\"string\">&#x27;GET&#x27;</span>,<span class=\"string\">&#x27;http://....&#x27;</span>);</span><br><span class=\"line\">xhr.<span class=\"title function_\">send</span>();</span><br><span class=\"line\">xhr.<span class=\"property\">onreadystatechange</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(xhr.<span class=\"property\">readyState</span> == <span class=\"number\">4</span> &amp;&amp; xhr.<span class=\"property\">status</span> == <span class=\"number\">200</span>)&#123;</span><br><span class=\"line\">        xhr.<span class=\"property\">status</span>; <span class=\"comment\">//çŠ¶æ€ç </span></span><br><span class=\"line\">        xhr.<span class=\"property\">statusText</span>; <span class=\"comment\">//çŠ¶æ€ç å­—ç¬¦ä¸²</span></span><br><span class=\"line\">        xhr.<span class=\"title function_\">getAllResponseHeaders</span>();  <span class=\"comment\">//æ‰€æœ‰å“åº”å¤´</span></span><br><span class=\"line\">        xhr.<span class=\"property\">response</span>; <span class=\"comment\">//å“åº”ä½“</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>xhr.abort()</p>\n</blockquote>\n<h3 id=\"4.-readystate\">4. readyState<a title=\"#4.-readystate\" href=\"#4.-readystate\"></a></h3>\n<p>è¡¨ç¤ºè¯·æ±‚å‘é€çš„çŠ¶æ€ 0 1 2 3 4</p>\n<p>0ï¼šæœªåˆå§‹åŒ– â€” åˆå§‹çŠ¶æ€</p>\n<p>1ï¼šå¯åŠ¨ â€” openå</p>\n<p>2ï¼šå‘é€ â€” sendå</p>\n<p>3ï¼šæ¥æ”¶ â€” è¿”å›äº†éƒ¨åˆ†æ•°æ®</p>\n<p>4ï¼šå®Œæˆ â€” è¿”å›äº†æ‰€æœ‰æ•°æ®</p>\n","prev":{"title":"å±•å¼€è®²è®²çº¢å®ä¹¦æåˆ°çš„â€œesä¸­...æŒ‰å€¼ä¼ é€’â€","link":"furtherNotes/further/01 es ä¸­å‡½æ•°çš„å‚æ•°éƒ½æ˜¯æŒ‰å€¼ä¼ é€’çš„"},"next":{"title":"æ¨¡å—åŒ–å†ç¨‹","link":"furtherNotes/further/01 æ¨¡å—åŒ–å†ç¨‹"},"plink":"https://shylees.github.io/furtherNotes/further/02 ajax/","toc":[{"id":"ajax","title":"Ajax","index":"1","children":[{"id":"1.ç®€ä»‹","title":"1.ç®€ä»‹","index":"1.1"},{"id":"2.-ç‰¹ç‚¹","title":"2. ç‰¹ç‚¹","index":"1.2"},{"id":"3.-åŸç”Ÿajaxä½¿ç”¨","title":"3. åŸç”Ÿajaxä½¿ç”¨","index":"1.3"},{"id":"4.-readystate","title":"4. readyState","index":"1.4"}]}],"copyright":{"custom":"ä¸è®¸è½¬è½½ğŸ˜¡ï¼ï¼ï¼"},"reading_time":"351 words in 2 min"}