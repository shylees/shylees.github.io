{"title":"03 vue组件开发","date":"2021-03-11T16:00:00.000Z","date_formatted":{"ll":"2021年3月12日","L":"2021/03/12","MM-DD":"03-12"},"link":"learningNotes/vue/vue/03 组件开发","tags":["vue"],"categories":["learningNotes","vue"],"updated":"2021-03-14T16:00:00.000Z","content":"<h2 id=\"1.-组件化\">1. 组件化<a title=\"#1.-组件化\" href=\"#1.-组件化\"></a></h2>\n<h3 id=\"1.1-什么是组件化\">1.1 什么是组件化<a title=\"#1.1-什么是组件化\" href=\"#1.1-什么是组件化\"></a></h3>\n<ul>\n<li>将一个完整的页面分成很多个组件</li>\n<li>每个组件都用于实现页面的一个功能块</li>\n<li>每一个组件又可以进行细分</li>\n</ul>\n<h3 id=\"1.2-vue组件化思想\">1.2 Vue组件化思想<a title=\"#1.2-vue组件化思想\" href=\"#1.2-vue组件化思想\"></a></h3>\n<ul>\n<li>组件化是Vue.js中的重要思想\n<ul>\n<li>它提供了一种抽象，让我们可以开发出一个个独立可复用的小组件来构造我们的应用</li>\n<li>任何的应用都会被抽象成一颗组件树</li>\n</ul>\n</li>\n<li>组件化思想的应用\n<ul>\n<li>尽可能将页面拆分成一个个小的、可以复用的组件</li>\n<li>使代码更方便组织和管理，扩展性也更强</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"1.3-注册组件的基本步骤\">1.3 注册组件的基本步骤<a title=\"#1.3-注册组件的基本步骤\" href=\"#1.3-注册组件的基本步骤\"></a></h3>\n<ol>\n<li>调用<code>Vue.extend()</code>创建组件构造器</li>\n<li>调用<code>Vue.component()</code>注册组件</li>\n<li>在Vue实例的作用范围内使用组件</li>\n</ol>\n<h2 id=\"2.组件化的基本使用\">2.组件化的基本使用<a title=\"#2.组件化的基本使用\" href=\"#2.组件化的基本使用\"></a></h2>\n<h3 id=\"2.1-步骤解析\">2.1 步骤解析<a title=\"#2.1-步骤解析\" href=\"#2.1-步骤解析\"></a></h3>\n<ol>\n<li>Vue.extend():\n<ul>\n<li>调用Vue.extend()创建的是一个组件构造器</li>\n<li>通常在创建组件构造器时，传入template代表我们自定义组件的模板</li>\n<li>该模板就是在使用到组件的地方，要显示的html代码</li>\n<li>事实上，这种写法在Vue2.x的文档已经看不到了，会直接使用语法糖的形式</li>\n</ul>\n</li>\n<li>Vue.component():\n<ul>\n<li>调用Vue.component()是将刚才的组件构造器注册为一个组件，并且给起一个组件的标签名称</li>\n<li>需要传递两个参数：1. 注册组件的标签名 2. 组件构造器</li>\n</ul>\n</li>\n<li>组件必须挂载在某个Vue实例下，否则不会生效</li>\n</ol>\n<h3 id=\"2.2-代码演示\">2.2 代码演示<a title=\"#2.2-代码演示\" href=\"#2.2-代码演示\"></a></h3>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 3.使用组件 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">my-cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">my-cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"comment\">//1.创建组件构造器对象  如果有多个标签的话 需要有一个根</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> cpnC = <span class=\"title class_\">Vue</span>.<span class=\"title function_\">extend</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>:<span class=\"string\">`</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">\t\t\t\t&lt;div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">    \t\t\t\t&lt;h2&gt;我是标题&lt;/h2&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">\t\t\t\t\t&lt;p&gt;我是内容&lt;/p&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">    \t\t\t&lt;/div&gt;`</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//2.注册组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;my-cpn&#x27;</span>,cpnC);</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//new Vue不能写在前面</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"3.全局组件和局部组件\">3.全局组件和局部组件<a title=\"#3.全局组件和局部组件\" href=\"#3.全局组件和局部组件\"></a></h2>\n<p>全局组件：可以在多个Vue实例下面使用；通过Vue.component()注册的组件</p>\n<p>局部组件：只能在当前Vue实例下使用；注册的组件时挂载在某个实例中</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;cpn&#x27;</span>,cpnC); <span class=\"comment\">//2.注册组件，全局组件</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">components</span>:&#123;      <span class=\"comment\">//局部组件  用的比较多</span></span><br><span class=\"line\">        <span class=\"comment\">//cpn使用组件时的标签名</span></span><br><span class=\"line\">        <span class=\"attr\">cpn</span>:cpnC;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"4.父组件和子组件\">4.父组件和子组件<a title=\"#4.父组件和子组件\" href=\"#4.父组件和子组件\"></a></h2>\n<ul>\n<li>组件之间存在层级关系</li>\n<li>其中一种非常重要的关系就是父子组件的关系</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- &lt;cpn1&gt;&lt;/cpn1&gt; 如果要使用这个组件 要在全局或者在Vue实例注册组件  --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"comment\">//1.创建第一个组件构造器（子组件）</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> cpnC1 = <span class=\"title class_\">Vue</span>.<span class=\"title function_\">extend</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>:<span class=\"string\">`</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">\t\t\t\t\t&lt;div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">    \t\t\t\t\t&lt;h2&gt;标题1&lt;/h2&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">    \t\t\t\t&lt;/div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">\t\t\t\t`</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"comment\">//2.创建第二个组件构造器（父组件）</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> cpnC1 = <span class=\"title class_\">Vue</span>.<span class=\"title function_\">extend</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>:<span class=\"string\">`</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">\t\t\t\t\t&lt;div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">    \t\t\t\t\t&lt;h2&gt;标题2&lt;/h2&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">\t\t\t\t\t\t&lt;cpn1&gt;&lt;/cpn1&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">    \t\t\t\t&lt;/div&gt;</span></span></span><br><span class=\"line\"><span class=\"string\"><span class=\"language-javascript\">\t\t\t\t`</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn1</span>:cpnC1;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//root 组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">compontents</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn2</span>:cpnC2</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"5.-组件语法糖\">5. 组件语法糖<a title=\"#5.-组件语法糖\" href=\"#5.-组件语法糖\"></a></h2>\n<ul>\n<li>主要是省去了调用Vue.extend()的步骤，可以直接使用一个对象来代替</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.全局组件注册的语法糖</span></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;cpn1&#x27;</span>,&#123;</span><br><span class=\"line\">    <span class=\"attr\">template</span>:<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">\t\t\t\t&lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    \t\t\t\t&lt;h2&gt;标题1&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    \t\t\t&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">\t\t\t`</span></span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.局部组件注册</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">    <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span><br><span class=\"line\">    <span class=\"attr\">data</span>:&#123;&#125;,</span><br><span class=\"line\">    <span class=\"attr\">temponents</span>:&#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;cpn2&#x27;</span>:&#123;</span><br><span class=\"line\">            <span class=\"attr\">template</span>:<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">\t\t\t\t\t&lt;div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    \t\t\t\t\t&lt;h2&gt;标题2&lt;/h2&gt;</span></span><br><span class=\"line\"><span class=\"string\">    \t\t\t\t&lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">\t\t\t\t`</span>,</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<h2 id=\"6.组件模板抽离的写法\">6.组件模板抽离的写法<a title=\"#6.组件模板抽离的写法\" href=\"#6.组件模板抽离的写法\"></a></h2>\n<ul>\n<li>Vue提供了两种方案来定义HTML模块内容：\n<ol>\n<li>使用<script>标签 :type=“text/x-template”</li>\n<li>使用<template>标签</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 1.使用&lt;script&gt;标签 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/x-template&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span><span class=\"language-handlebars\"><span class=\"language-xml\"></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\">   \t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>标题1<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"language-handlebars\"></span></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 2.使用&lt;template&gt;标签 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span> = <span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">   \t\t<span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>标题2<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\"><span class=\"comment\">//1.注册一个全局组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">comonent</span>(<span class=\"string\">&#x27;cpn&#x27;</span>,&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>:<span class=\"string\">&#x27;#cpn&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">  \t<span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"7.组件数据存放的问题\">7.组件数据存放的问题<a title=\"#7.组件数据存放的问题\" href=\"#7.组件数据存放的问题\"></a></h2>\n<h3 id=\"7.1-用法\">7.1 用法<a title=\"#7.1-用法\" href=\"#7.1-用法\"></a></h3>\n<ul>\n<li>组件是一个单独功能模块的封装：\n<ul>\n<li>这个模块又属于自己的HTML模板，也应该有属于自己的数据data</li>\n</ul>\n</li>\n<li>组件的数据不能保存再顶层Vue实例中\n<ul>\n<li>组件对象也有一个data属性（也可以有methods等属性）</li>\n<li>只是这个data属性必须是一个函数</li>\n<li>而且这个函数返回一个对象，对象内部保存着数据</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;#app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">my-cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">my-cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">        &#123;&#123;title&#125;&#125;</span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//1.注册全局组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"title class_\">Vue</span>.<span class=\"title function_\">component</span>(<span class=\"string\">&#x27;cpn&#x27;</span>,&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">title</span>:<span class=\"string\">&#x27;abc&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"7.2-！组件中的data为什么是函数（p58）\">7.2 ！组件中的data为什么是函数（p58）<a title=\"#7.2-！组件中的data为什么是函数（p58）\" href=\"#7.2-！组件中的data为什么是函数（p58）\"></a></h3>\n<p>为了传值不传址，使用函数时组件与组件之间的数据不会相互影响</p>\n<h2 id=\"8.父子组件的通信\">8.父子组件的通信<a title=\"#8.父子组件的通信\" href=\"#8.父子组件的通信\"></a></h2>\n<ul>\n<li>在开发中，往往一些数据需要从上层传递到下层\n<ul>\n<li>比如在一个页面中，我们从服务器请求到了很多的数据</li>\n<li>其中一部分数据，并非是我们整个页面的大组件来展示的，而是需要下面的子组件进行展示</li>\n<li>这个时候，并不会让子组件再次发送一个网络请求，而是让大组件将数据传递给小组件</li>\n</ul>\n</li>\n<li>如何进行父子/大小组件间的通信呢?Vue官方提到\n<ul>\n<li>通过props向子组件传递数据</li>\n<li>通过自定义事件$emit向父组件发送消息</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"8.1-props基本用法——父–&gt;子\">8.1 props基本用法——父–&gt;子<a title=\"#8.1-props基本用法——父–&gt;子\" href=\"#8.1-props基本用法——父–&gt;子\"></a></h3>\n<ul>\n<li>在组件中，使用选项props来声明需要从父级接收到的数据</li>\n<li>props的值有两种方式：\n<ol>\n<li>字符串数组，数组的字符串就是传递时的名称</li>\n<li>对象，对象可以设置传递时的类型，也可以设置默认值等</li>\n</ol>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;app&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span> <span class=\"attr\">v-bind:cmovies</span>=<span class=\"string\">&quot;movies&quot;</span> <span class=\"attr\">:cmessage</span>=<span class=\"string\">&quot;message&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 这就已经把值从父组件传到子组件了 必须要使用v-bind --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in cmovies&quot;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>&#123;&#123;cmessage&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//父传子:props</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> cpn = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;comvies&#x27;</span>,<span class=\"string\">&#x27;cmessage&#x27;</span>],</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span>&#123;&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            </span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">movies</span>:[<span class=\"string\">&#x27;海王&#x27;</span>,<span class=\"string\">&#x27;海贼王&#x27;</span>,<span class=\"string\">&#x27;海尔兄弟&#x27;</span>]</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            cpn</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"8.1.1-props数据验证\">8.1.1 props数据验证<a title=\"#8.1.1-props数据验证\" href=\"#8.1.1-props数据验证\"></a></h4>\n<ul>\n<li>上述props选项使用一个数组</li>\n<li>除数组外，可以使用对象，当需要对props进行类型等验证时，就需要对象写法了</li>\n<li>验证支持的数据类型：\n<ul>\n<li>String、Number、Boolean、Array、Object、Date、Function、Symbol</li>\n</ul>\n</li>\n<li>若有自定义构造函数时，验证也支持自定义的类型</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> cpn = &#123;</span><br><span class=\"line\">    <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span><br><span class=\"line\">    <span class=\"comment\">//数组形式</span></span><br><span class=\"line\">    <span class=\"attr\">props</span>:[<span class=\"string\">&#x27;comvies&#x27;</span>,<span class=\"string\">&#x27;cmessage&#x27;</span>],</span><br><span class=\"line\">    <span class=\"comment\">//字符串形式</span></span><br><span class=\"line\">    <span class=\"attr\">props</span>:&#123;</span><br><span class=\"line\">        <span class=\"comment\">//1.类型限制</span></span><br><span class=\"line\">        <span class=\"attr\">cmovies</span>:<span class=\"title class_\">Array</span>,</span><br><span class=\"line\">        <span class=\"attr\">cmessage</span>:<span class=\"title class_\">String</span>,</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//2.提供一些默认值 默认值在没有传递的时候会显示 v-bind没有传时</span></span><br><span class=\"line\">        <span class=\"comment\">//required 为true时 说明这个属性是必传的 否则会报错</span></span><br><span class=\"line\">        <span class=\"attr\">cmessage</span>:&#123;</span><br><span class=\"line\">        \t<span class=\"attr\">type</span>:<span class=\"title class_\">String</span>,</span><br><span class=\"line\">            <span class=\"attr\">default</span>:<span class=\"string\">&#x27;aaaa&#x27;</span></span><br><span class=\"line\">            <span class=\"attr\">required</span>:<span class=\"literal\">true</span></span><br><span class=\"line\">    \t&#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"comment\">//类型是对象/数组时，默认值必须是一个函数</span></span><br><span class=\"line\">        <span class=\"attr\">cmovies</span>:&#123;</span><br><span class=\"line\">        \t<span class=\"attr\">type</span>:<span class=\"title class_\">Array</span>,</span><br><span class=\"line\">        \t<span class=\"comment\">//default:[]  这样会报错</span></span><br><span class=\"line\">        \t<span class=\"title function_\">default</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        \t\t<span class=\"keyword\">return</span> []</span><br><span class=\"line\">    \t\t&#125;</span><br><span class=\"line\">    \t&#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span>&#123;&#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"attr\">methods</span>:&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h4 id=\"8.1.2-props驼峰标识\">8.1.2 props驼峰标识<a title=\"#8.1.2-props驼峰标识\" href=\"#8.1.2-props驼峰标识\"></a></h4>\n<p>在组件的应用不适合用驼峰  应该要用-</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 在组件的应用不适合用驼峰  应该要用- --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span> <span class=\"attr\">:c-info</span>=<span class=\"string\">&quot;info&quot;</span> <span class=\"attr\">:chile-my-message</span>=<span class=\"string\">&quot;message&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;cpn&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>&#123;&#123;cInfo&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>&#123;&#123;chileMyMessage&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"keyword\">const</span> cpn = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        template :<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">props</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cInfo</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">type</span>:<span class=\"title class_\">Object</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">default</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">return</span> &#123;&#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">childMyMessage</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">type</span>:<span class=\"title class_\">String</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">default</span>:<span class=\"string\">&#x27;&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">info</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">name</span>:<span class=\"string\">&quot;why&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">age</span>:<span class=\"number\">18</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">height</span>:<span class=\"number\">1.88</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            cpn</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"8.2-子传父\">8.2 子传父<a title=\"#8.2-子传父\" href=\"#8.2-子传父\"></a></h3>\n<ul>\n<li>如果需要子组件传递数据或事件到父组件中：应该使用自定义事件来完成</li>\n<li>什么时候需要定义事件？\n<ul>\n<li>当子组件需要向父组件传递数据时，就要用到自定义事件</li>\n<li>v-on可以用来监听自定义事件</li>\n</ul>\n</li>\n<li>自定义事件的流程\n<ul>\n<li>在子组件中，通过$emit()来触发事件</li>\n<li>在父组件中，通过v-on来监听子组件事件</li>\n</ul>\n</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- 父组件模板 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 不能使用驼峰 --&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">cpn</span> @<span class=\"attr\">itemclick</span>=<span class=\"string\">&quot;cpnClick&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- 子组件模板 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;item in categories&quot;</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btnClick(item)&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">butto</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//1.子组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> cpn = &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">categories</span>:[</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;aaa&#x27;</span>,<span class=\"attr\">name</span>:<span class=\"string\">&#x27;热门推荐&#x27;</span>&#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;bbb&#x27;</span>,<span class=\"attr\">name</span>:<span class=\"string\">&#x27;手机数码&#x27;</span>&#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            \t\t&#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;ccc&#x27;</span>,<span class=\"attr\">name</span>:<span class=\"string\">&#x27;家用电器&#x27;</span>&#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            \t\t&#123;<span class=\"attr\">id</span>:<span class=\"string\">&#x27;ddd&#x27;</span>,<span class=\"attr\">name</span>:<span class=\"string\">&#x27;电脑办公&#x27;</span>&#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                ]</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">btnClick</span>(<span class=\"params\">item</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//传给父组件 自定义事件  子组件 发射 </span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">this</span>.$emit(<span class=\"string\">&#x27;itemclick&#x27;</span>,item);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    </span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"comment\">//2.父组件</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            cpn</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">itemClick</span>(<span class=\"params\">item</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">             \t <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;itemclick&#x27;</span>,item);   </span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"8.3-父子组件的访问方式-：\">8.3 父子组件的访问方式 ：<a title=\"#8.3-父子组件的访问方式-：\" href=\"#8.3-父子组件的访问方式-：\"></a></h3>\n<ul>\n<li>有时候需要父组件直接访问子组件，子组件直接访问父组件，或者是子组件访问根组件\n<ul>\n<li>父组件访问子组件：是使用<code>$children</code> <code>$refs</code></li>\n<li>子组件访问父组件：使用<code>$parent</code></li>\n</ul>\n</li>\n</ul>\n<h4 id=\"8.3.1-父访问子-$children/$refs\">8.3.1 父访问子 $children/$refs<a title=\"#8.3.1-父访问子-$children/$refs\" href=\"#8.3.1-父访问子-$children/$refs\"></a></h4>\n<ul>\n<li><code>this.$children</code>是一个数组类型，包含了所有的子组件对象</li>\n<li>通过遍历，取出所有子组件的message状态</li>\n</ul>\n<h5 id=\"1.-$children\">1. $children<a title=\"#1.-$children\" href=\"#1.-$children\"></a></h5>\n<p>因为返回的是数组的形式，所以如果要添加便签的话就很麻烦 所以一般开发不使用这样的方法</p>\n<p>一般只有拿到所有子组件的信息的时候，才会使用$children</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btnClick&quot;</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        我是子组件</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">btnClick</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$children</span>); <span class=\"comment\">//可以利用这个得到 子组件的各种属性 以数组的形式</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">this</span>.<span class=\"property\">$children</span>[<span class=\"number\">0</span>].<span class=\"title function_\">showMessage</span>(); <span class=\"comment\">//然后调用</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//if 有多个组件要渲染</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"keyword\">for</span>(<span class=\"keyword\">let</span> c <span class=\"keyword\">of</span> <span class=\"variable language_\">this</span>.<span class=\"property\">$children</span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(c.<span class=\"property\">name</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        \t\t<span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        \t\t\treutrn&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"attr\">name</span>:<span class=\"string\">&#x27;我是子组件的name&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    \t\t\t&#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">medthods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">showMessage</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;showMessage&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"2.$refs\">2.$refs<a title=\"#2.$refs\" href=\"#2.$refs\"></a></h5>\n<p>对象类型 默认空对象  必须在组件加  ref=‘aaa’</p>\n<p>一般都是使用这个属性</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span> <span class=\"attr\">ref</span>=<span class=\"string\">&#x27;aaa&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;btnClick&quot;</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        我是子组件</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"title function_\">btnClick</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>);  </span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//如果没有在组件标签绑定 那返回空对象 若有绑定 就会返回有名字的对象 </span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"comment\">//名字会作为这个对象的key</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">aaa</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$refs</span>.<span class=\"property\">aaa</span>.<span class=\"property\">name</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        \t\t<span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        \t\t\treutrn&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"attr\">name</span>:<span class=\"string\">&#x27;我是子组件的name&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    \t\t\t&#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">medthods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"title function_\">showMessage</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;showMessage&#x27;</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"8.3.2-子访问父$parent和--$root\">8.3.2 子访问父$parent和  $root<a title=\"#8.3.2-子访问父$parent和--$root\" href=\"#8.3.2-子访问父$parent和--$root\"></a></h4>\n<p>用得很少，复用性不强</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;app&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;cpn&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">ccpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ccpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;ccpn&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>我是子组件<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span> </span><br><span class=\"line\">       <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&#x27;btnClick&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&quot;hello&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"attr\">name</span>:<span class=\"string\">&#x27;我是cpn组件的name&#x27;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">ccpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">template</span>:<span class=\"string\">&quot;#ccpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"attr\">methods</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"title function_\">btnClick</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                            <span class=\"comment\">//1.访问父组件$parent</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$parent</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$parent</span>.<span class=\"property\">name</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                            </span></span><br><span class=\"line\"><span class=\"language-javascript\">                            <span class=\"comment\">//2.访问根组件$root</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">                            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$root</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>.<span class=\"property\">$root</span>.<span class=\"property\">message</span>);</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        </span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"9.组件化高级（p69-72）\">9.组件化高级（p69-72）<a title=\"#9.组件化高级（p69-72）\" href=\"#9.组件化高级（p69-72）\"></a></h2>\n<h3 id=\"9.1插槽-slot\">9.1插槽 slot<a title=\"#9.1插槽-slot\" href=\"#9.1插槽-slot\"></a></h3>\n<h4 id=\"9.1-组件化插槽\">9.1 组件化插槽<a title=\"#9.1-组件化插槽\" href=\"#9.1-组件化插槽\"></a></h4>\n<ol>\n<li>slot为插槽的意思，目的是让我们原来的设备具有更多的扩展性</li>\n</ol>\n<ul>\n<li>组件化插槽是为了让我们封装的组件更加具有扩展性</li>\n<li>让使用者可以决定组件内部的一些内容到底展示什么</li>\n</ul>\n<ol start=\"2\">\n<li>如何去封装以京东导航栏为例子的这类组件：抽取共性，保留不同</li>\n</ol>\n<ul>\n<li>将共性抽取到组件中，将不同暴露为插槽</li>\n<li>一旦预留了插槽，就可以让使用者根据自己的需求，决定插槽中插入什么内容</li>\n</ul>\n<h4 id=\"9.2-插槽的基本使用\">9.2 插槽的基本使用<a title=\"#9.2-插槽的基本使用\" href=\"#9.2-插槽的基本使用\"></a></h4>\n<ol>\n<li>基本使用</li>\n<li>默认值</li>\n<li>多个值时，会全部替换进去</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;#app&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">button</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span>   <span class=\"comment\">&lt;!-- 会把这个button放入插槽里 如果里面有多个 那也会全部显示出来 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>我是组件<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">solt</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>如果没有传进想要的标签 就会默认显示插槽里的内容<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">solt</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"9.2-具名插槽slot\">9.2 具名插槽slot<a title=\"#9.2-具名插槽slot\" href=\"#9.2-具名插槽slot\"></a></h3>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;#app&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">solt</span>=<span class=\"string\">&quot;center&quot;</span>&gt;</span>标题<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 如果没有加solt的属性 只会替换那些没有名字的插槽 --&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span>  </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;cpn&quot;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">solt</span> <span class=\"attr\">name</span>=<span class=\"string\">&#x27;left&#x27;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>左边<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">solt</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">solt</span> <span class=\"attr\">name</span>=<span class=\"string\">&#x27;center&#x27;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>中间<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">solt</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">solt</span> <span class=\"attr\">name</span>=<span class=\"string\">&#x27;right&#x27;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>右边<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">solt</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">    <span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">components</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"9.3-编译作用域\">9.3 编译作用域<a title=\"#9.3-编译作用域\" href=\"#9.3-编译作用域\"></a></h3>\n<ul>\n<li>父组件模板的所有东西都会在父级作用域内编译；子组件模板的所有东西都会在子级作用域内编译</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;app&#x27;</span>&gt;</span> </span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span> <span class=\"attr\">v-show</span>=<span class=\"string\">&#x27;isShow&#x27;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span> <span class=\"comment\">&lt;!-- 使用实例的isShow --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;cpn&#x27;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h2</span>&gt;</span>我是组件<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> <span class=\"attr\">v-show</span>=<span class=\"string\">&quot;isShow&quot;</span>&gt;</span>按钮<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span> <span class=\"comment\">&lt;!-- 使用组件的isShow --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">isShow</span>:<span class=\"literal\">true</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">component</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">template</span>:<span class=\"string\">&#x27;#cpn&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"attr\">isShow</span>:<span class=\"literal\">false</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"9.4-作用域插槽\">9.4 作用域插槽<a title=\"#9.4-作用域插槽\" href=\"#9.4-作用域插槽\"></a></h3>\n<ul>\n<li>父组件替换插槽的标签，但是内容由子组件来提供</li>\n</ul>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">    <span class=\"comment\">&lt;!-- 目的是 获取组件中的pLanguage --&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 在2.5.x以下的版本 只能使用template 但是后面的版本可以直接 使用div--&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- 通过solt引用 下面插槽对象  下面用的solt.data 用的就是下面的data\t==planage--&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&#x27;solt&#x27;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&#x27;item in  solt.data&#x27;</span>&gt;</span>&#123;&#123;item&#125;&#125; - <span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"> \t\t <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">slot-scope</span>=<span class=\"string\">&#x27;solt&#x27;</span>&gt;</span></span><br><span class=\"line\">             <span class=\"comment\">&lt;!-- 以‘ - ’分割 --&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">span</span>&gt;</span>&#123;&#123;solt.data.join(&#x27; - &#x27;)&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">cpn</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">id</span>=<span class=\"string\">&#x27;cpn&#x27;</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"comment\">&lt;!-- data是随便取的名字 意味着data指向pLanguage --&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">solt</span> <span class=\"attr\">:data</span>=<span class=\"string\">&#x27;pLanguages&#x27;</span>&gt;</span></span><br><span class=\"line\">        \t<span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">li</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&#x27;item in pLanguages&#x27;</span>&gt;</span>&#123;&#123;item&#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">solt</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">\t<span class=\"keyword\">const</span> app = <span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">el</span>:<span class=\"string\">&quot;#app&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">data</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">message</span>:<span class=\"string\">&#x27;hello&#x27;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;,</span></span><br><span class=\"line\"><span class=\"language-javascript\">        <span class=\"attr\">component</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">cpn</span>:&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"attr\">template</span>:<span class=\"string\">&quot;#cpn&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">                <span class=\"title function_\">data</span>(<span class=\"params\"></span>)&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                        <span class=\"attr\">pLanguages</span>:[<span class=\"string\">&#x27;js&#x27;</span>,<span class=\"string\">&#x27;java&#x27;</span>,<span class=\"string\">&#x27;python&#x27;</span>,<span class=\"string\">&#x27;c&#x27;</span>]</span></span><br><span class=\"line\"><span class=\"language-javascript\">                    &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">                &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">        &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">    &#125;)</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n","prev":{"title":"04 vue模块化开发","link":"learningNotes/vue/vue/04模块化开发"},"next":{"title":"01 Vue入门","link":"learningNotes/vue/vue/01邂逅Vuejs"},"plink":"https://shylees.github.io/learningNotes/vue/vue/03 组件开发/","toc":[{"id":"1.-组件化","title":"1. 组件化","index":"1","children":[{"id":"1.1-什么是组件化","title":"1.1 什么是组件化","index":"1.1"},{"id":"1.2-vue组件化思想","title":"1.2 Vue组件化思想","index":"1.2"},{"id":"1.3-注册组件的基本步骤","title":"1.3 注册组件的基本步骤","index":"1.3"}]},{"id":"2.组件化的基本使用","title":"2.组件化的基本使用","index":"2","children":[{"id":"2.1-步骤解析","title":"2.1 步骤解析","index":"2.1"},{"id":"2.2-代码演示","title":"2.2 代码演示","index":"2.2"}]},{"id":"3.全局组件和局部组件","title":"3.全局组件和局部组件","index":"3"},{"id":"4.父组件和子组件","title":"4.父组件和子组件","index":"4"},{"id":"5.-组件语法糖","title":"5. 组件语法糖","index":"5"},{"id":"6.组件模板抽离的写法","title":"6.组件模板抽离的写法","index":"6"}],"copyright":{"custom":"不许转载😡！！！"},"reading_time":"955 words in 5 min"}