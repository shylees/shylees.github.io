{"title":"05 Vue CLI","date":"2021-03-20T16:00:00.000Z","date_formatted":{"ll":"2021年3月21日","L":"2021/03/21","MM-DD":"03-21"},"link":"learningNotes/vue/vue/05Vue CLI","tags":["vue","箭头函数"],"categories":["learningNotes","vue"],"updated":"2021-03-22T16:00:00.000Z","content":"<p>[TOC]</p>\n<h2 id=\"1.vue-cli介绍和安装\">1.Vue CLI介绍和安装<a title=\"#1.vue-cli介绍和安装\" href=\"#1.vue-cli介绍和安装\"></a></h2>\n<h3 id=\"1.1-cli-是什么意思？\">1.1 CLI 是什么意思？<a title=\"#1.1-cli-是什么意思？\" href=\"#1.1-cli-是什么意思？\"></a></h3>\n<ul>\n<li>CLI是Command-Line Interface ，即命令行界面，俗称脚手架</li>\n<li>Vue CLI是一个官方发布vue.js项目脚手架</li>\n<li>使用vue-cli可以快速搭建Vue开发环境以及对应的webpack配置</li>\n</ul>\n<h3 id=\"1.2-vue-cli使用前提---node\">1.2 Vue CLI使用前提 - Node<a title=\"#1.2-vue-cli使用前提---node\" href=\"#1.2-vue-cli使用前提---node\"></a></h3>\n<p>node环境要求8.9以上版本</p>\n<h3 id=\"1.3-vue-cli使用前提---webpack\">1.3 Vue CLI使用前提 - Webpack<a title=\"#1.3-vue-cli使用前提---webpack\" href=\"#1.3-vue-cli使用前提---webpack\"></a></h3>\n<p>Vue.js官方脚手架工具使用了webpack模板</p>\n<h3 id=\"1.4-vue-cli的使用\">1.4 Vue CLI的使用<a title=\"#1.4-vue-cli的使用\" href=\"#1.4-vue-cli的使用\"></a></h3>\n<ol>\n<li>\n<p>安装Vue脚手架 在cmd终端安装</p>\n<blockquote>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli    <span class=\"comment\">//版本3.2.1</span></span><br><span class=\"line\"></span><br><span class=\"line\">vue --version <span class=\"comment\">//查看版本  //装了4.5.12</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<p>因为安装的是Vue CLI3的版本 如果想按照Vue CLI2的方式初始化项目是不可以的</p>\n</li>\n<li>\n<p>拉取2.x版本</p>\n<blockquote>\n<p>Vue CLI3和 旧版使用了相同的<code>vue</code>命令 ，所以Vue CLI2(<code>vue-cli</code>)被覆盖了，如果你仍需使用旧版本的 <code>vue init</code>功能，可以全局安装一个桥接工具：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli-init  <span class=\"comment\">//拉取脚手架2 使用脚手架2</span></span><br><span class=\"line\">vue init webpack my-project   <span class=\"comment\">//使用2 创建项目</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n</li>\n<li>\n<p>Vue CLI2 初始化项目</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue init webpack my-project</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>Vue CLI3初始化项目</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">vue create my-project</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h3 id=\"1.5-vuecli-cli2初始化项目过程\">1.5 vuecli-CLI2初始化项目过程<a title=\"#1.5-vuecli-cli2初始化项目过程\" href=\"#1.5-vuecli-cli2初始化项目过程\"></a></h3>\n<ol>\n<li>\n<p>In   : <code>vue init webpack vuecli2test</code> //项目名字不能大写</p>\n</li>\n<li>\n<p>下载配置</p>\n</li>\n<li>\n<p>Out: <code>? Project name (vuecli2test) </code>    //一般文件名 跟项目名一样</p>\n</li>\n<li>\n<p>Out:<code>? Project description (A Vue.js project)</code> //项目描述</p>\n<p>In    :<code>test vue cli2</code></p>\n</li>\n<li>\n<p>Out:<code>? Author (piaoliangjiejie2019 &lt;piaoliangjiejie2019@outlook.com&gt;)</code> //全局git</p>\n</li>\n<li>\n<p>Out:<code>Runtime + Compiler: recommended for most users Runtime-only: about 6KB lighter min+gzip, but templates (or any Vue-specific HTML) are ONLY allowed in .vue files - render functions are required elsewhere</code> //询问要用哪个构建项目</p>\n<p>In   :  //选择下面个  打包出的小 运行效率高</p>\n</li>\n<li>\n<p>Out:<code>? Install vue-router? (Y/n) </code>  //是否安装路由 暂时not 因为还没学</p>\n</li>\n<li>\n<p>Out:<code>? Use ESLint to lint your code? (Y/n) </code> //对js的限制 规范代码 if不规范会报错</p>\n<p>In   :<code>y</code></p>\n<p>Out:<code>Standard (https://github.com/standard/standard) Airbnb (https://github.com/airbnb/javascript) none (configure it yourself)</code> //哪个人的规范</p>\n<p>In   : //暂时选标准</p>\n</li>\n<li>\n<p>Out:<code>? Set up unit tests (Y/n) </code>  //单元测试 用的少 n</p>\n</li>\n<li>\n<p>Out:<code>? Setup e2e tests with Nightwatch? (Y/n) </code> //e to e -&gt;end to end 端到端  n</p>\n</li>\n<li>\n<p>Out:<code>? Should we run npm install for you after the project has been created? (recommended) (Use arrow keys)</code></p>\n<p><code>Yes, use NPM Yes, use Yarn No, I will handle that myself </code>  //使用 npm / yarn</p>\n<p>In  : <code>npm</code></p>\n</li>\n</ol>\n<img src='https://s1.328888.xyz/2022/04/09/Xaimv.jpg'>\n<h3 id=\"1.6-vuecli-cli2目录的解析.\">1.6 vuecli-CLI2目录的解析.<a title=\"#1.6-vuecli-cli2目录的解析.\" href=\"#1.6-vuecli-cli2目录的解析.\"></a></h3>\n<ul>\n<li>node test.js 命令 可以直接在终端输出 控制台的内容</li>\n</ul>\n<img src='https://s1.328888.xyz/2022/04/09/Xaro0.jpg'>\n<h2 id=\"2.eslint规范和runtime-compiler/only区别\">2.ESLint规范和runtime compiler/only区别<a title=\"#2.eslint规范和runtime-compiler/only区别\" href=\"#2.eslint规范和runtime-compiler/only区别\"></a></h2>\n<h3 id=\"2.1-eslint\">2.1 eslint<a title=\"#2.1-eslint\" href=\"#2.1-eslint\"></a></h3>\n<ul>\n<li>\n<p>开了两个项目 01runtimecompiler 装了eslint   02runtimeonly 没装eslint</p>\n<blockquote>\n<p>eslint 有很多奇奇怪怪的标准  保存就会显示报错信息</p>\n</blockquote>\n<blockquote>\n<p>选了后 想关掉eslint ：congif-&gt;index.js-&gt; 26 行的 useEslint 改成 false 然后编译即可</p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"2.2-runtime-compiler和only的区别（p96）\">2.2 runtime compiler和only的区别（p96）<a title=\"#2.2-runtime-compiler和only的区别（p96）\" href=\"#2.2-runtime-compiler和only的区别（p96）\"></a></h3>\n<ol>\n<li>\n<p>区别只在main.js里</p>\n<ul>\n<li>\n<p>runtime compiler：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"property\">config</span>.<span class=\"property\">productionTip</span> = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* eslint-disable no-new */</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">components</span>: &#123; <span class=\"title class_\">App</span> &#125;,</span><br><span class=\"line\">  <span class=\"attr\">template</span>: <span class=\"string\">&#x27;&lt;App/&gt;&#x27;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n<li>\n<p>runtime only：</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">Vue</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title class_\">Vue</span>.<span class=\"property\">config</span>.<span class=\"property\">productionTip</span> = <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">/* eslint-disable no-new */</span></span><br><span class=\"line\"><span class=\"keyword\">new</span> <span class=\"title class_\">Vue</span>(&#123;</span><br><span class=\"line\">  <span class=\"attr\">el</span>: <span class=\"string\">&#x27;#app&#x27;</span>,</span><br><span class=\"line\">  <span class=\"attr\">render</span>: <span class=\"function\"><span class=\"params\">h</span> =&gt;</span> <span class=\"title function_\">h</span>(<span class=\"title class_\">App</span>) <span class=\"comment\">// 相当于</span></span><br><span class=\"line\">    <span class=\"comment\">//render:function(h)&#123;return h(App)&#125;</span></span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li>\n<p>vue运行过程</p>\n<img src='https://s1.328888.xyz/2022/04/09/XaA7F.png' style=\"zoom:50%;\" >\n</li>\n<li>\n<p>对比：</p>\n<ul>\n<li>\n<p>runtime-compiler ：</p>\n<blockquote>\n<p>template -&gt; ast  -&gt; render -&gt; vdom -&gt; UI</p>\n</blockquote>\n</li>\n<li>\n<p>runtime-only（性能更高，代码量更少）</p>\n<blockquote>\n<p>render -&gt; vdom -&gt;UI</p>\n</blockquote>\n</li>\n<li>\n<p>所以尽量使用 runtime-only</p>\n</li>\n</ul>\n</li>\n<li>\n<p>render 函数 和 createElement函数</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//runtime-compiler</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">render</span>: <span class=\"keyword\">function</span>(<span class=\"params\">createElement</span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">//1.普通用法： createElement(&#x27;标签&#x27;,&#123;标签的属性&#125;,[&#x27;&#x27;]) </span></span><br><span class=\"line\">        <span class=\"comment\">//返回的东西 会覆盖 #app的内容</span></span><br><span class=\"line\">        <span class=\"comment\">// return createElement(&#x27;h2&#x27;, &#123; class: &#x27;box&#x27; &#125;, [&#x27;hello&#x27;]);</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//2.传入组件对象</span></span><br><span class=\"line\">        <span class=\"comment\">//这样的话 就是直接使用render函数 省去了前两步内容 效率更高</span></span><br><span class=\"line\">        <span class=\"comment\">// return createElement(cpn);</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"title function_\">createElement</span>(<span class=\"title class_\">App</span>);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<ul>\n<li>\n<p>在runtime-only main.js 里 App 已经没有包含 template 了</p>\n<blockquote>\n<p>.vue 文件中的template是由 vue-template-compiler ——将.vue文件的template解析成render函数</p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<p>总结：</p>\n<ul>\n<li>如果之后的开发中 依然使用template，就需要选择runtime-compiler</li>\n<li>如果使用的是.vue文件 就可以选择runtime-only</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"3.vue-cli3(p97-)\">3.Vue CLI3(p97-)<a title=\"#3.vue-cli3(p97-)\" href=\"#3.vue-cli3(p97-)\"></a></h2>\n<h3 id=\"3.1-vue-cli-3-与-2-的区别\">3.1 vue-cli 3 与 2 的区别<a title=\"#3.1-vue-cli-3-与-2-的区别\" href=\"#3.1-vue-cli-3-与-2-的区别\"></a></h3>\n<ul>\n<li>vue-cli 3 是基于webpack 4 打造的，vue-cli 2 还是 webpack 3</li>\n<li>vue-cli 3 的设计是‘0配置’ ，移除的配置文件根目录下的 build和config等目录</li>\n<li>vue-cli 3 提供了vue ui 命令，提供了可视化配置，更加人性化</li>\n<li>移除了static文件夹，新增了public文件夹，并且index.html移动到public中</li>\n</ul>\n<h3 id=\"3.2-创建项目\">3.2 创建项目<a title=\"#3.2-创建项目\" href=\"#3.2-创建项目\"></a></h3>\n<p>In：<code>vue create 03vuecli3test </code></p>\n<p>Out：<code>Vue CLI v4.5.12</code><br>\n<code>? Please pick a preset: (Use arrow keys)</code>   //选择配置<br>\n<code>&gt;Default ([Vue 2] babel, eslint)  //默认2 Default (Vue 3 Preview) ([Vue 3] babel, eslint) //默认3 Manually select features</code>  //手动  √</p>\n<p>Out：  //按空格是 选择 / 取消</p>\n<p><code>(*) Choose Vue version  //后面选3.x  (*) Babel  ( ) TypeScript  ( ) Progressive Web App (PWA) Support  //先进app 可以缓存很多东西 也有推送通知  ( ) Router  ( ) Vuex  ( ) CSS Pre-processors  //css预处理器 if用less什么的就可以选  (*) Linter / Formatter   //eslint  ( ) Unit Testing   //测试  ( ) E2E Testing</code>   //测试</p>\n<p>Out：<code>? Where do you prefer placing config for Babel, ESLint, etc.? (Use arrow keys) </code></p>\n<p><code>In dedicated config files In package.json</code>  //配置文件的存放位置  独立文件 /pack.json  选单独的</p>\n<p>Out：<code>? Save this as a preset for future projects? (y/N)</code> //是否保存配置 会添加到第1个out  y</p>\n<blockquote>\n<p>如果想删掉 在 users/lsy/.vuerc   里面有presets 对象 然后删掉里面的 值就可以了</p>\n</blockquote>\n<p>Out：<code>? Save preset as: </code> //保存的名字  coedrwhy</p>\n<h3 id=\"3.3-跑项目\">3.3 跑项目<a title=\"#3.3-跑项目\" href=\"#3.3-跑项目\"></a></h3>\n<h4 id=\"3.3.1-cli-2\">3.3.1 cli 2<a title=\"#3.3.1-cli-2\" href=\"#3.3.1-cli-2\"></a></h4>\n<img src='https://s1.328888.xyz/2022/04/09/XaHJy.png'>\n<img src='https://s1.328888.xyz/2022/04/09/XaqWk.png'>\n<h4 id=\"3.3.2-cli3\">3.3.2 cli3<a title=\"#3.3.2-cli3\" href=\"#3.3.2-cli3\"></a></h4>\n<p>看package.json  的scripts的东西</p>\n<p>里面是 serve   &amp; build</p>\n<p>所以是 npm run serve 开发/ build 发布</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> &#123; createApp &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> <span class=\"title class_\">App</span> <span class=\"keyword\">from</span> <span class=\"string\">&#x27;./App.vue&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_\">createApp</span>(<span class=\"title class_\">App</span>).<span class=\"title function_\">mount</span>(<span class=\"string\">&#x27;#app&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//相当于 </span></span><br><span class=\"line\"><span class=\"comment\">// new Vue(&#123;</span></span><br><span class=\"line\"><span class=\"comment\">//     el: &quot;#app&quot;,</span></span><br><span class=\"line\"><span class=\"comment\">//     render: function(h) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">//         return h(App)</span></span><br><span class=\"line\"><span class=\"comment\">//     &#125;</span></span><br><span class=\"line\"><span class=\"comment\">// &#125;)</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"3.4-vue-cli3配置文件的查看和修改\">3.4 Vue-Cli3配置文件的查看和修改<a title=\"#3.4-vue-cli3配置文件的查看和修改\" href=\"#3.4-vue-cli3配置文件的查看和修改\"></a></h3>\n<ul>\n<li>\n<p>UI方向的配置</p>\n<ul>\n<li>启动配置服务器：vue ui  //启动本地服务器 不用进入哪个地址</li>\n<li>导入 刚建的文件夹</li>\n<li>左2 插件 左3 依赖 左4 配置 可以改的 左5 任务 可以各种运行</li>\n</ul>\n</li>\n<li>\n<p>src+文件 vue.config.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable language_\">module</span>.<span class=\"property\">exports</span>=&#123;&#125;   <span class=\"comment\">//会跟其他的配置文件合并一起的 放独有的配置</span></span><br></pre></td></tr></table></figure>\n</li>\n</ul>\n<h2 id=\"4.箭头函数的使用和this的指向问题(p99)\">4.箭头函数的使用和this的指向问题(p99)<a title=\"#4.箭头函数的使用和this的指向问题(p99)\" href=\"#4.箭头函数的使用和this的指向问题(p99)\"></a></h2>\n<h3 id=\"4.1-基本使用\">4.1 基本使用<a title=\"#4.1-基本使用\" href=\"#4.1-基本使用\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.定义函数的方式：function</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> aaa = <span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//2.对象字面量中定义函数</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj = &#123;</span><br><span class=\"line\">    <span class=\"attr\">bbb</span>:<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"title function_\">bbb</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\">//3.ES6中的箭头函数</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">ccc</span> = (<span class=\"params\">参数列表</span>) =&gt;&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">aaa</span> = (<span class=\"params\"></span>) =&gt;&#123;</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"4.2-箭头函数参数和返回值\">4.2 箭头函数参数和返回值<a title=\"#4.2-箭头函数参数和返回值\" href=\"#4.2-箭头函数参数和返回值\"></a></h3>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//1.参数问题</span></span><br><span class=\"line\"><span class=\"comment\">//1.1放入两个参数</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">sum</span> =(<span class=\"params\">num1,num2</span>) =&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num1+num2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//1.2 放一个参数</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">power</span> = (<span class=\"params\">num</span>) =&gt;&#123;  <span class=\"comment\">//括号可以省略</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> num*num;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.返回值</span></span><br><span class=\"line\"><span class=\"comment\">//2.1 函数代码块中有多行代码</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">test</span> = (<span class=\"params\"></span>) =&gt;&#123;</span><br><span class=\"line\">    <span class=\"comment\">//1.打印Hello World</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello World&#x27;</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"comment\">//2.打印Hello Vue</span></span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello Vue&#x27;</span>);</span><br><span class=\"line\">    </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//2.2 函数代码块中只有一行代码</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">mul</span> = (<span class=\"params\">num1,num2</span>) =&gt;&#123;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> num1+num2;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//等同于</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">mul2</span> = (<span class=\"params\">num1,num2</span>) =&gt; num1*num2</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//无返回值时 自动将结果作为返回值 给demo</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">demo</span> = (<span class=\"params\"></span>) =&gt; <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"string\">&#x27;Hello vue&#x27;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"4.3-箭头函数的this的使用\">4.3 箭头函数的this的使用<a title=\"#4.3-箭头函数的this的使用\" href=\"#4.3-箭头函数的this的使用\"></a></h3>\n<ul>\n<li>使用箭头函数多：当准备一个函数作为参数传给另一个函数的时候</li>\n</ul>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>);  <span class=\"comment\">//window</span></span><br><span class=\"line\">&#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//window</span></span><br><span class=\"line\">&#125;,<span class=\"number\">1000</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//结论：箭头函数中this引用的就是最近作用域中的this</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj =&#123;</span><br><span class=\"line\">    <span class=\"title function_\">aaa</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//window</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//obj对象</span></span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> obj =&#123;</span><br><span class=\"line\">    <span class=\"title function_\">aaa</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">            <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//window</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//window</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">            <span class=\"built_in\">setTimeout</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//window</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"built_in\">setTimeout</span>(<span class=\"function\">()=&gt;</span>&#123;</span><br><span class=\"line\">                <span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(<span class=\"variable language_\">this</span>); <span class=\"comment\">//obj</span></span><br><span class=\"line\">            &#125;)</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n","prev":{"title":"06 vue-router","link":"learningNotes/vue/vue/06 vue-route"},"next":{"title":"04 vue模块化开发","link":"learningNotes/vue/vue/04模块化开发"},"plink":"https://shylees.github.io/learningNotes/vue/vue/05Vue CLI/","toc":[{"id":"1.vue-cli介绍和安装","title":"1.Vue CLI介绍和安装","index":"1","children":[{"id":"1.1-cli-是什么意思？","title":"1.1 CLI 是什么意思？","index":"1.1"},{"id":"1.2-vue-cli使用前提---node","title":"1.2 Vue CLI使用前提 - Node","index":"1.2"},{"id":"1.3-vue-cli使用前提---webpack","title":"1.3 Vue CLI使用前提 - Webpack","index":"1.3"},{"id":"1.4-vue-cli的使用","title":"1.4 Vue CLI的使用","index":"1.4"},{"id":"1.5-vuecli-cli2初始化项目过程","title":"1.5 vuecli-CLI2初始化项目过程","index":"1.5"},{"id":"1.6-vuecli-cli2目录的解析.","title":"1.6 vuecli-CLI2目录的解析.","index":"1.6"}]},{"id":"2.eslint规范和runtime-compiler/only区别","title":"2.ESLint规范和runtime compiler&#x2F;only区别","index":"2","children":[{"id":"2.1-eslint","title":"2.1 eslint","index":"2.1"},{"id":"2.2-runtime-compiler和only的区别（p96）","title":"2.2 runtime compiler和only的区别（p96）","index":"2.2"}]},{"id":"3.vue-cli3(p97-)","title":"3.Vue CLI3(p97-)","index":"3","children":[{"id":"3.1-vue-cli-3-与-2-的区别","title":"3.1 vue-cli 3 与 2 的区别","index":"3.1"},{"id":"3.2-创建项目","title":"3.2 创建项目","index":"3.2"},{"id":"3.3-跑项目","title":"3.3 跑项目","index":"3.3"},{"id":"3.4-vue-cli3配置文件的查看和修改","title":"3.4 Vue-Cli3配置文件的查看和修改","index":"3.4"}]},{"id":"4.箭头函数的使用和this的指向问题(p99)","title":"4.箭头函数的使用和this的指向问题(p99)","index":"4","children":[{"id":"4.1-基本使用","title":"4.1 基本使用","index":"4.1"},{"id":"4.2-箭头函数参数和返回值","title":"4.2 箭头函数参数和返回值","index":"4.2"},{"id":"4.3-箭头函数的this的使用","title":"4.3 箭头函数的this的使用","index":"4.3"}]}],"copyright":{"custom":"不许转载😡！！！"},"reading_time":"1981 words in 10 min"}