{"title":"js节点操作","date":"2020-05-16T16:00:00.000Z","date_formatted":{"ll":"May 17, 2020","L":"05/17/2020","MM-DD":"05-17"},"link":"learningNotes/js/04节点操作","tags":["js"],"categories":["learningNotes"],"updated":"2020-05-16T16:00:00.000Z","content":"<blockquote>\n<p>为什么学节点操作：</p>\n<p>通常获取元素是<br>\n​\t\t利用dom提供的方法获取元素：document. getElementById()…   //繁琐逻辑性不强<br>\n​\t\t利用节点层级关系获取元素：父子兄节点关系   //逻辑性强</p>\n</blockquote>\n<h3 id=\"2.节点概述\">2.节点概述<a title=\"#2.节点概述\" href=\"#2.节点概述\"></a></h3>\n<p>便签、属性、文本、注释等都是节点<br>\n一般地，节点至少有nodeType（节点类型）、nodeName(节点名称)、nodeValue（节点值）</p>\n<ul>\n<li>元素节点   nodeType=1</li>\n<li>属性节点   nodeType=2</li>\n<li>文本节点   nodeType=3（文本节点包含文字、空格、换行等）</li>\n</ul>\n<p>主要操作元素节点</p>\n<h3 id=\"3.节点层级\">3.节点层级<a title=\"#3.节点层级\" href=\"#3.节点层级\"></a></h3>\n<ol>\n<li>\n<p>父级节点：<code>parentNode</code></p>\n<p>得到的是离元素最近的父级节点（亲爸爸）   找不到就返回为null</p>\n</li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div <span class=\"keyword\">class</span>=<span class=\"string\">&quot;box&quot;</span>&gt;</span><br><span class=\"line\">\t<span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">sapn</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;erweima&quot;</span>&gt;</span>×<span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span></span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\"><span class=\"keyword\">var</span>  erweima=<span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;.erweima&#x27;</span>);</span><br><span class=\"line\"><span class=\"comment\">//var box=document.querySelector(&#x27;.box&#x27;);</span></span><br><span class=\"line\">          <span class=\"comment\">//=erweima.parentNode;</span></span><br><span class=\"line\"><span class=\"comment\">//console.log(box)=console.log(erweima.parentNode)；</span></span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>\n<p>子节点：</p>\n<ul>\n<li><code>parentNode.childNodes(标准)</code>  //返回所有子节点</li>\n<li><code>parentnode.children(非标准) </code>  //只返回元素节点     是一个只读属性</li>\n</ul>\n<p>兼容性ie9:</p>\n<ul>\n<li><code>parentNode.firstChild | parentNode.lastChild </code>    //返回第一个/最后一个子节点</li>\n<li><code>parentNode.firstElementChild | parentNode.lastElementChild</code>  //返回第一/最后一个元素节点</li>\n<li><code>parentNode.children[0]  | parentNode.children[parentNode.children.length-1]</code>   //实际开发常用</li>\n</ul>\n</li>\n<li>\n<p>兄弟节点</p>\n<ul>\n<li><code>node.nextSibling</code> 返回下一个兄弟节点   包含所有节点</li>\n<li><code>node.previousSibling</code>   返回当前元素上一个兄弟节点   包含所有节点</li>\n</ul>\n<p>兼容性ie9:</p>\n<ul>\n<li><code>node.nextElementSibling</code>   返回当前元素下一个兄弟元素节点</li>\n<li><code>node.previousElementSibling</code>  返回当前元素上一个兄弟元素节点</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"4.-创建节点\">4. 创建节点<a title=\"#4.-创建节点\" href=\"#4.-创建节点\"></a></h3>\n<p><code>document.createElement('tagName')  </code></p>\n<p>方法创建由tagName指定的HTML元素，因为这些元素原先不存在，是根据我们的需求动态生成的，所以我们也称为动态创建元素节点</p>\n<h3 id=\"5.添加节点\">5.添加节点<a title=\"#5.添加节点\" href=\"#5.添加节点\"></a></h3>\n<ul>\n<li>\n<p><code>node.appendChild(child)</code>   node父级     child子级</p>\n<p>将一个节点添加到指定父节点的子节点的子节点列表末尾，类似于css里面的after伪元素</p>\n</li>\n<li>\n<p>node.insertBefore(child,指定元素)</p>\n<p>方法将一个节点添加到父子点的指定子节点前面，类似于css里面的before伪元素</p>\n</li>\n</ul>\n<h3 id=\"6.删除节点\">6.删除节点<a title=\"#6.删除节点\" href=\"#6.删除节点\"></a></h3>\n<ul>\n<li>\n<p><code>node.removeChild(child) </code> 从dom中删除一个字节点  返回删除的节点</p>\n<blockquote>\n<p>阻止链接跳转需要添加javascript:void(0);或者javascript: ;</p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"7.复制节点\">7.复制节点<a title=\"#7.复制节点\" href=\"#7.复制节点\"></a></h3>\n<ul>\n<li>\n<p><code>node.cloneNode()</code> 返回调用改方法节点的一个副本</p>\n<p>括号参数为空/false  为浅拷贝  只复制节点本身  不克隆里面的子节点（文本）</p>\n</li>\n<li>\n<p><code>node.cloneNode(true)</code></p>\n<p>括号为true 深拷贝 复制标签    复制里面的内容</p>\n</li>\n</ul>\n<h3 id=\"8.三种动态创建元素的区别\">8.三种动态创建元素的区别<a title=\"#8.三种动态创建元素的区别\" href=\"#8.三种动态创建元素的区别\"></a></h3>\n<p>​\t1. <code>document.write()</code>   页面文档流加载完毕，使用  会使文档流重绘</p>\n<ol start=\"2\">\n<li><code>element.innerHTML </code></li>\n<li><code>document.createElement()</code></li>\n</ol>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 后两个在添加少数时无区别   但多个时</span></span><br><span class=\"line\"><span class=\"comment\">//1. innerHTML:                         3019ms</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> d1=+<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> str=<span class=\"string\">&quot;&quot;</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">1000</span>;i++)&#123;   <span class=\"comment\">//拼接</span></span><br><span class=\"line\">\t\t<span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">innerHTML</span>+=<span class=\"string\">&#x27;&lt;div  style=&quot;width:100px; height:2px; boder:1px solid blue;&quot;&gt;&#x27;</span>;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> d2=+<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(d2-d1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>();</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//document.createElement()  20+ms</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> d1=+<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">1000</span>;i++)&#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">var</span> div=<span class=\"variable language_\">document</span>.<span class=\"title function_\">createElement</span>(<span class=\"string\">&#x27;div&#x27;</span>);</span><br><span class=\"line\">\t\tdiv.<span class=\"property\">style</span>.<span class=\"property\">width</span>=<span class=\"string\">&#x27;100px&#x27;</span>;</span><br><span class=\"line\">\t\tdiv.<span class=\"property\">style</span>.<span class=\"property\">height</span>=<span class=\"string\">&#x27;2px&#x27;</span>;</span><br><span class=\"line\">\t\tdiv.<span class=\"property\">style</span>.<span class=\"property\">border</span>=<span class=\"string\">&#x27;1px solid red&#x27;</span>;</span><br><span class=\"line\">\t\t<span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"title function_\">appendChild</span>(div);    <span class=\"comment\">//创建  增加</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> d2=+<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(d2-d1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>();</span><br><span class=\"line\"><span class=\"comment\">//3. innerHTML用数组   10-ms</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">fn</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> d1=+<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">var</span> array=[ ];</span><br><span class=\"line\">\t<span class=\"keyword\">for</span>(<span class=\"keyword\">var</span> i=<span class=\"number\">0</span>;i&lt;<span class=\"number\">1000</span>;i++)&#123;   <span class=\"comment\">//拼接</span></span><br><span class=\"line\">\t\tarray.<span class=\"title function_\">push</span>(<span class=\"string\">&#x27;&lt;div  style=&quot;width:100px; height:2px; boder:1px solid blue;&quot;&gt;&#x27;</span>);</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">\t<span class=\"variable language_\">document</span>.<span class=\"property\">body</span>.<span class=\"property\">innerHTML</span>=array.<span class=\"title function_\">join</span>(<span class=\"string\">&#x27;&#x27;</span>);</span><br><span class=\"line\">\t<span class=\"keyword\">var</span> d2=+<span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">\t</span><br><span class=\"line\">\t<span class=\"variable language_\">console</span>.<span class=\"title function_\">log</span>(d2-d1);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"title function_\">fn</span>();</span><br></pre></td></tr></table></figure>\n","prev":{"title":"js获取元素","link":"learningNotes/js/05DOM事件流"},"next":{"title":"js事件操作","link":"learningNotes/js/03事件操作"},"plink":"https://shylees.github.io/learningNotes/js/04节点操作/","toc":[{"id":"2.节点概述","title":"2.节点概述","index":"1"},{"id":"3.节点层级","title":"3.节点层级","index":"2"},{"id":"4.-创建节点","title":"4. 创建节点","index":"3"},{"id":"5.添加节点","title":"5.添加节点","index":"4"},{"id":"6.删除节点","title":"6.删除节点","index":"5"},{"id":"7.复制节点","title":"7.复制节点","index":"6"},{"id":"8.三种动态创建元素的区别","title":"8.三种动态创建元素的区别","index":"7"}],"copyright":{"custom":"不许转载😡！！！"},"reading_time":"879 words in 4 min"}